<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="frmCalendarTest" classname="frmCalendarTest" left="0" top="0" width="540" height="758" titletext="New Form" onload="frmCalendarTest_onload">
    <Layouts>
      <Layout>
        <Edit id="edtYM" taborder="0" left="19" top="24" width="205" height="48"/>
        <Button id="btnPop" taborder="1" text="년월" left="237" top="24" width="103" height="47" onclick="btnPop_onclick"/>
        <Button id="Button00" taborder="2" text="Button00" left="122" top="120" width="202" height="58" onclick="Button00_onclick"/>
        <Button id="Button01" taborder="3" text="년도 목록 가져오기" onclick="Button01_onclick" left="56" top="268" width="346" height="78"/>
        <Combo id="cmbYear" taborder="4" innerdataset="ds_yearCombo" codecolumn="year" datacolumn="year" left="99" top="374" width="237" height="61"/>
        <Edit id="Edit00" taborder="5" left="56" top="469" width="249" height="51" value="20140101"/>
        <Button id="Button02" taborder="6" text="Button02" left="311" top="469" width="120" height="53" onclick="Button02_onclick"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_yearCombo" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="year" type="STRING" size="4"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[include "lib::lib_Date.xjs"

this.frmCalendarTest_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	var sYM = this.gfn_Today().toString().substr(0, 6);
	
	this.edtYM.set_value(sYM);
}

this.btnPop_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var objCalArg = this.edtYM.value;
	
	application.goMain.gfn_POP_create("PopCalMonth", "cmmn::frmCalMonth.xfdl", "fn_callbackPOP", this, objCalArg, "POPx", application.goMain.divBase);
	return false;
}

/** 
 * 팝업 callBack
 * @param  : popname - 팝업을 구분짓는 id
 rtn : 팝업이 닫히면서 전달된 값
 * @return : 없음
 */
this.fn_callbackPOP = function (popname, rtn)
{
	switch (popname)
	{
		case "PopCalMonth":				// 년월
			this.edtYM.set_value(rtn);
			break;
	}
}

this.Button00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var sDate;
	
//	this.alert(typeof(sDate));
	sDate = this.gfn_AddMonth(this.edtYM.value, -1);
	
	this.edtYM.set_value(sDate);
}

this.Button01_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.ds_yearCombo.copyData(this.gfn_getYearList(10));
}

this.Button02_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
//	this.gfn_GetDateMaskFormat = function (sDate, sMask, sDispSect)

	this.alert(this.gfn_GetDateMaskFormat(this.Edit00.text, "-", "1"));
}
]]></Script>
  </Form>
</FDL>
