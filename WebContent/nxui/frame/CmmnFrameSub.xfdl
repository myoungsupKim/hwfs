<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="CmmnFrameSub" classname="frameSub" left="0" top="0" width="540" height="833" titletext="Sub Frame" onload="CmmnFrameSub_onload">
    <Layouts>
      <Layout>
        <Div id="divTop" taborder="0" left="0" top="0" height="73" right="0" scrollbars="none"/>
        <Div id="divWork" taborder="1" left="0" top="73" right="0" bottom="0" async="true" scrollbars="autovert" ondragmove="divWork_ondragmove" ondrag="divWork_ondrag">
          <Layouts>
            <Layout/>
          </Layouts>
        </Div>
        <Button id="btnGoTopDiv" taborder="3" onclick="btnGoTopDiv_onclick" cssclass="btn_WF_Top" visible="false" left="464" right="21" bottom="33" height="55" escapebutton="false" style="background:white URL('theme://Image/btn_WF_Top.png') stretch left top;opacity:90;"/>
        <Button id="btnGoTop" taborder="4" onclick="btnGoTop_onclick" cssclass="btn_WF_Top" visible="false" right="21" bottom="33" width="55" height="55"/>
      </Layout>
    </Layouts>
    <Script type="xscript5.0"><![CDATA[//########################################################
// [프로젝트]		FC종합전산 모바일시스템 구축
// [시스템명]		공통 
// [부시스템명]	공통 - 서브
// [프로그램]		CmmnFrameSub.xfdl
// [설명]
// 		프로젝트 실행 서브 화면
// [작성자명] 		투비소프트
// [작성일자]		2015.01.12
// -----------------[수정이력]--------------------------
// 수정일자 : 수정자 : 수정내용
// 2015.01.12 : 김광호 : 신규생성.
//########################################################
this.CmmnFrameSub_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.divTop.set_url("frame::CmmnFrameTop.xfdl");
	this.divWork.set_url("");
	application.goTopMain = this;
	this.divWork.set_url(application.gv_formUrl);
	//this.Button00.bringToFront();
}


/** 
 * 뒤로 클릭시
 * @param  : 없음
 * @return : true, false
 */
this.fn_back = function ()
{
	this.sendToBack();
	this.set_visible(false);
	
}

// 업무영역의 스크롤바 이벤트
this.divWork_onvscroll = function(obj:Div, e:nexacro.ScrollEventInfo)
{
	trace("v스크롤 이벤트 발생");
	if (e.pos != 0)
	{
		this.btnGoTop.set_visible(true);
	}
	else
	{
		this.btnGoTop.set_visible(false);
	}
// 	this.divWork.hscrollbar.set_pos();
// 	this.divWork.hscrollbar.pos = e.pos;
}

// 공통 '맨위로'버튼 동작
this.btnGoTop_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.divWork.vscrollbar.set_pos(0);
	this.btnGoTop.set_visible(false);
	// bottom 컨트롤
	this.parent.divBottom.set_visible(true);
	this.parent.divMain.set_height(833);
}

this.btnGoTopDiv_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	// this.divWork.vscrollbar.set_pos(0);
	// div이름이 뭔지 모르므로 해당 화면의 함수를 실행
	this.divWork.fn_setDivScrollbar();
	this.btnGoTop.set_visible(false);
	// bottom 컨트롤
	this.parent.divBottom.set_visible(true);
	this.parent.divMain.set_height(833);
}

this.divWork_ondragmove = function(obj:Div, e:nexacro.DragEventInfo)
{
	this.btnGoTop.set_left(e.canvasX);
	this.btnGoTopDiv.set_left(e.canvasX);
}

this.divWork_ondrag = function(obj:Div, e:nexacro.DragEventInfo)
{
	return true;
}
]]></Script>
  </Form>
</FDL>
