<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="FSR90020E" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="업장표준레시피관리" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="30" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" positionstep="0"/>
        <Static id="Static42" text="표준레시피" class="sta_WF_Title01" position="absolute 0 111 450 129" anchor="left top" positionstep="0"/>
        <Static id="Static43" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 97 500 110" positionstep="0"/>
        <Static id="Static44" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 124 500 129" anchor="left top" positionstep="0"/>
        <Static id="Static57" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1078 97 1237 102" anchor="top right" positionstep="0"/>
        <MPFileDialog id="FileDialog" taborder="48" visible="false" position="absolute 1264 38 1288 62" FileName="" FileNameList="" FilePath="" UserData="" MultiSelect="false" Filter="ALL File(*.*)|*.*" FilterIndex="0" AppendExtDefault="false" Type="Open" FileSize=""/>
        <MPFileDialog id="FileDialogSave" taborder="49" visible="false" position="absolute 1288 38 1312 62" FileName="" FileNameList="" FilePath="" UserData="" MultiSelect="false" Filter="ALL File(*.*)|*.*" FilterIndex="0" AppendExtDefault="false" Type="Open" FileSize=""/>
        <MPFile id="file" taborder="50" visible="false" position="absolute 1288 62 1312 86" FileName="" UserData=""/>
        <Static id="Static04" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 97" anchor="left top right"/>
        <Static id="Static19" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 87 981 97" anchor="left top"/>
        <Static id="Static29" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 40 15 87" anchor="left top"/>
        <Static id="Static39" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 30 1237 40" anchor="left top"/>
        <Static id="Static40" text="사업장" class="sta_WFSA_label" position="absolute 15 41 77 62" anchor="left top"/>
        <Static id="Static41" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 309 40 339 87" anchor="left top"/>
        <Static id="Static45" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 71 40 81 87" anchor="left top"/>
        <Grid id="grd_stdRecipeList" taborder="10" useinputpanel="false" position="absolute 0 129 613 275" autofittype="col" binddataset="ds_stdRecipeList" anchor="left top" oncelldblclick="grd_stdRecipeList_oncelldblclick" class="grd_WF_LineNone">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="26"/>
                <Column size="80"/>
                <Column size="180"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell class="head_Excel"/>
                <Cell col="1" text="코드"/>
                <Cell col="2" text="레시피명"/>
                <Cell col="3" text="원가"/>
                <Cell col="4" text="레시피분류"/>
                <Cell col="5" text="조리법유형"/>
              </Band>
              <Band id="body">
                <Cell text="expr:rowidx+1"/>
                <Cell col="1" displaytype="normal" text="bind:RECIPE_CD" calendardisplaynulltype="none"/>
                <Cell col="2" displaytype="text" text="bind:RECIPE_NAME"/>
                <Cell col="3" displaytype="number" style="align: ;" text="bind:RECIPE_COST"/>
                <Cell col="4" displaytype="text" style="align:center;" text="bind:RECIPE_CLASS_NAME"/>
                <Cell col="5" displaytype="normal" text="bind:CUISINE_NAME" calendardisplaynulltype="none"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static51" text="W05." visible="false" position="absolute 15 61 984 66" style="background:#ff000055;align:center middle;"/>
        <Combo id="cbo_upHallClass" taborder="2" innerdataset="@ds_cboUpHallClass" codecolumn="HALL_CLASS" datacolumn="HALL_CLASS_NAME" displayrowcount="10" position="absolute 419 40 571 61" tooltiptext="식당군" class="cmb_WF_Essential" onitemchanged="cbo_upHallClass_onitemchanged"/>
        <Static id="Static00" text="식당군" class="sta_WFSA_label" position="absolute 339 41 401 62" anchor="left top"/>
        <Static id="Static01" text="레시피유형" class="sta_WFSA_label" position="absolute 339 67 417 88" anchor="left top"/>
        <Combo id="cbo_sRecipeType" taborder="7" innerdataset="@ds_cboRecipeType" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="10" position="absolute 419 66 571 87" tooltiptext="레시피유형" onitemchanged="cbo_recipe_type_onitemchanged"/>
        <Static id="Static50" text="W10" visible="false" position="absolute 671 40 681 87" style="background:#ff000055;align:center middle;"/>
        <Combo id="cbo_sRecipeClass" taborder="3" innerdataset="@ds_cboRecipeClass" codecolumn="RECIPE_CLASS" datacolumn="RECIPE_CLASS_NAME" displayrowcount="10" position="absolute 681 40 833 61" tooltiptext="레시피분류(업장)"/>
        <Static id="Static02" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 571 40 601 87" anchor="left top"/>
        <Static id="Static03" text="W10" visible="false" position="absolute 409 40 419 87" style="background:#ff000055;align:center middle;"/>
        <Static id="Static05" text="레시피분류" class="sta_WFSA_label" position="absolute 601 41 679 62" anchor="left top"/>
        <Grid id="grd_upjangRecipeList" taborder="54" binddataset="ds_upjangRecipeList" useinputpanel="false" autofittype="col" position="absolute 623 129 1237 275" anchor="left top right" oncelldblclick="grd_upjangRecipeList_oncelldblclick" class="grd_WF_LineNone">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="26"/>
                <Column size="80"/>
                <Column size="180"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell class="head_Excel"/>
                <Cell col="1" text="코드"/>
                <Cell col="2" text="레시피명"/>
                <Cell col="3" text="원가"/>
                <Cell col="4" text="레시피분류"/>
                <Cell col="5" text="조리법유형"/>
              </Band>
              <Band id="body">
                <Cell text="expr:rowidx+1"/>
                <Cell col="1" displaytype="normal" text="bind:RECIPE_CD" calendardisplaynulltype="none"/>
                <Cell col="2" displaytype="text" text="bind:RECIPE_NAME"/>
                <Cell col="3" displaytype="number" style="align: ;" text="bind:RECIPE_COST"/>
                <Cell col="4" displaytype="text" style="align:center;" text="bind:RECIPE_CLASS_NAME"/>
                <Cell col="5" displaytype="normal" text="bind:CUISINE_NAME" calendardisplaynulltype="none"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static07" text="업장표준레시피" class="sta_WF_Title01" position="absolute 623 111 1073 129" anchor="left top"/>
        <Static id="Static08" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 623 97 971 110"/>
        <Static id="Static09" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 623 124 1123 129" anchor="left top"/>
        <Static id="Static28" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 613 97 623 275"/>
        <Static id="Static10" text="레시피명" class="sta_WFSA_label" position="absolute 14 67 92 88" anchor="left top"/>
        <Edit id="edt_sRecipeName" taborder="4" position="absolute 81 66 309 87" tooltiptext="레시피명" onkeydown="edt_sRecipeName_onkeydown" imemode="hangul"/>
        <Static id="Static11" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 833 40 863 87" anchor="left top"/>
        <Static id="Static12" text="조리법유형" class="sta_WFSA_label" position="absolute 601 67 679 88" anchor="left top"/>
        <Combo id="cbo_sCuisineType" taborder="9" innerdataset="@ds_cboCuisineType" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="10" onitemchanged="cbo_recipe_type_OnChanged" position="absolute 681 66 833 87" tooltiptext="조리법유형"/>
        <CheckBox id="chk_stdRecipe" taborder="5" tabstop="false" text="표준레시피조회" position="absolute 863 40 983 61"/>
        <CheckBox id="chk_upjangRecipe" taborder="6" tabstop="false" text="업장표준레시피" value="true" position="absolute 863 66 983 87" enable="true"/>
        <PopupDiv id="pdiv_imgZoom" scrollbars="none" visible="false" position="absolute 868 426 1247 685" taborder="8">
          <Layouts>
            <Layout>
              <ImageViewer id="Image0" taborder="0" stretch="fit" onclick="pdiv_imgZoom_Image0_OnClick" position="absolute 0 0 369 255"/>
            </Layout>
          </Layouts>
        </PopupDiv>
        <Static id="Static13" text="업장레시피명" class="sta_WFDA_Label01" position="absolute 172 285 274 312" anchor="left top"/>
        <Static id="Static30" text="기본정보" class="sta_WFDA_Label03" position="absolute 129 285 173 364" anchor="left top" style="align:left middle;font:Gulim,9,bold;"/>
        <Static id="Static14" text="레시피분류" class="sta_WFDA_Label01" position="absolute 172 311 274 338" anchor="left top"/>
        <Static id="Static15" text="주재료군" class="sta_WFDA_Label01" position="absolute 172 337 274 364" anchor="left top"/>
        <Static id="Static16" class="sta_WFDA_Labelbg" position="absolute 273 285 1237 312" anchor="left top right"/>
        <Static id="Static17" class="sta_WFDA_Labelbg" position="absolute 273 337 1237 364" anchor="left top right"/>
        <Static id="Static18" class="sta_WFDA_Labelbg" position="absolute 273 311 1237 338" anchor="left top right"/>
        <Static id="Static20" class="sta_WFDA_Labelbg" position="absolute 273 363 1237 390" anchor="left top right"/>
        <Static id="Static21" class="sta_WFDA_Labelbg" position="absolute 0 389 1237 416" anchor="left top right"/>
        <Static id="Static27" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 275 1237 285" anchor="left top"/>
        <Edit id="edt_recipeCd" taborder="60" readonly="true" position="absolute 276 288 362 309" anchor="left top" enable="true" style="color:red;font:Gulim,9,bold;"/>
        <Edit id="edt_recipeName" taborder="61" onkeydown="common_OnKeyDown" enable="true" position="absolute 364 288 599 309" anchor="left top" readonly="false" style="color:red;font:Gulim,9,bold;" imemode="hangul"/>
        <Static id="Static23" text="연관어(유사어)" class="sta_WFDA_Label01" position="absolute 673 337 802 364" anchor="left top"/>
        <Combo id="cbo_recipeClass" taborder="63" innerdataset="@ds_cboRecipeClass" codecolumn="RECIPE_CLASS" datacolumn="RECIPE_CLASS_NAME" onitemchanged="common_OnChanged" position="absolute 276 314 426 335" anchor="left top" enable="false"/>
        <Combo id="cbo_material" taborder="64" innerdataset="@ds_cboMaterial" codecolumn="CODE" datacolumn="CODE_NAME" onitemchanged="common_OnChanged" onkeydown="common_OnKeyDown" position="absolute 276 340 426 361" anchor="left top" enable="false"/>
        <Combo id="cbo_shape" taborder="65" innerdataset="@ds_cboShape" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 276 366 426 387" anchor="left top" enable="false"/>
        <Combo id="cbo_feel" taborder="66" innerdataset="@ds_cboFeel" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 276 392 426 413" anchor="left top" enable="false"/>
        <Combo id="cbo_color" taborder="67" innerdataset="@ds_cboColor" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 532 392 671 413" anchor="left top" enable="false"/>
        <Combo id="cbo_Taste" taborder="68" innerdataset="@ds_cboTaste" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 532 366 671 387" anchor="left top" enable="false"/>
        <Combo id="cbo_element" taborder="69" innerdataset="@ds_cboElement" codecolumn="CODE" datacolumn="CODE_NAME" onitemchanged="common_OnChanged" onkeydown="common_OnKeyDown" position="absolute 532 340 671 361" anchor="left top" enable="false"/>
        <Combo id="cbo_recipeType" taborder="70" innerdataset="@ds_cboRecipeType" codecolumn="CODE" datacolumn="CODE_NAME" onitemchanged="common_OnChanged" position="absolute 532 314 671 335" anchor="left top" enable="false"/>
        <Static id="Static22" text="레시피유형" class="sta_WFDA_Label01" position="absolute 428 311 530 338" anchor="left top"/>
        <Static id="Static24" text="대표영양성분" class="sta_WFDA_Label01" position="absolute 428 337 530 364" anchor="left top"/>
        <Static id="Static25" text="맛" class="sta_WFDA_Label01" position="absolute 428 363 530 390" anchor="left top"/>
        <Static id="Static26" text="색" class="sta_WFDA_Label01" position="absolute 428 389 530 416" anchor="left top"/>
        <Static id="Static31" text="조리법유형" class="sta_WFDA_Label01" position="absolute 673 311 802 338" anchor="left top"/>
        <Static id="Static32" text="제공온도" class="sta_WFDA_Label01" position="absolute 716 363 802 390" anchor="left top"/>
        <Static id="Static33" text="중심온도체크" class="sta_WFDA_Label01" position="absolute 716 389 802 416" anchor="left top"/>
        <Static id="Static34" text="부가정보" class="sta_WFDA_Label03" position="absolute 940 285 986 364" anchor="left top" style="align:left middle;font:Gulim,9,bold;"/>
        <Combo id="cbo_cuisineType" taborder="71" innerdataset="@ds_cboCuisineType" codecolumn="CODE" datacolumn="CODE_NAME" onitemchanged="common_OnChanged" position="absolute 804 314 938 335" anchor="left top" enable="false"/>
        <Static id="Static35" text="제공정보" class="sta_WFDA_Label03" position="absolute 673 363 717 416" anchor="left top" style="align:left middle;font:Gulim,9,bold;"/>
        <Static id="Static36" text="찬기" class="sta_WFDA_Label01" position="absolute 914 389 986 416" anchor="left top"/>
        <ImageViewer id="img_recipe" taborder="72" image="URL('theme://convertImages/img_NoImageBig.png')" stretch="fit" onclick="Image0_OnClick" position="absolute 0 285 130 390" anchor="left top" onmouseleave="Image0_OnMouseOut" onloaderror="Image0_OnLoadError"/>
        <MaskEdit id="edt_cdate" taborder="75" tabstop="false" readonly="true" type="string" mask="@@@@-@@-@@" position="absolute 1079 288 1234 309" anchor="left top" style="align:center middle;"/>
        <Edit id="edt_sameWord" taborder="77" position="absolute 804 340 938 361" anchor="left top" enable="false"/>
        <Combo id="cbo_temper" taborder="78" innerdataset="@ds_cboTemper" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 804 366 912 387" anchor="left top" enable="false"/>
        <Combo id="cbo_coreTemper" taborder="79" innerdataset="@ds_cboCoreTemper" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 804 392 912 413" anchor="left top" enable="false"/>
        <Static id="Static37" text="최종수정일" class="sta_WFDA_Label01" position="absolute 985 285 1077 312" anchor="left top"/>
        <Static id="Static38" text="예상판매량" class="sta_WFDA_Label01" position="absolute 985 311 1077 338" anchor="left top"/>
        <Static id="Static46" text="판매가" class="sta_WFDA_Label01" position="absolute 985 337 1077 364" anchor="left top"/>
        <CheckBox id="chk_spring" taborder="80" text="봄" value="N" truevalue="Y" falsevalue="N" onkeydown="common_OnKeyDown" position="absolute 989 366 1026 387" anchor="left top" enable="false"/>
        <CheckBox id="chk_summer" taborder="81" text="여름" value="N" truevalue="Y" falsevalue="N" onkeydown="common_OnKeyDown" position="absolute 1037 366 1081 387" anchor="left top" enable="false"/>
        <CheckBox id="chk_autumn" taborder="82" text="가을" value="N" truevalue="Y" falsevalue="N" onkeydown="common_OnKeyDown" position="absolute 1092 366 1136 387" anchor="left top" enable="false"/>
        <CheckBox id="chk_winter" taborder="83" text="겨울" value="N" truevalue="Y" falsevalue="N" onkeydown="common_OnKeyDown" position="absolute 1147 366 1190 387" anchor="left top" enable="false"/>
        <Combo id="cbo_useTool" taborder="84" innerdataset="@ds_cboUseTool" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 988 392 1074 413" anchor="left top"/>
        <Static id="Static47" text="품질&#13;&#10;보증" class="sta_WFDA_Label03" position="absolute 129 363 173 416" anchor="left top" style="align:left middle;font:Gulim,9,bold;"/>
        <Static id="Static48" text="모양" class="sta_WFDA_Label01" position="absolute 172 363 274 390" anchor="left top"/>
        <Static id="Static49" text="질감" class="sta_WFDA_Label01" position="absolute 172 389 274 416" anchor="left top"/>
        <Static id="Static52" text="추천계절" class="sta_WFDA_Label01" position="absolute 914 363 986 390" anchor="left top"/>
        <Static id="Static53" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 416 1237 426" anchor="left top"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static54" text="선호도" class="sta_WFDA_Label01" position="absolute 1076 389 1138 416" anchor="left top"/>
        <Combo id="cbo_prefer" taborder="89" innerdataset="@ds_cboPrefer" codecolumn="CODE" datacolumn="CODE_NAME" onkeydown="common_OnKeyDown" position="absolute 1140 392 1234 413" anchor="left top"/>
        <MaskEdit id="edt_expectSaleQty" taborder="90" mask="#,##0" enable="false" position="absolute 1079 314 1234 335" anchor="left top"/>
        <MaskEdit id="edt_salePrice" taborder="91" mask="#,##0" enable="false" position="absolute 1079 340 1234 361" anchor="left top"/>
        <Button id="btn_newRecipeSearch" taborder="43" text="신규레시피조회" class="btn_WF_Custom" position="absolute 1128 40 1222 60" anchor="left top" onclick="btn_newRecipeSearch_onclick" tooltiptext="등록된 지 1달 이내의 표준레시피 입니다."/>
        <Static id="Static55" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1222 40 1237 88" anchor="left top"/>
        <Edit id="edt_recipeGubun" taborder="92" position="absolute 0 389 130 416" style="border:1 none #aaaaaaff ;color:crimson;align:center middle;font:Gulim,9,bold; :disabled {color:red;font:Gulim,9;}" enable="false" readonly="true"/>
        <UpjangSearchComponent id="edt_upjang" titletext="업장 검색용 Component" taborder="94" text="UpjangSearchComponent00" position="absolute 81 40 309 61" bindDataset="ds_cond" bindUpjangCodeColumn="UPJANG" bindUpjangNameColumn="UPJANGNM" eventBeforeTrigger="" eventAfterTrigger="fn_upjangUpHallClass" roleSetId="ScoAuthLevel01" class="edt_WF_Essential"/>
        <Static id="Static56" text="표준레시피명" class="sta_WFDA_Label01" position="absolute 601 285 703 312" anchor="left top"/>
        <Edit id="edt_recipeName00" taborder="95" imemode="hangul" onkeydown="common_OnKeyDown" position="absolute 705 288 938 309" anchor="left top" style="color:red;font:Gulim,9,bold; :disabled {color:blue;}" enable="false"/>
        <Tab id="Tab00" anchor="all" taborder="88" tabindex="0" scrollbars="autoboth" position="absolute 0 426 1237 710">
          <Tabpages>
            <Tabpage id="tabpage1" text="재료구성">
              <Layouts>
                <Layout>
                  <Static id="Static07" visible="false" position="absolute 0 0 10 256" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static01" visible="false" position="absolute 1225 0 1235 256" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static03" visible="false" position="absolute 10 246 1225 256" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static00" visible="false" position="absolute 10 0 1225 13" style="background:#ff000033;font:Dotum,8;"/>
                  <Grid id="grd_recipeItemList" taborder="7" binddataset="ds_recipeItemList" wheelscrollrow="1" autoenter="select" useinputpanel="false" cellsizingtype="both" autofittype="col" position="absolute 10 31 1225 246" anchor="all" tooltiptype="hover" onexpanddown="Tab00_tabpage1_grd_recipeItemList_onexpanddown" onmousemove="Tab00_tabpage1_grd_recipeItemList_onmousemove" oncellclick="Tab00_tabpage1_grd_recipeItemList_oncellclick" class="grd_WF_LineNone">
                    <Formats>
                      <Format id="Default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="0"/>
                          <Column size="20"/>
                          <Column size="107"/>
                          <Column size="243"/>
                          <Column size="142"/>
                          <Column size="49"/>
                          <Column size="60"/>
                          <Column size="60"/>
                          <Column size="60"/>
                          <Column size="60"/>
                          <Column size="138"/>
                          <Column size="26"/>
                          <Column size="60"/>
                        </Columns>
                        <Rows>
                          <Row size="38" band="head"/>
                          <Row size="24"/>
                          <Row size="24" band="summ"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="text" class="head_Excel"/>
                          <Cell col="1" displaytype="text" text="금&#10;지" wordwrap="word"/>
                          <Cell col="2" colspan="2" displaytype="text" text="자재코드"/>
                          <Cell col="4" displaytype="text" text="자재명"/>
                          <Cell col="5" displaytype="text" text="규격"/>
                          <Cell col="6" displaytype="text" text="구매&#10;단위"/>
                          <Cell col="7" displaytype="text" text="자재&#10;특성"/>
                          <Cell col="8" displaytype="text" text="1인소요량&#10;(g)"/>
                          <Cell col="9" displaytype="text" text="가식부량&#10;(g)"/>
                          <Cell col="10" displaytype="text" text="1인원가&#10;(원)"/>
                          <Cell col="11" colspan="2" displaytype="text" text="조리커팅규격" taborder="undefined"/>
                          <Cell col="13" displaytype="text" text="에너지&#10;(kcal)"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" style="align:center;" expr="expr:currow+1"/>
                          <Cell col="1" displaytype="text" style="align:left;" text="bind:RESTRICT_YN"/>
                          <Cell col="2" displaytype="image" style="align: ;" text="URL('theme://images/new/grd_WF_ExpandImageX.png')"/>
                          <Cell col="3" displaytype="text" edittype="expand" style="align:center;background:EXPR(fn_color(currow));background2:EXPR(fn_color(currow));selectbackground:EXPR(fn_color(currow));" text="bind:ITEM_CODE" expandshow="show" expandsize="20"/>
                          <Cell col="4" displaytype="text" style="align:left;background:EXPR(fn_color(currow));background2:EXPR(fn_color(currow));selectbackground:EXPR(fn_color(currow));" text="bind:ITEM_NAME"/>
                          <Cell col="5" displaytype="text" style="align:left;" text="bind:ITEM_SIZE" tooltiptype="none"/>
                          <Cell col="6" displaytype="text" style="align:left;" text="bind:PO_UOM"/>
                          <Cell col="7" displaytype="image" style="align:center;" text="bind:FEATURE_ICON"/>
                          <Cell col="8" displaytype="number" edittype="text" editfilter="number" style="align:right;" text="bind:NEED_QTY" mask="#,##0.00"/>
                          <Cell col="9" displaytype="number" style="align:right;" text="bind:EDIBLE_QTY"/>
                          <Cell col="10" displaytype="number" style="align:right;" text="bind:PERSON_PRICE"/>
                          <Cell col="11" displaytype="combo" edittype="combo" style="align:left;" text="bind:CUT_SPEC" combodataset="ds_CutList" combocodecol="DETAIL_CODE" combodatacol="DETAIL_NAME"/>
                          <Cell col="12" displaytype="image" style="align:center;" text="URL('theme://Images/new/grd_WF_ExpandImage.png')"/>
                          <Cell col="13" displaytype="number" style="align:right;" text="bind:CAL_CALC"/>
                        </Band>
                        <Band id="summary">
                          <Cell colspan="8" displaytype="text" style="align:center;" text="합계"/>
                          <Cell col="8" displaytype="number" style="align:right;" expr="expr:getSum('NEED_QTY')" mask="#,##0.00"/>
                          <Cell col="9" displaytype="number" style="align:right;" expr="expr:getSum('EDIBLE_QTY')"/>
                          <Cell col="10" displaytype="number" style="align:right;" expr="expr:getSum('PERSON_PRICE')"/>
                          <Cell col="11" displaytype="text" style="align:left;"/>
                          <Cell col="12" displaytype="text" style="align:left;"/>
                          <Cell col="13" displaytype="number" style="align:right;" expr="expr:getSum('CAL_CALC')"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 26 1225 31" anchor="left top"/>
                  <Static id="Static22" text="재료구성" class="sta_WF_Title01" position="absolute 10 13 124 31" anchor="left top"/>
                  <Button id="btn_add" taborder="8" text="자재추가" class="btn_WF_Custom" position="absolute 1073 5 1148 26" anchor="top right" onclick="Tab00_tabpage1_btn_add_onclick"/>
                  <Button id="btn_fullScreen" taborder="9" text="전체화면" onclick="btn_fullScreen_onclick" class="btn_WF_Custom" position="absolute 1150 5 1225 26" anchor="top right"/>
                  <Button id="btn_recipeElement" taborder="10" text="레시피영양성분" class="btn_WF_Custom" position="absolute 960 5 1071 26" anchor="top right" onclick="Tab00_tabpage1_btn_recipeElement_onclick"/>
                  <Button id="btn_ratio" taborder="11" text="레시피비율일괄변경" class="btn_WF_Custom" position="absolute 823 5 958 26" anchor="top right" onclick="Tab00_tabpage1_btn_ratio_onclick"/>
                  <Edit id="ed_ratio" taborder="12" inputtype="number" maxlength="3" visible="false" position="absolute 725 5 796 26" style="align:right;"/>
                  <Static id="st_Ratio" text="(%)" visible="false" position="absolute 798 6 826 27"/>
                  <Static id="Static0" position="absolute 109 11 124 26" style="background:#ffaa9cff;"/>
                  <Static id="Static2" text="불용자재" position="absolute 127 9 200 30"/>
                  <Static id="Static1" position="absolute 196 11 211 26" style="background:#ffe49cff;"/>
                  <Static id="Static3" text="금지자재" position="absolute 215 9 288 30"/>
                  <Static id="Static68" text="원가는 조회 시점의 사업장 원가입니다." class="sta_WF_DiscInfo" position="absolute 446 12 700 27"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tabpage2" text="조리법">
              <Layouts>
                <Layout>
                  <Static id="Static00" visible="false" position="absolute 10 0 1225 13" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static07" visible="false" position="absolute 0 0 10 268" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static03" visible="false" position="absolute 10 246 1225 256" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static01" visible="false" position="absolute 1225 0 1235 268" style="background:#ff000033;font:Dotum,8;"/>
                  <Grid id="grd_recipeCuisineList" taborder="5" binddataset="ds_recipeCuisineList" wheelscrollrow="1" autoenter="select" useinputpanel="false" autofittype="col" onkeydown="grd_CookMethod_OnKeyDown" onheadclick="grd_CookMethod_OnHeadClick" position="absolute 13 39 1228 254" anchor="all" class="grd_WF_LineNone">
                    <Formats>
                      <Format id="Default">
                        <Columns>
                          <Column size="30"/>
                          <Column size="1165"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="text" class="head_Excel"/>
                          <Cell col="1" displaytype="text" text="조리법"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" style="align:center;" expr="expr:CUISINE_SEQ &gt; 89 ? &quot;&quot; : CUISINE_SEQ"/>
                          <Cell col="1" displaytype="text" edittype="normal" style="align:left;" text="bind:CUISINE_DESC"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static22" text="조리법" class="sta_WF_Title01" position="absolute 10 13 460 31" anchor="left top"/>
                  <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 26 1225 31" anchor="left top"/>
                  <Button id="btn_SubAdd" taborder="6" class="btn_WF_GrdPlus" position="absolute 1110 6 1128 26" anchor="top right" onclick="Tab00_tabpage2_btn_SubAdd_onclick"/>
                  <Button id="btn_SubDelete" taborder="7" class="btn_WF_GrdMinus" position="absolute 1130 6 1148 26" anchor="top right" onclick="Tab00_tabpage2_btn_SubDelete_onclick"/>
                  <Button id="btn_fullScreen" taborder="8" text="전체화면" onclick="btn_fullScreen_onclick" class="btn_WF_Custom" position="absolute 1150 6 1225 26" anchor="top right"/>
                  <Button id="btn_ExcptAdd" taborder="9" text="예외 입력" position="absolute 1047 6 1108 26" anchor="top right" class="btn_WF_Custom" onclick="Tab00_tabpage2_btn_ExcptAdd_onclick"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tabpage4" text="조리공정">
              <Layouts>
                <Layout>
                  <Static id="Static00" visible="false" position="absolute 10 0 1225 13" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static07" visible="false" position="absolute 0 0 10 268" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static03" visible="false" position="absolute 10 258 1225 268" style="background:#ff000033;font:Dotum,8;"/>
                  <Static id="Static01" visible="false" position="absolute 1225 0 1235 268" style="background:#ff000033;font:Dotum,8;"/>
                  <ImageViewer id="img_JoryMethod" taborder="3" imagealign="left top" position="absolute 10 31 1225 800" anchor="all" style="align:left top;"/>
                  <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 26 460 31"/>
                  <Static id="sta_WF_Title01" text="조리 공정" class="sta_WF_Title01" position="absolute 10 13 460 31"/>
                  <Button id="btn_fullScreen" taborder="4" text="전체화면" onclick="btn_fullScreen_onclick" class="btn_WF_Custom" position="absolute 1150 6 1225 26" anchor="top right"/>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="cbo_upHallClass" propid="value" datasetid="ds_cond" columnid="HALL_CLASS"/>
      <BindItem id="item1" compid="cbo_sRecipeClass" propid="value" datasetid="ds_cond" columnid="RECIPE_CLASS"/>
      <BindItem id="item2" compid="cbo_sRecipeType" propid="value" datasetid="ds_cond" columnid="RECIPE_TYPE"/>
      <BindItem id="item3" compid="cbo_sCuisineType" propid="value" datasetid="ds_cond" columnid="CUISINE_TYPE"/>
      <BindItem id="item4" compid="edt_sRecipeName" propid="value" datasetid="ds_cond" columnid="RECIPE_NAME"/>
      <BindItem id="ed_RecipeCD_value" compid="edt_recipeCd" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_CD"/>
      <BindItem id="ed_RecipeNM_value" compid="edt_recipeName" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_NAME"/>
      <BindItem id="cbo_RecipeClass_value" compid="cbo_recipeClass" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_CLASS"/>
      <BindItem id="Combo5_value" compid="cbo_material" propid="value" datasetid="ds_recipeMst" columnid="MAIN_ITEM_CODE1"/>
      <BindItem id="Combo9_value" compid="cbo_shape" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_SHAPE"/>
      <BindItem id="Combo4_value" compid="cbo_feel" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_FEEL"/>
      <BindItem id="Combo7_value" compid="cbo_color" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_COLOR"/>
      <BindItem id="Combo3_value" compid="cbo_Taste" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_TASTE"/>
      <BindItem id="Combo1_value" compid="cbo_element" propid="value" datasetid="ds_recipeMst" columnid="RESP_NUT1"/>
      <BindItem id="cbo_RecipeType_value" compid="cbo_recipeType" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_TYPE"/>
      <BindItem id="Combo2_value" compid="cbo_cuisineType" propid="value" datasetid="ds_recipeMst" columnid="CUISINE_TYPE"/>
      <BindItem id="me_Cdate_value" compid="edt_cdate" propid="value" datasetid="ds_recipeMst" columnid="CDATE"/>
      <BindItem id="item5" compid="edt_sameWord" propid="value" datasetid="ds_recipeMst" columnid="SAME_WORD"/>
      <BindItem id="Combo10_value" compid="cbo_temper" propid="value" datasetid="ds_recipeMst" columnid="RECIPE_TEMPER"/>
      <BindItem id="cbo_RecipeNM_value" compid="cbo_coreTemper" propid="value" datasetid="ds_recipeMst" columnid="CORE_TEMPER_YN"/>
      <BindItem id="chk_Dtlyn_value" compid="chk_spring" propid="value" datasetid="ds_recipeMst" columnid="SPRING_YN"/>
      <BindItem id="Checkbox0_value" compid="chk_summer" propid="value" datasetid="ds_recipeMst" columnid="SUMMER_YN"/>
      <BindItem id="Checkbox1_value" compid="chk_autumn" propid="value" datasetid="ds_recipeMst" columnid="AUTUMN_YN"/>
      <BindItem id="Checkbox2_value" compid="chk_winter" propid="value" datasetid="ds_recipeMst" columnid="WINTER_YN"/>
      <BindItem id="Combo12_value" compid="cbo_useTool" propid="value" datasetid="ds_recipeMst" columnid="USE_TOOL"/>
      <BindItem id="item6" compid="cbo_prefer" propid="value" datasetid="ds_recipeMst" columnid="PREFER"/>
      <BindItem id="ed_EXPECT_SALE_QTY_value" compid="edt_expectSaleQty" propid="value" datasetid="ds_recipeMst" columnid="EXPECT_SALE_QTY"/>
      <BindItem id="ed_SALE_PRICE_value" compid="edt_salePrice" propid="value" datasetid="ds_recipeMst" columnid="SALE_PRICE"/>
      <BindItem id="item7" compid="edt_recipeName00" propid="value" datasetid="ds_recipeMst" columnid="STD_RECIPE_NAME"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="UPJANGNM" type="STRING" size="256"/>
          <Column id="HALL_CLASS" type="STRING" size="256"/>
          <Column id="RECIPE_CLASS" type="STRING" size="256"/>
          <Column id="RECIPE_TYPE" type="STRING" size="256"/>
          <Column id="CUISINE_TYPE" type="STRING" size="256"/>
          <Column id="RECIPE_NAME" type="STRING" size="256"/>
          <Column id="NEW_RECIPE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="UPJANG"> </Col>
            <Col id="UPJANGNM"> </Col>
            <Col id="HALL_CLASS"> </Col>
            <Col id="RECIPE_CLASS"> </Col>
            <Col id="RECIPE_TYPE"> </Col>
            <Col id="CUISINE_TYPE"> </Col>
            <Col id="RECIPE_NAME"> </Col>
            <Col id="NEW_RECIPE"> </Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_stdRecipeList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="HALL_CLASS" type="STRING" size="256"/>
          <Column id="RECIPE_CD" type="STRING" size="256"/>
          <Column id="RECIPE_NAME" type="STRING" size="256"/>
          <Column id="RECIPE_COST" type="STRING" size="256"/>
          <Column id="RECIPE_CLASS_NAME" type="STRING" size="256"/>
          <Column id="CUISINE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_upjangRecipeList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="HALL_CLASS" type="STRING" size="256"/>
          <Column id="RECIPE_CD" type="STRING" size="256"/>
          <Column id="RECIPE_NAME" type="STRING" size="256"/>
          <Column id="RECIPE_COST" type="STRING" size="256"/>
          <Column id="RECIPE_CLASS_NAME" type="STRING" size="256"/>
          <Column id="CUISINE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboUpHallClass" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="HALL_CLASS" type="STRING" size="256"/>
          <Column id="HALL_CLASS_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboRecipeClass" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="RECIPE_CLASS" type="STRING" size="256"/>
          <Column id="RECIPE_CLASS_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboRecipeType" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboCuisineType" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboMaterial" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboElement" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboShape" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboTaste" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboFeel" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboColor" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboTemper" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboCoreTemper" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboUseTool" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboPrefer" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_recipeMst" cancolumnchange="ds_CanColumnChange" onload="ds_Recipe_OnLoadCompleted">
        <ColumnInfo>
          <Column id="RECIPE_CD" type="STRING" size="256"/>
          <Column id="RECIPE_NAME" type="STRING" size="256"/>
          <Column id="RECIPE_CLASS" type="STRING" size="256"/>
          <Column id="RECIPE_TYPE" type="STRING" size="256"/>
          <Column id="CUISINE_TYPE" type="STRING" size="256"/>
          <Column id="MAIN_ITEM_CODE1" type="STRING" size="256"/>
          <Column id="MAIN_ITEM_CODE2" type="STRING" size="256"/>
          <Column id="COOK_TOOL1" type="STRING" size="256"/>
          <Column id="COOK_TOOL2" type="STRING" size="256"/>
          <Column id="RECIPE_COLOR" type="STRING" size="256"/>
          <Column id="RECIPE_SHAPE" type="STRING" size="256"/>
          <Column id="RECIPE_TASTE" type="STRING" size="256"/>
          <Column id="RECIPE_FEEL" type="STRING" size="256"/>
          <Column id="RECIPE_TEMPER" type="STRING" size="256"/>
          <Column id="SPRING_YN" type="STRING" size="256"/>
          <Column id="SUMMER_YN" type="STRING" size="256"/>
          <Column id="AUTUMN_YN" type="STRING" size="256"/>
          <Column id="WINTER_YN" type="STRING" size="256"/>
          <Column id="RESP_NUT1" type="STRING" size="256"/>
          <Column id="RESP_NUT2" type="STRING" size="256"/>
          <Column id="USE_TOOL" type="STRING" size="256"/>
          <Column id="VALID_TIME" type="STRING" size="256"/>
          <Column id="DISPLAY_METHOD" type="STRING" size="256"/>
          <Column id="SALE_UOM" type="STRING" size="256"/>
          <Column id="SALE_PRICE" type="STRING" size="256"/>
          <Column id="COST_RATE" type="STRING" size="256"/>
          <Column id="CORE_TEMPER_YN" type="STRING" size="256"/>
          <Column id="GOODS_FEATURE" type="STRING" size="256"/>
          <Column id="PHF_MGMT_YN" type="STRING" size="256"/>
          <Column id="PHF_MGMT1" type="STRING" size="256"/>
          <Column id="PHF_MGMT2" type="STRING" size="256"/>
          <Column id="PHF_MGMT3" type="STRING" size="256"/>
          <Column id="PHF_MGMT4" type="STRING" size="256"/>
          <Column id="PHF_MGMT5" type="STRING" size="256"/>
          <Column id="COOK_OPRN" type="STRING" size="256"/>
          <Column id="PHOTO_PATH" type="STRING" size="256"/>
          <Column id="SABUN" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="ATTR01" type="STRING" size="256"/>
          <Column id="ATTR02" type="STRING" size="256"/>
          <Column id="ATTR03" type="STRING" size="256"/>
          <Column id="ATTR04" type="STRING" size="256"/>
          <Column id="ATTR05" type="STRING" size="256"/>
          <Column id="ATTR06" type="STRING" size="256"/>
          <Column id="ATTR07" type="STRING" size="256"/>
          <Column id="ATTR08" type="STRING" size="256"/>
          <Column id="ATTR09" type="STRING" size="256"/>
          <Column id="ATTR10" type="STRING" size="256"/>
          <Column id="CUSER" type="STRING" size="256"/>
          <Column id="CDATE" type="STRING" size="256"/>
          <Column id="UUSER" type="STRING" size="256"/>
          <Column id="UDATE" type="STRING" size="256"/>
          <Column id="SPHOTO_PATH" type="STRING" size="256"/>
          <Column id="PHF" type="STRING" size="256"/>
          <Column id="SAME_WORD" type="STRING" size="256"/>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="HALL_CLASS" type="STRING" size="256"/>
          <Column id="EXPECT_SALE_QTY" type="STRING" size="256"/>
          <Column id="PREFER" type="STRING" size="256"/>
          <Column id="STD_RECIPE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_recipeItemList" oncolumnchanged="ds_recipeItemList_oncolumnchanged">
        <ColumnInfo>
          <Column id="ITEM_CODE" size="12" type="STRING"/>
          <Column id="ITEM_NAME" size="200" type="STRING"/>
          <Column id="ITEM_SIZE" size="100" type="STRING"/>
          <Column id="PO_UOM" size="10" type="STRING"/>
          <Column id="FEATURE_NAME" size="100" type="STRING"/>
          <Column id="NEED_QTY" size="22" type="BIGDECIMAL"/>
          <Column id="EDIBLE_QTY" size="22" type="BIGDECIMAL"/>
          <Column id="PERSON_PRICE" size="22" type="BIGDECIMAL"/>
          <Column id="CUT_SPEC_NAME" size="100" type="STRING"/>
          <Column id="CAL_CALC" size="22" type="BIGDECIMAL"/>
          <Column id="RESTRICT_YN" size="1" type="STRING"/>
          <Column id="ITEM_PRICE" size="22" type="BIGDECIMAL"/>
          <Column id="KG_CONVERT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="G_ITEM_PRICE" size="22" type="BIGDECIMAL"/>
          <Column id="DISUSE_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PERSON_CAL" size="22" type="BIGDECIMAL"/>
          <Column id="USE_YN" size="22" type="STRING"/>
          <Column id="CUT_SPEC" size="22" type="STRING"/>
          <Column id="ITEM_SEQ" size="22" type="STRING"/>
          <Column id="CAL" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_recipeCuisineList"/>
      <Dataset id="ds_CutList"/>
      <Dataset id="ds_dupList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="RECIPE_CD" type="STRING" size="256"/>
          <Column id="RECIPE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_recipeCuisineListTemp1"/>
      <Dataset id="ds_recipeCuisineListTemp2"/>
    </Objects>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";

/******************************************************************************************
 * 시스템구분 : 메뉴관리/레시피관리
 * 프로그램명 : FSR90030E.XML
 * 기ㅡㅡㅡ능 : 업장표준레시피관리
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************/
 
//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//=========================================================================================

//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================
// 저장옵션 (표준신규:STD_INSERT, 표준수정:STD_UPDATE, 업장수정:UPJANG_UPDATE)
var procMode = "";

//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(this);

	// X-Framework : Action 정보 생성
	fsp_init(this);
	
	// 초기화
	fn_init();
	
	fn_upjangUpHallClass();
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_init()
 * 기ㅡㅡㅡ능 : 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function fn_init() 
{
	//ds_cond.clearData();
	//ds_cond.addRow();

	// 공통코드 조회
	var v_ds;
	var v_fil_cond;
	
	v_ds = fn_common_code("'FS0002','FS0003','FS0004','FS0006','FS0007','FS0008','FS0009','FS0010','FS0011','FS0013','FS0020'","","","blk","Y");

	// 레시피유형(GROUP_CODE : 'FS0002')
	v_fil_cond = "GROUP_CODE=='FS0002'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboRecipeType, v_ds.name);
	
	// 조리법유형(GROUP_CODE : 'FS0003')
	v_fil_cond = "GROUP_CODE=='FS0003'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboCuisineType, v_ds.name);

	// 주재료군(GROUP_CODE : 'FS0006')
	v_fil_cond = "GROUP_CODE=='FS0006'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboMaterial, v_ds.name);
	
	// 대표영양성분(GROUP_CODE : 'FS0004')
	v_fil_cond = "GROUP_CODE=='FS0004'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboElement, v_ds.name);
	
	// 모양(GROUP_CODE : 'FS0008')
	v_fil_cond = "GROUP_CODE=='FS0008'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboShape, v_ds.name);
	
	// 맛(GROUP_CODE : 'FS0009')
	v_fil_cond = "GROUP_CODE=='FS0009'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboTaste,v_ds.name);
	
	// 질감(GROUP_CODE : 'FS0010')
	v_fil_cond = "GROUP_CODE=='FS0010'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboFeel, v_ds.name);
	
	// 색(GROUP_CODE : 'FS0007')
	v_fil_cond = "GROUP_CODE=='FS0007'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboColor, v_ds.name);

	// 제공온도(GROUP_CODE : 'FS0011')
	v_fil_cond = "GROUP_CODE=='FS0011'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboTemper, v_ds.name);
	
	// 찬기(GROUP_CODE : 'FS0013')
	v_fil_cond = "GROUP_CODE=='FS0013'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboUseTool, v_ds.name);
	
    // 선호도(GROUP_CODE : 'FS0020')
    v_fil_cond = "GROUP_CODE == 'FS0020'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_cboPrefer, v_ds.name);
	
	fsp_clear(this);
	fsp_addSearch(this,"fs/fsr:FSR00010E_S022"); // 커팅규격
	fsp_callService(this,"","","","ds_CutList=ds_CuttingList","","","",true);

}

//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,출력)
//
//=========================================================================================
/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_search()
 * 기ㅡㅡㅡ능 : 레시피 목록조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function fn_search(opt)
{
	// 필수입력 체크 (사업장, 식당군)
	//if (!mfn_Chk_Obj_MustInput(edt_upjang)) return false;
	if (!mfn_Chk_Obj_MustInput(cbo_upHallClass)) return false;

	// 조회시 업장레시피 체크는 필수
	if(!chk_upjangRecipe.value)
	{
		g_Message("EE","업장레시피 검색옵션을 체크하신 후 조회하세요.");
		return false;	
	}

	if(!gfn_isNull(opt) && opt == "NEW_RECIPE")
	{
		// 신규레시피 조회옵션
		ds_cond.setColumn(0, "NEW_RECIPE", "Y");
		
		// 표준레시피 체크박스 강제 체크
		chk_stdRecipe.value = "Y";
	} 
	else 
	{
		// 신규레시피 조회옵션
		ds_cond.setColumn(0, "NEW_RECIPE", "");
	}

	// 데이터 초기화
	initForm();

	// 저장옵션 초기화
	procMode = "";
		
	// 레시피이미지 아래 구분텍스트 초기화
	edt_recipeGubun.value = "";
	
	ds_stdRecipeList.clearData();
	ds_upjangRecipeList.clearData();

	fsp_clear(this);
	fsp_addSearch(this, "fs/fsr:FSR00032V_S001");	// 업장레시피 조회
	
	// 표준레시피가 체크되어 있다면 업장, 표준 둘다 조회
	if(chk_stdRecipe.value)
	{
		fsp_addSearch(this, "fs/fsr:FSR00031V_S001");	// 표준레시피 조회
		fsp_callService(this, "", "", "ds_in=ds_cond", "ds_upjangRecipeList=ds_upjang_recipe_list ds_stdRecipeList=ds_std_recipe_list" , "", "");
	} else { 
		fsp_callService(this, "", "", "ds_in=ds_cond", "ds_upjangRecipeList=ds_upjang_recipe_list" , "", "");
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_save()
 * 기ㅡㅡㅡ능 : 저장
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function fn_save()
{
	var sUpjang = ds_recipeMst.getColumn(0, "UPJANG");
	var sHallClass = ds_recipeMst.getColumn(0, "HALL_CLASS");
	var sRecipeCd = ds_recipeMst.getColumn(0, "RECIPE_CD");
	
    var sParam = "UPJANG=" + wrapQuote(sUpjang) + " HALL_CLASS=" + wrapQuote(sHallClass) + " RECIPE_CD=" + wrapQuote(sRecipeCd);
	var sDeleteDs = "";
	if (procMode=="STD_INSERT" || procMode=="STD_UPDATE")
	{
		fsp_clear(this);	
		if (procMode=="STD_UPDATE")
		{
			fsp_addMulti(this, "fs/fsr:FSR00023E_D001");	// 레시피 마스터 삭제
			fsp_addMulti(this, "fs/fsr:FSR00023E_D002");	// 레시피 자재 삭제
			fsp_addMulti(this, "fs/fsr:FSR00023E_D003");	// 레시피 조리법 삭제
			sDeleteDs = "ds_recipe_mst_delete=ds_recipeMst ds_recipe_item=ds_recipeItemList ds_recipe_cuisine_delete=ds_recipeCuisineList ";
		}
		fsp_addMulti(this, "fs/fsr:FSR00023E_I001");	// 업장표준레시피 마스터
		fsp_addMulti(this, "fs/fsr:FSR00023E_I002");	// 업장표준레시피 자재
		fsp_addMulti(this, "fs/fsr:FSR00023E_I003");	// 업장표준레시피 조리법
		fsp_callService(this, "", "", sDeleteDs + "ds_recipe_mst=ds_recipeMst:A ds_recipe_item=ds_recipeItemList:A ds_recipe_cuisine=ds_recipeCuisineList:A", sParam, "", "fn_callbackSave()");
	}
	else if (procMode=="UPJANG_UPDATE")
	{
		//trace(this.ds_recipeCuisineList.getRowCount());
		fsp_clear(this);
		ds_recipeMst.setColumn(0, "UDATE", fn_CurrDateWeek());
		
		// 업장표준레시피 마스터 수정
		fsp_addSave(this, "", "fs/fsr:FSR00023E_U001", "", "", "", "", "");
		
		// 업장표준자재 입력, 수정, 삭제
		fsp_addSave(this, "fs/fsr:FSR00023E_I002", "fs/fsr:FSR00023E_U002", "fs/fsr:FSR00023E_D002", "", "", "", "");			

	    // 조리법은 삭제 후 재입력
  	    fsp_addMulti(this, "fs/fsr:FSR00023E_D003");  	 
	    fsp_addMulti(this, "fs/fsr:FSR00023E_I003");
		fsp_callService(this, "", "", "ds_recipe_mst=ds_recipeMst:U ds_recipe_item=ds_recipeItemList:U ds_recipe_cuisine_delete=ds_recipeCuisineList ds_recipe_cuisine=ds_recipeCuisineList", sParam, "", "fn_callbackSave()");			
	}
	else
	{
		
	}
	fn_search();
}

function fn_callbackSave(errCode, errMsg)
{
	if( errCode != 0 ) {
		g_Message("EE", errMsg);
		return;
	} 
	else
	{
		g_Message("02", "저장 하였습니다.");

		// 데이터 초기화
		initForm();

		// 저장옵션 초기화
		procMode = "";
		
		// 레시피이미지 아래 구분텍스트 초기화
		edt_recipeGubun.value = "";
		
		// 업장레시피 조회
		fsp_clear(this);
		fsp_addSearch(this, "fs/fsr:FSR00032V_S001");
		fsp_callService(this, "", "", "ds_in=ds_cond", "ds_upjangRecipeList=ds_upjang_recipe_list" , "", "");
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_delete()
 * 기ㅡㅡㅡ능 : 삭제
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function fn_delete()
{
    // 삭제 확인메세지 호출
	if (!mfn_Call_DeleteMsg()){ return false; }	
	 
	var sUpjang = ds_recipeMst.getColumn(0, "UPJANG");
	var sHallClass = ds_recipeMst.getColumn(0, "HALL_CLASS");
	var sRecipeCd = ds_recipeMst.getColumn(0, "RECIPE_CD");

    var sParam = "UPJANG=" + wrapQuote(sUpjang) + " HALL_CLASS=" + wrapQuote(sHallClass) + " RECIPE_CD=" + wrapQuote(sRecipeCd);
	 
	fsp_clear(this);
	fsp_addMulti(this, "fs/fsr:FSR00023E_D001");	// 레시피 마스터 삭제
	fsp_addMulti(this, "fs/fsr:FSR00023E_D002");	// 레시피 자재 삭제
	fsp_addMulti(this, "fs/fsr:FSR00023E_D003");	// 레시피 조리법 삭제
	fsp_callService(this, "", "", "ds_recipe_mst_delete=ds_recipeMst ds_recipe_item=ds_recipeItemList ds_recipe_cuisine_delete=ds_recipeCuisineList", sParam, "", "fn_callbackDelete()");
}

function fn_callbackDelete(errCode, errMsg)
{
	if( errCode != 0 ) {
		g_Message("EE", errMsg);
		return;
	} 
	else
	{
		g_Message("02", "삭제 하였습니다.");

		// 데이터 초기화
		initForm();

		// 저장옵션 초기화
		procMode = "";
		
		// 레시피이미지 아래 구분텍스트 초기화
		edt_recipeGubun.value = "";
		
		// 업장레시피 조회
		fsp_clear(this);
		fsp_addSearch(this, "fs/fsr:FSR00032V_S001");
		fsp_callService(this, "", "", "ds_in=ds_cond", "ds_upjangRecipeList=ds_upjang_recipe_list" , "", "");
	}
}

//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================
/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_recipeSearch(sParam)
 * 기ㅡㅡㅡ능 : 레시피 마스터 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function fn_recipeSearch(sParam)
{
    // 데이터 초기화
	initForm();
	
    fsp_clear(this);
    fsp_addSearch(this, "fs/fsr:FSR00023E_S001");	// 레시피 마스터
    fsp_addSearch(this, "fs/fsr:FSR00023E_S002");	// 레시피 자재
    fsp_addSearch(this, "fs/fsr:FSR00024E_S001");	// 레시피 조리법
    fsp_callService(this, "", "", "", "ds_recipeMst=ds_recipe_mst ds_recipeItemList=ds_recipe_item ds_recipeCuisineList=ds_recipe_cuisine", sParam, "fn_callbackSearchMst");	
}

function fn_callbackSearchMst(errCode, errMsg)
{
	if( errCode != 0 ) {
		g_Message("EE", errMsg);
		return;
	}
	else
	{
		var v_path="FSR_STD_RECIPE_MST";
		if(gfn_isNull(ds_recipeMst.getColumn(0, "SPHOTO_PATH")) || gfn_isNull(fsp_getServerDir(v_path, ds_recipeMst.getColumn(0, "SPHOTO_PATH"))))
		{
			img_recipe.image = "theme://convertImages/img_NoImageBig.png";
		}
		else
		{
			img_recipe.image = fsp_getServerDir(v_path, ds_recipeMst.getColumn(0, "SPHOTO_PATH"));		
		}
		
		fn_cuisineOrpn();
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_upjangUpHallClass()
 * 기ㅡㅡㅡ능 : 업장별 식당군, 레시피분류 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 * 식당군 *BLANK='A' --전체 *USE_YN='Y' 사용하는 식당만  *HALL_CD='' 해당식당의 식당군 
 ******************************************************************************************/
function fn_upjangUpHallClass()
{
	var strUpjang = ds_cond.getColumn(0, "UPJANG");
	
	// 업장코드가 없을 경우 리턴
	if(gfn_isNull(strUpjang)) return;

	fsp_clear(this);
	fsp_addSearch(this, "fs/fsc:FSC_UPJANG_HALL_CLASS_S001");
	fsp_addSearch(this, "fs/fsc:FSC_UPJANG_RECIPE_S001");
	fsp_callService(this, "", "", "", "ds_cboUpHallClass=ds_UP_HALL_CLASS ds_cboRecipeClass=ds_out", "BLANK='Y' USE_YN='Y' UPJANG=" + wrapQuote(strUpjang), "fn_callbackHallClass");
}

function fn_callbackHallClass(errCode, errMsg)
{
	if( errCode != 0 ) {
		g_Message("EE", errMsg);
		return;
	}
	else
	{
		cbo_upHallClass.index = 1;
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_cuisineOrpn()
 * 기ㅡㅡㅡ능 : 조리공정 이미지 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function fn_cuisineOrpn()
{
	var v_path="FSR_CUISINE_IMG";
	var sFileName = cbo_cuisineType.value + ".jpg";
	if(gfn_isNull(sFileName))
	{
		Tab00.tabpage4.img_JoryMethod.image = "";
		Tab00.tabpage4.img_JoryMethod.text = "이미지가 없습니다.";
	} 
	else 
	{
		Tab00.tabpage4.img_JoryMethod.text = "";
		Tab00.tabpage4.img_JoryMethod.image = fsp_getServerDir(v_path, sFileName);
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : initForm()
 * 기ㅡㅡㅡ능 : 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function initForm()
{
	// 데이터 초기화
    ds_recipeMst.clearData();
    ds_recipeItemList.clearData();
    ds_recipeCuisineList.clearData();
    
    // 기타정보 초기화
    img_recipe.image = "theme://convertImages/img_NoImageBig.png";
    Tab00.tabpage4.img_JoryMethod.image = "";
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : setItemInfo()
 * 기ㅡㅡㅡ능 : 자재정보 세팅 (자재선택 팝업창에서 자재선택시 호출)
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function setItemInfo(rtnVal)
{
	var arrVal = gfn_split(rtnVal, ";");

	var nRow = ds_recipeItemList.addRow();
	ds_recipeItemList.setColumn(nRow, "UPJANG", ds_recipeMst.getColumn(0,"UPJANG"));
	ds_recipeItemList.setColumn(nRow, "HALL_CLASS", ds_recipeMst.getColumn(0,"HALL_CLASS"));
	ds_recipeItemList.setColumn(nRow, "RECIPE_CD", ds_recipeMst.getColumn(0,"RECIPE_CD"));
	ds_recipeItemList.setColumn(nRow, "NEED_QTY", 1); // 이벤트 처리 문제로 1세팅
	ds_recipeItemList.setColumn(nRow, "ITEM_CODE",   arrVal[0]);
	ds_recipeItemList.setColumn(nRow, "ITEM_NAME",   arrVal[1]);
	ds_recipeItemList.setColumn(nRow, "ITEM_SIZE",   arrVal[2]);
	ds_recipeItemList.setColumn(nRow, "PO_UOM",      arrVal[3]);
	ds_recipeItemList.setColumn(nRow, "RESTRICT_YN", arrVal[4]);			
	ds_recipeItemList.setColumn(nRow, "CAL",         arrVal[5]);
	ds_recipeItemList.setColumn(nRow, "DISUSE_RATE", arrVal[6]);
	ds_recipeItemList.setColumn(nRow, "G_ITEM_PRICE",arrVal[7]);
	ds_recipeItemList.setColumn(nRow, "NEED_QTY",    arrVal[9]);
}

//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 기요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================
/******************************************************************************************
 * 함ㅡ수ㅡ명 : btn_upjang_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 레시피 유형 변경시 조리법유형 필터링
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function cbo_recipe_type_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	ds_cboCuisineType.filter("SET1=="+wrapQuote(e.postvalue) + "||gfn_nvl(SET1)==''");
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : grd_upjangRecipeList_oncelldblclick(obj:Grid, e:GridClickEventInfo)
 * 기ㅡㅡㅡ능 : 업장레시피 마스터 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function grd_upjangRecipeList_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	var sUpjang = ds_upjangRecipeList.getColumn(e.row, "UPJANG");
	var sHallClass = ds_upjangRecipeList.getColumn(e.row, "HALL_CLASS");
	var sRecipeCd = ds_upjangRecipeList.getColumn(e.row, "RECIPE_CD");
	
    var sParam = "UPJANG=" + wrapQuote(gfn_nvl(sUpjang)) + " HALL_CLASS=" + wrapQuote(gfn_nvl(sHallClass)) + " RECIPE_CD="+ wrapQuote(gfn_nvl(sRecipeCd)) + " GUBUN='UPJANG'";
    
    // 업장수정모드로 변경
    procMode = "UPJANG_UPDATE";
    edt_recipeGubun.value = "업장레시피";
    
	Tab00.tabpage1.grd_recipeItemList.setCellProperty("body", 3, "edittype", "expand");
	Tab00.tabpage1.grd_recipeItemList.setCellProperty("body", 3, "expandshow", "show");
    
    fn_recipeSearch(sParam);
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : grd_stdRecipeList_oncelldblclick(obj:Grid, e:GridClickEventInfo)
 * 기ㅡㅡㅡ능 : 표준레시피 마스터 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function grd_stdRecipeList_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	var sUpjang = ds_cond.getColumn(0, "UPJANG");
	var sHallClass = ds_cond.getColumn(0, "HALL_CLASS");
	var sRecipeCd = ds_stdRecipeList.getColumn(e.row, "RECIPE_CD");

	// 표준레시피 선택시 기존에 업장표준레시피로 등록되어 있는지를 확인한다.
	fsp_clear(this);
	fsp_addSearch(this, "fs/fsr:FSR90030E_S001");
	fsp_callService(this, "", "", "", "ds_dupList=ds_dupList", "UPJANG=" + sUpjang + " RECIPE_CD=" + sRecipeCd, "fn_callbackDupCheck");
}

function fn_callbackDupCheck(errCode, errMsg)
{
	if( errCode != 0 ) {
		g_Message("EE", errMsg);
		return;
	}
	
	var sUpjang = ds_cond.getColumn(0, "UPJANG");
	var sHallClass = ds_cond.getColumn(0, "HALL_CLASS");
	var sRecipeCd = ds_stdRecipeList.getColumn(ds_stdRecipeList.rowposition, "RECIPE_CD");

	// 업장레시피로 등록되어 있는경우
	if(ds_dupList.getRowCount() > 0)
	{	
		//경고메세지를 보여준다.
		if (!g_Confirm("01", "[ " + ds_dupList.getColumn(0, "RECIPE_NAME") + " ]\n이미 업장표준레시피로 구축되어 있습니다.\n선택하신 표준레시피로 업데이트 하시겠습니까?\n================================================\n※저장버튼을 클릭하지 않을 경우 업장표준레시피로 저장되지 않습니다."))
		{
			return false; 
		}
	
		// 표준수정모드로 변경
		procMode = "STD_UPDATE";
		edt_recipeGubun.value = "표준레시피";
	}
	// 업장레시피로 미등록되어 있는경우
	else
	{
		// 표준입력모드로 변경
		procMode = "STD_INSERT";
		edt_recipeGubun.value = "표준레시피";
		Tab00.tabpage1.grd_recipeItemList.setCellProperty("body", 3, "edittype", "none");
		Tab00.tabpage1.grd_recipeItemList.setCellProperty("body", 3, "expandshow", "hide");
	}
	
	var sParam = "UPJANG=" + wrapQuote(gfn_nvl(sUpjang)) + " HALL_CLASS=" + wrapQuote(gfn_nvl(sHallClass)) + " RECIPE_CD="+ wrapQuote(gfn_nvl(sRecipeCd)) + " GUBUN='STD'";
    fn_recipeSearch(sParam);
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : edt_sRecipeName_onkeydown(obj:Edit, e:KeyEventInfo)
 * 기ㅡㅡㅡ능 : 레시피명 조회조건 엔터리 조회처리
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function edt_sRecipeName_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == 13)
	{
		div_cmnBtn.btn_search.setFocus();	
		fn_search();
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : btn_fullScreen_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 전체화면 처리
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function btn_fullScreen_onclick(obj:Button, e:ClickEventInfo)
{
    if (Tab00.tabpage1.btn_fullScreen.text == "원래대로") 
    {
		Tab00.position.top = "426px";
		Tab00.tabpage1.btn_fullScreen.text = "전체화면";
		Tab00.tabpage2.btn_fullScreen.text = "전체화면";
		Tab00.tabpage4.btn_fullScreen.text = "전체화면";
    }
    else 
    {
		Tab00.position.top = "0px";
		Tab00.tabpage1.btn_fullScreen.text = "원래대로";
		Tab00.tabpage2.btn_fullScreen.text = "원래대로";
		Tab00.tabpage4.btn_fullScreen.text = "원래대로";
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : Tab00_tabpage1_btn_recipeElement_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 레시피영양성분 조회팝업
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage1_btn_recipeElement_onclick(obj:Button,  e:ClickEventInfo)
{
	// 레시피가 선택되어 있을 경우에만 처리
	if(ds_recipeMst.getRowCount()==0)
	{
		return;
	}
	
	var v_arg = {IN_RECIPE_CD:ds_recipeMst.getColumn(0, "RECIPE_CD"), gbn:"0"};
	gfn_dialog("", "U_FSR::FSR00012P.xfdl", v_arg);	
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : btn_ratio_OnClick(obj:Button, e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 레시피비율 일괄변경
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage1_btn_ratio_onclick(obj:Button,  e:ClickEventInfo)
{
	// 레시피가 선택되어 있을 경우에만 처리
	if(ds_recipeMst.getRowCount()==0)
	{
		return;
	}

	var v_NQ=0;
	if(Tab00.tabpage1.ed_ratio.visible==true)
	{
		// 화면에서 가리고 반영하기
		Tab00.tabpage1.ed_ratio.visible=false;
		Tab00.tabpage1.st_Ratio.visible=false;
		if(gfn_length(gfn_trim(Tab00.tabpage1.ed_ratio.value))==0 || gfn_trim(Tab00.tabpage1.ed_ratio.value)==null )
		{
			return;
		}
		for(i=0;i<ds_recipeItemList.getRowCount();i++)
		{
			v_NQ=Math.round((toNumber(ds_recipeItemList.getColumn(i,"NEED_QTY"))*toNumber(Tab00.tabpage1.ed_ratio.value))/100,2);
			ds_recipeItemList.setColumn(i,"NEED_QTY",v_NQ);
		}
		Tab00.tabpage1.ed_ratio.value="";
	}
	else
	{
		Tab00.tabpage1.ed_ratio.visible=true;
		Tab00.tabpage1.st_Ratio.visible=true;
		Tab00.tabpage1.ed_ratio.setFocus();
	}	
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : Tab00_tabpage1_btn_add_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 자재추가 팝업
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage1_btn_add_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_addItem();
}

function fn_addItem()
{
	// 레시피가 선택되어 있을 경우에만 처리
	if(ds_recipeMst.getRowCount()==0)
	{
		return;
	}

	// 현재 추가중인 자재가 있을경우 처리 안함
	if(ds_recipeItemList.findRowExpr("gfn_length(gfn_trim(ITEM_CODE))==0 || gfn_trim(ITEM_CODE)==null")!=-1)
	{
		return;
	}
	
	/* 자재추가시 자동 자재추가 팝업 호출 */
	fn_addItemPop();
}

function fn_addItemPop()
{
	v_rtn = gfn_dialog("", "U_FSR::FSR90031P.xfdl", {dsName:'ds_recipeItemList',UPJANG:ds_cond.getColumn(0, "UPJANG")});
	if(gfn_length(gfn_trim(v_rtn))==0 || gfn_trim(v_rtn)==null)
	{
		return;
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : function Tab00_tabpage1_grd_recipeItemList_oncellclick(obj:Grid, e:GridClickEventInfo)
 * 기ㅡㅡㅡ능 : 자재구성 그리드 클릭
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage1_grd_recipeItemList_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	fn_recipeItemListClick(obj, e.row, e.cell);
}

function fn_recipeItemListClick(obj, nRow, nCell)
{
	switch(nCell)
	{
		// 자재삭제
		case 2:
			ds_recipeItemList.deleteRow(nRow);
			break;
		// 커팅규격
		case 12:
			var v_rtn = gfn_dialog("", "U_FSR::FSR00015P.xfdl","");
			if(gfn_length(gfn_trim(v_rtn))==0 || gfn_trim(v_rtn)==null )
			{
				return;
			}			
			var v_result = gfn_split(v_rtn, ";"); // 0 그룹코드 1 그룹명 2 상세코드 3 상세코드명
			ds_recipeItemList.setColumn(nRow, "CUT_SPEC", v_result[2]);
			//ds_recipeItemList.setColumn(nRow, "CUT_SPEC_NAME", v_result[3]);	
			break;
		default :
			break;
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : Tab00_tabpage1_grd_recipeItemList_onexpanddown(obj:Grid, e:GridMouseEventInfo)
 * 기ㅡㅡㅡ능 : 자재구성 자재대체
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage1_grd_recipeItemList_onexpanddown(obj:Grid, e:GridMouseEventInfo)
{
	var sUpjang = ds_cond.getColumn(0, "UPJANG");
	var sHallClass = ds_cond.getColumn(0, "HALL_CLASS");
	var sRecipeCd = ds_recipeMst.getColumn(0, "RECIPE_CD");

	var v_args = {UPJANG     : sUpjang
	             ,HALL_CLASS : sHallClass
	             ,RECIPE_CD  : sRecipeCd
	             ,ITEM_CODE  : ds_recipeItemList.getColumn(e.row, "ITEM_CODE")
	             ,ITEM_NAME  : ds_recipeItemList.getColumn(e.row, "ITEM_NAME")
	             ,ITEM_CLASS2: ds_recipeItemList.getColumn(e.row, "ITEM_CLASS2")
	             ,ITEM_CLASS3: ds_recipeItemList.getColumn(e.row, "ITEM_CLASS3")
	             ,ITEM_CLASS4: ds_recipeItemList.getColumn(e.row, "ITEM_CLASS4")
	};
	
	v_rtn = gfn_dialog("", "U_FSR::FSR90032P.xfdl", v_args);

	if(gfn_length(gfn_trim(v_rtn))==0 || gfn_trim(v_rtn)==null )
	{
		return;
	}
	
	// 정상 변경시 자재 재조회
	if(v_rtn == "OK")
	{
		var sParam = "UPJANG=" + wrapQuote(gfn_nvl(sUpjang)) + " HALL_CLASS=" + wrapQuote(gfn_nvl(sHallClass)) + " RECIPE_CD="+ wrapQuote(gfn_nvl(sRecipeCd)) + " GUBUN='UPJANG'";
		
		fsp_clear(this);
		fsp_addSearch(this, "fs/fsr:FSR00023E_S002");
		fsp_callService(this, "", "", "", "ds_recipeItemList=ds_recipe_item", sParam, "");	
	}
	else
	{
		return;
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : Tab00_tabpage1_grd_recipeItemList_onmousemove(obj:Grid, e:GridMouseEventInfo)
 * 기ㅡㅡㅡ능 : 자재구성 규격 툴팁처리
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage1_grd_recipeItemList_onmousemove(obj:Grid, e:GridMouseEventInfo)
{
	if(e.row < 0) return;
	
	var strMsg = "";
	
	// 레시피구성
	if (e.cell == 5)
	{
		if(!gfn_isNull(ds_recipeItemList.getColumn(e.row, "ITEM_SIZE")))
		{
			strMsg = ds_recipeItemList.getColumn(e.row, "ITEM_SIZE");
		}
	}
	else
	{
		if(ds_recipeItemList.getColumn(e.row, "RESTRICT_YN")=="Y")
		{
			strMsg = ds_recipeItemList.getColumn(e.row,"RESTRICT_START")+"~"+ds_recipeItemList.getColumn(e.row,"RESTRICT_END")+"\n"+ds_recipeItemList.getColumn(e.row,"RESTRICT_REASON");
		}
		else
		{
			strMsg = "";
		}
	}
	Tab00.tabpage1.grd_recipeItemList.tooltiptext = strMsg;	
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : ds_recipeItemList_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
 * 기ㅡㅡㅡ능 : 자재목록 데이터 변경시 가식부량, 1인원가, 에너지 계산
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function ds_recipeItemList_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
	var v_EQ=0;	// EDIBLE_QTY		가식부량 1인소요량*폐기율==>NEED_QTY*(100-DISUSE_RATE)
	var v_PP=0; // PERSON_PRICE 	인원가	자재g당단가*1인소요량==>G_ITEM_PRICE*NEED_QTY
	var v_CC=0; // CAL_CALC			에너지    100g:기본에너지=가식부량:계산할에너지==>CAL_CALC=(CAL*EDIBLE_QTY)/100

	switch(e.columnid)
	{
		case "EDIBLE_QTY":
			v_CC=Math.round((ds_recipeItemList.getColumn(e.row,"CAL")*ds_recipeItemList.getColumn(e.row,"NEED_QTY")*((100-ds_recipeItemList.getColumn(e.row,"DISUSE_RATE"))/100))/100,2);
			ds_recipeItemList.setColumn(e.row,"CAL_CALC",v_CC);			
			break;
		case "NEED_QTY":	// 1인소요량
			v_PP=Math.round(ds_recipeItemList.getColumn(e.row,"G_ITEM_PRICE")*ds_recipeItemList.getColumn(e.row,"NEED_QTY"),0);
			ds_recipeItemList.setColumn(e.row,"PERSON_PRICE",v_PP);
			
			v_EQ=Math.round(ds_recipeItemList.getColumn(e.row,"NEED_QTY")*((100-ds_recipeItemList.getColumn(e.row,"DISUSE_RATE"))/100),2);
			ds_recipeItemList.setColumn(e.row,"EDIBLE_QTY",v_EQ);			
			//EDIBLE_QTY변경시
			v_CC=Math.round((ds_recipeItemList.getColumn(e.row,"CAL")*ds_recipeItemList.getColumn(e.row,"NEED_QTY")*((100-ds_recipeItemList.getColumn(e.row,"DISUSE_RATE"))/100))/100,2);
			ds_recipeItemList.setColumn(e.row,"CAL_CALC",v_CC);			
			break;	
        default :
            break;
	}		
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : Tab00_tabpage2_btn_SubAdd_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 조리법 추가
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage2_btn_SubAdd_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_recipeCuisineListTemp1.copyData(ds_recipeCuisineList);
	ds_recipeCuisineListTemp1.filter("CUISINE_SEQ < 90");
	
	// 레시피가 선택되어 있을 경우에만 처리
	if(ds_recipeMst.getRowCount()==0)
	{
		return;
	}

	// 현재 추가중인 조리법이 있을경우 더이상 추가 못하도록 처리
	if(ds_recipeCuisineList.findRowExpr("gfn_length(gfn_trim(CUISINE_DESC))==0 || gfn_trim(CUISINE_DESC)==null")!=-1)
	{
		return;
	}
	
	var nRow = ds_recipeCuisineList.addRow();
	var nRowCnt = ds_recipeCuisineListTemp1.rowcount;
	var nCur = Tab00.tabpage2.grd_recipeCuisineList.currentrow;
	
	
	ds_recipeCuisineList.setColumn(nRow, "UPJANG", ds_recipeMst.getColumn(0,"UPJANG"));
	ds_recipeCuisineList.setColumn(nRow, "HALL_CLASS", ds_recipeMst.getColumn(0,"HALL_CLASS"));
	ds_recipeCuisineList.setColumn(nRow, "RECIPE_CD", ds_recipeMst.getColumn(0,"RECIPE_CD"));

	if(nRowCnt < 1)
	{
		ds_recipeCuisineList.setColumn(nRow, "CUISINE_SEQ", 1);
	}
    else
    {
		
		ds_recipeCuisineList.setColumn(nCur, "CUISINE_SEQ", nRowCnt + 1);
    }
    ds_recipeCuisineListTemp1.clear();
}

function Tab00_tabpage2_btn_ExcptAdd_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_recipeCuisineListTemp2.copyData(ds_recipeCuisineList);
	ds_recipeCuisineListTemp2.filter("CUISINE_SEQ > 89");
	
	// 레시피가 선택되어 있을 경우에만 처리
	if(ds_recipeMst.getRowCount()==0)
	{
		return;
	}

	// 현재 추가중인 조리법이 있을경우 더이상 추가 못하도록 처리
	if(ds_recipeCuisineList.findRowExpr("gfn_length(gfn_trim(CUISINE_DESC))==0 || gfn_trim(CUISINE_DESC)==null")!=-1)
	{
		return;
	}
	if(ds_recipeCuisineListTemp2.rowcount > 0)
	{
		var nRow = ds_recipeCuisineList.addRow();
		var nSeq = ds_recipeCuisineListTemp2.getMax("CUISINE_SEQ");
		var nCur = Tab00.tabpage2.grd_recipeCuisineList.currentrow;
	
		ds_recipeCuisineList.setColumn(nRow, "UPJANG", ds_recipeMst.getColumn(0,"UPJANG"));
		ds_recipeCuisineList.setColumn(nRow, "HALL_CLASS", ds_recipeMst.getColumn(0,"HALL_CLASS"));
		ds_recipeCuisineList.setColumn(nRow, "RECIPE_CD", ds_recipeMst.getColumn(0,"RECIPE_CD"));
		ds_recipeCuisineList.setColumn(nCur, "CUISINE_SEQ", nSeq + 1);
	}
	else
	{
		var nRow = ds_recipeCuisineList.addRow();
		ds_recipeCuisineList.setColumn(nRow, "UPJANG", ds_recipeMst.getColumn(0,"UPJANG"));
		ds_recipeCuisineList.setColumn(nRow, "HALL_CLASS", ds_recipeMst.getColumn(0,"HALL_CLASS"));
		ds_recipeCuisineList.setColumn(nRow, "RECIPE_CD", ds_recipeMst.getColumn(0,"RECIPE_CD"));
		ds_recipeCuisineList.setColumn(nRow, "CUISINE_SEQ", 90);
	}
    ds_recipeCuisineListTemp2.clear();
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : Tab00_tabpage2_btn_SubDelete_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 조리법 삭제
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function Tab00_tabpage2_btn_SubDelete_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_recipeCuisineList.deleteRow(ds_recipeCuisineList.rowposition);
	//trace(ds_recipeCuisineList.getRowCount());
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : btn_newRecipeSearch_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 신규표준레시피 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function btn_newRecipeSearch_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_search("NEW_RECIPE");
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : cbo_upHallClass_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
 * 기ㅡㅡㅡ능 : 식당군 변경시 폼 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-01
 ******************************************************************************************/
function cbo_upHallClass_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	// 폼 초기화
	ds_stdRecipeList.clearData();
	ds_upjangRecipeList.clearData();
	initForm();
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_color(nRow)
 * 기ㅡㅡㅡ능 : 자재명에 칼라 적용
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-04-29
 ******************************************************************************************/
function fn_color(nRow)
{
	// 불용자재
	if(ds_recipeItemList.getColumn(nRow, "MTG_UNS") == 'UK' || ds_recipeItemList.getColumn(nRow, "MTG_STP") == 'TK')
	{
		return "#FFAA9C";
	}

	// 금지 자재
	var sMenuDate = gfn_trim(ds_recipeItemList.getColumn(nRow, "TODAY"));
	if( sMenuDate >= ds_recipeItemList.getColumn(nRow,"RESTRICT_START") &&
		sMenuDate <= ds_recipeItemList.getColumn(nRow,"RESTRICT_END") )
	{
		if(sMenuDate >= ds_recipeItemList.getColumn(nRow,"CNL_START") &&
		   sMenuDate <= ds_recipeItemList.getColumn(nRow,"CNL_END") )
		{
			return "default";
		}
		else
		{
			return "khaki";
		}
	}
	return "default";
}

]]></Script>
  </Form>
</FDL>
