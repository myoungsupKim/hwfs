<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="../../../default_typedef.xml"/>
  <Form id="FSP00037V" onload="form_onload" titletext="즐겨찾기탭" position="absolute 0 0 1140 320" scrollbars="none">
    <Layouts>
      <Layout>
        <Grid selecttype="multirow" autoenter="select" binddataset="ds_favori_list" cellsizingtype="col" readonly="false" enable="true" id="grd_ItemList" useinputpanel="false" oncelldblclick="grd_ItemList_OnCellDblClick" onmousemove="grd_ItemList_OnMouseOver" taborder="11" tabstop="true" usecontextmenu="true" useselcolor="true" visible="true" wheelscrollrow="1" position="absolute 0 51 1140 320" anchor="all" autofittype="col" hideendline="col" onexpandup="grd_ItemList_onexpandup" class="grd_WF_LineNone" onheadclick="grd_ItemList_onheadclick" onkeydown="grd_ItemList_OnKeyDown" tooltiptype="hover" oncellclick="grd_ItemList_oncellclick">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="30" band="left"/>
                <Column size="22"/>
                <Column size="78"/>
                <Column size="163"/>
                <Column size="120"/>
                <Column size="50"/>
                <Column size="60"/>
                <Column size="89"/>
                <Column size="70"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="109"/>
                <Column size="40"/>
                <Column size="69"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="23"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text" class="head_Excel"/>
                <Cell col="1" colspan="2" displaytype="text" text="자재코드" taborder="undefined"/>
                <Cell col="3" displaytype="text" text="자재명"/>
                <Cell col="4" displaytype="text" text="규격"/>
                <Cell col="5" displaytype="text" text="단위"/>
                <Cell col="6" displaytype="text" text="원산지"/>
                <Cell col="7" displaytype="text" text="단가"/>
                <Cell col="8" displaytype="text" text="KG환산율"/>
                <Cell col="9" displaytype="text" text="g단가"/>
                <Cell col="10" displaytype="text" text="과/면세"/>
                <Cell col="11" text="D-Day"/>
                <Cell col="12" displaytype="text" text="센터경유"/>
                <Cell col="13" displaytype="text" text="바코드"/>
                <Cell col="14" displaytype="text" text="보관"/>
                <Cell col="15" text="즐찾삭제"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" style="align:center;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" expr="expr:currow+1"/>
                <Cell col="1" displaytype="button" style="padding:5 5 5 5;linetype:onlyhorz;background:EXPR(PR_YN == 'A' ? '#a9a9a932' :PR_YN == 'B' ? '#ffaa9cff' : PR_YN == 'C' ? 'khaki' : 'default');background2:EXPR(PR_YN == 'A' ? '#a9a9a932' :PR_YN == 'B' ? '#ffaa9cff' : PR_YN == 'C' ? 'khaki' : 'default');color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );controlbackground:EXPR( PR_YN!='Y' ? 'gray' : '#7bd7a3ff');controlborder:1 none #808080ff ;controlbordertype:round 10 10 ;"/>
                <Cell col="2" displaytype="text" edittype="expand" style="align:center;linetype: ;background:EXPR(PR_YN == 'A' ? '#a9a9a932' :PR_YN == 'B' ? '#ffaa9cff' : PR_YN == 'C' ? 'khaki' : 'default');background2:EXPR(PR_YN == 'A' ? '#a9a9a932' :PR_YN == 'B' ? '#ffaa9cff' : PR_YN == 'C' ? 'khaki' : 'default');color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:ITEM_CODE" expandshow="show" expandsize="24" expandimage="URL('theme://Images\new\grd_WF_ExpandImage.png')"/>
                <Cell col="3" displaytype="text" edittype="expr:gfn_isNull(IMG_PATH) ? 'none' : 'expand'" style="align:left;padding:EXPR(gfn_isNull(FEATURE_NAME) ? '0 0 0 5' : '0 0 0 46');background:EXPR(PR_YN == 'A' ? '#a9a9a932' :PR_YN == 'B' ? '#ffaa9cff' : PR_YN == 'C' ? 'khaki' : 'default');background2:EXPR(PR_YN == 'A' ? '#a9a9a932' :PR_YN == 'B' ? '#ffaa9cff' : PR_YN == 'C' ? 'khaki' : 'default');color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );backgroundimage:EXPR(FEATURE_NAME);" text="bind:ITEM_NAME" expandshow="expr:gfn_isNull(IMG_PATH) ? 'hide' : 'show'" expandsize="24" expandimage="URL('theme://Images/new/grd_WF_Camerabtn.png')"/>
                <Cell col="4" displaytype="text" style="align:left;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:ITEM_SIZE"/>
                <Cell col="5" displaytype="text" style="align:center;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:PO_UOM"/>
                <Cell col="6" displaytype="text" style="align:center;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:ORIGIN_TYPE"/>
                <Cell col="7" displaytype="number" style="align:right;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:MARGIN_PRICE"/>
                <Cell col="8" displaytype="number" style="align:right;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:KG_CONVERT_RATE"/>
                <Cell col="9" displaytype="number" style="align:right;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:G_PRICE"/>
                <Cell col="10" displaytype="combo" style="align:center;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:TAX_CODE" combodataset="ds_tax" combocodecol="code" combodatacol="code_name"/>
                <Cell col="11" style="background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:D_DAY"/>
                <Cell col="12" displaytype="text" style="align:center;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:CENTER_FLAG"/>
                <Cell col="13" displaytype="normal" edittype="none" style="align:center middle;padding:0 1 0 1;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:BARCODE" editautoselect="true"/>
                <Cell col="14" displaytype="text" style="align:center;background:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );background2:EXPR(PR_YN == 'Y' ? 'default' : '#a9a9a932' );color:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );color2:EXPR(PR_YN == 'Y' ? 'default' : 'gray' );" text="bind:KEEPING_TYPE"/>
                <Cell col="15" displaytype="button" edittype="button" text="bind:FAVORITE"/>
              </Band>
            </Format>
            <Format id="Default0">
              <Columns>
                <Column size="30"/>
                <Column size="116"/>
                <Column size="213"/>
                <Column size="183"/>
                <Column size="63"/>
                <Column size="93"/>
                <Column size="65"/>
                <Column size="59"/>
                <Column size="111"/>
              </Columns>
              <Rows>
                <Row size="22" band="head"/>
                <Row size="20"/>
              </Rows>
              <Band id="head">
                <Cell col="0" displaytype="text" class="head_Excel"/>
                <Cell col="1" displaytype="text" text="자재코드"/>
                <Cell col="2" displaytype="text" text="자재명"/>
                <Cell col="3" displaytype="text" text="규격"/>
                <Cell col="4" displaytype="text" text="단위"/>
                <Cell col="5" displaytype="text" text="단가"/>
                <Cell col="6" displaytype="text" text="과/면세"/>
                <Cell col="7" displaytype="text" text="센터경유"/>
                <Cell col="8" displaytype="text" text="바코드"/>
              </Band>
              <Band id="body">
                <Cell col="0" displaytype="text" expr="expr:currow+1" style="align:center;"/>
                <Cell col="1" text="bind:ITEM_CODE" displaytype="text" style="align:center;"/>
                <Cell col="2" text="bind:ITEM_NAME" displaytype="text" style="align:left;"/>
                <Cell col="3" text="bind:ITEM_SIZE" displaytype="text" style="align:left;"/>
                <Cell col="4" text="bind:PO_UOM" displaytype="text" style="align:center;"/>
                <Cell col="5" text="bind:MARGIN_PRICE" displaytype="number" style="align:left;"/>
                <Cell col="6" text="bind:TAX_CODE" combocodecol="TAX_CODE" combodataset="ds_tax" combodatacol="TAX_NAME" displaytype="combo" style="align:center;"/>
                <Cell col="7" text="bind:CENTER_FLAG" displaytype="text" style="align:center;"/>
                <Cell col="8" text="bind:BARCODE" displaytype="text" style="align:center;"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Div id="div_popup" taborder="12" text="Div00" position="absolute 457 199 769 272" style="background:#ffffffff;border:2 solid #515d6fff ;" visible="false" onkillfocus="div_popup_onkillfocus">
          <Layouts>
            <Layout>
              <Static id="Static00" class="sta_WFDA_Labelbg" position="absolute 98 37 303 64" anchor="default"/>
              <Static id="Static04" text="신청량" class="sta_WFDA_Label01" position="absolute 5 37 99 64" anchor="default"/>
              <MaskEdit id="msk_pr_qty" taborder="0" value="null" displaynulltext="0" mask="###,###,###.##" autoselect="true" position="absolute 101 40 300 61" style="font:Gulim,10;" anchor="default" onkeydown="div_popup_msk_pr_qty_onkeydown" limitbymask="both"/>
              <Static id="Static01" class="sta_TF_Bg" position="absolute 0 0 308 32" style="border:0 none #808080ff,0 none #808080ff,2 solid #01a7adff,0 none #808080ff;" anchor="default"/>
              <Button id="btn_add" taborder="1" text="입력" class="btn_WF_Custom" position="absolute 218 5 259 26" anchor="default" onclick="div_popup_btn_add_onclick"/>
              <Button id="btn_close" taborder="2" text="닫기" class="btn_WF_Custom" position="absolute 261 5 302 26" anchor="default" onclick="div_popup_btn_close_onclick"/>
              <Static id="Static02" text="신청량 입력" position="absolute 5 6 125 26" style="color:white;padding:0 0 0 9;font:Gulim,9,bold;" anchor="default"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static07" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 41 1140 51"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 0 1140 41" anchor="left top right"/>
        <Static id="st_ContractStart03" text="즐겨찾기그룹" class="sta_WFSA_label" position="absolute 15 12 102 33"/>
        <Combo id="cbo_groupList" taborder="0" innerdataset="ds_groupList" codecolumn="FAVOR_GROUP" datacolumn="FAVOR_NAME" displayrowcount="10" onitemchanged="cbo_groupList_onitemchanged" enable="true" position="absolute 106 11 321 32" onkeydown="cbo_groupList_onkeydown" index="0" text="등록된 즐겨찾기 그룹이 없습니다."/>
        <Static id="st_ContractStart00" text="자재코드/명" class="sta_WFSA_label" position="absolute 343 12 430 33"/>
        <Edit id="Edit00" taborder="1" position="absolute 430 11 570 32" inputmode="upper" onkeydown="Edit00_onkeydown"/>
        <Button id="btn_item_search" taborder="2" text="자재 조회" onclick="fn_item_search" class="btn_WF_Find" enable="false" position="absolute 792 11 870 32"/>
        <CheckBox id="chk_only" taborder="13" text="구매불가자재 제외" value="N" truevalue="Y" falsevalue="N" onchanged="chk_only_onchanged" position="absolute 891 11 1017 32"/>
        <Static id="Static02" position="absolute 1040 14 1055 29" style="background:khaki;"/>
        <Static id="Static00" text="금지자재" position="absolute 1060 12 1133 33"/>
        <Static id="Static01" text="자재특성" class="sta_WFSA_label" position="absolute 600 12 664 33"/>
        <Combo id="cbo_feature" taborder="14" value="0" text="전체" codecolumn="codecolumn" datacolumn="datacolumn" index="0" onitemchanged="cbo_feature_onitemchanged" position="absolute 664 11 782 32">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">0</Col>
                <Col id="datacolumn">전체</Col>
              </Row>
              <Row>
                <Col id="codecolumn">theme://Images/new/grd_WF_Icon11.png</Col>
                <Col id="datacolumn">기획자재</Col>
              </Row>
              <Row>
                <Col id="codecolumn">theme://Images/new/grd_WF_Icon10.png</Col>
                <Col id="datacolumn">전처리</Col>
              </Row>
              <Row>
                <Col id="codecolumn">theme://Images/new/grd_WF_Icon09.png</Col>
                <Col id="datacolumn">PB상품</Col>
              </Row>
              <Row>
                <Col id="codecolumn">theme://Images/new/grd_WF_Icon08.png</Col>
                <Col id="datacolumn">친환경</Col>
              </Row>
            </Rows>
          </Dataset>
        </Combo>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_favor_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="EXPT_UPJANG_YN" type="STRING" size="256"/>
          <Column id="APPROV_YN" type="STRING" size="256"/>
          <Column id="NEED_DATE" type="STRING" size="256"/>
          <Column id="PR_DATE" type="STRING" size="256"/>
          <Column id="SUBINV_CODE" type="STRING" size="256"/>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="FAVOR_GROUP" type="STRING" size="256"/>
          <Column id="ITEM_CODE" type="STRING" size="256"/>
          <Column id="PO_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_groupList" useclientlayout="true">
        <ColumnInfo>
          <Column id="ATTR01" size="300" type="STRING"/>
          <Column id="ATTR02" size="300" type="STRING"/>
          <Column id="ATTR03" size="300" type="STRING"/>
          <Column id="ATTR04" size="300" type="STRING"/>
          <Column id="ATTR05" size="300" type="STRING"/>
          <Column id="ATTR06" size="300" type="STRING"/>
          <Column id="ATTR07" size="300" type="STRING"/>
          <Column id="ATTR08" size="300" type="STRING"/>
          <Column id="ATTR09" size="300" type="STRING"/>
          <Column id="ATTR10" size="300" type="STRING"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CONTENTS" size="300" type="STRING"/>
          <Column id="CUSER" size="9" type="STRING"/>
          <Column id="FAVOR_GROUP" size="50" type="STRING"/>
          <Column id="FAVOR_NAME" size="100" type="STRING"/>
          <Column id="FAVOR_TYPE" size="50" type="STRING"/>
          <Column id="REMARK" size="300" type="STRING"/>
          <Column id="SORT_SEQ" size="22" type="BIGDECIMAL"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="UPJANG" size="22" type="BIGDECIMAL"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="9" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_favori_list" onrowposchanged="ds_favori_list_OnRowPosChanged">
        <ColumnInfo>
          <Column id="ITEM_CODE" type="STRING" size="18"/>
          <Column id="ITEM_NAME" type="STRING" size="601"/>
          <Column id="ITEM_CLASS4" type="STRING" size="18"/>
          <Column id="FEATURE_NAME" type="STRING" size="1"/>
          <Column id="ITEM_SIZE" type="STRING" size="1000"/>
          <Column id="PO_UOM" type="STRING" size="18"/>
          <Column id="KG_QTY" type="BIGDECIMAL" size="39"/>
          <Column id="CANCEL_PR_QTY" type="BIGDECIMAL" size="39"/>
          <Column id="G_PRICE" type="BIGDECIMAL" size="39"/>
          <Column id="PR_QTY" type="BIGDECIMAL" size="39"/>
          <Column id="PR_AMT" type="BIGDECIMAL" size="39"/>
          <Column id="TOT_AMT" type="BIGDECIMAL" size="39"/>
          <Column id="TAX_CODE" type="STRING" size="3"/>
          <Column id="CENTER_FLAG" type="STRING" size="1"/>
          <Column id="PR_REMARK" type="STRING" size="256"/>
          <Column id="REMARK" type="STRING" size="255"/>
          <Column id="POINT_FLAG" type="STRING" size="1"/>
          <Column id="SUBINV_CODE" type="STRING" size="8"/>
          <Column id="NEED_DATE" type="STRING" size="8"/>
          <Column id="UPJANG" type="BIGDECIMAL" size="39"/>
          <Column id="DEPT_ID" type="STRING" size="6"/>
          <Column id="ACCTCD" type="STRING" size="255"/>
          <Column id="BUD_CLS" type="STRING" size="30"/>
          <Column id="MU_CD" type="STRING" size="4"/>
          <Column id="INVAT_FLAG" type="STRING" size="1"/>
          <Column id="OUTVAT_FLAG" type="STRING" size="1"/>
          <Column id="MIN_ORD_QTY" type="BIGDECIMAL" size="14"/>
          <Column id="MAX_ORD_QTY" type="BIGDECIMAL" size="14"/>
          <Column id="CENTER_CODE" type="STRING" size="18"/>
          <Column id="STOCK_FLAG" type="STRING" size="1"/>
          <Column id="BARCODE" type="STRING" size="60"/>
          <Column id="KEEPING_TYPE" type="STRING" size="60"/>
          <Column id="MULTIPLIER_QTY" type="BIGDECIMAL" size="14"/>
          <Column id="BUDDEPT_ID" type="STRING" size="30"/>
          <Column id="USE_YN" type="STRING" size="1"/>
          <Column id="CONTRACT_YN" type="STRING" size="1"/>
          <Column id="MARGIN_PRICE" type="STRING" size="40"/>
          <Column id="UNIT_PRICE" type="BIGDECIMAL" size="22"/>
          <Column id="CUSTCD" type="BIGDECIMAL" size="39"/>
          <Column id="CHEAP_YN" type="STRING" size="1"/>
          <Column id="KG_CONVERT_RATE" type="BIGDECIMAL" size="39"/>
          <Column id="MARGIN_RATE" type="BIGDECIMAL" size="8"/>
          <Column id="AP_UNITPRICE_UPJANG" type="BIGDECIMAL" size="39"/>
          <Column id="RESTRICT_PERIOD" type="STRING" size="21"/>
          <Column id="RESTRICT_REASON" type="STRING" size="200"/>
          <Column id="DUTY_END_DATE" type="STRING" size="255"/>
          <Column id="MIN_DUTY_QTY" type="BIGDECIMAL" size="39"/>
          <Column id="DUTY_QTY" type="BIGDECIMAL" size="39"/>
          <Column id="REAL_USE_QTY" type="BIGDECIMAL" size="39"/>
          <Column id="PR_YN" type="STRING" size="1"/>
          <Column id="D_DAY" type="BIGDECIMAL" size="39"/>
          <Column id="D_DAYS" type="BIGDECIMAL" size="39"/>
          <Column id="D_TIMES" type="BIGDECIMAL" size="39"/>
          <Column id="D_DAY_YN" type="STRING" size="1"/>
          <Column id="SPICE_YN" type="STRING" size="1"/>
          <Column id="CORN_YN" type="STRING" size="1"/>
          <Column id="IMG_PATH" type="STRING" size="756"/>
          <Column id="ORIGIN_NAT" type="STRING" size="60"/>
          <Column id="ORIGIN_TYPE" type="STRING" size="60"/>
          <Column id="VD_SN" type="STRING" size="18"/>
          <Column id="APPLY_SD" type="STRING" size="8"/>
          <Column id="MOBILE_GUBUN" type="STRING" size="1"/>
          <Column id="FAVORITE" type="STRING" size="20"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond_delete" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="FAVOR_GROUP" type="STRING" size="256"/>
          <Column id="ITEM_CODE" type="STRING" size="18"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="cbo_groupList" propid="value" datasetid="ds_favor_cond" columnid="FAVOR_GROUP"/>
      <BindItem id="item1" compid="Edit00" propid="value" datasetid="ds_favor_cond" columnid="ITEM_CODE"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[/*
 ******************************************************************************************
 * 시스템구분   : 구매관리 / 신청관리 / 구매신청(자동 식단)
 * 프로그램명   : FSP00032E
 * 기      능   : 구매신청(자동 식단)
 * 작  성  자   : 정영철
 * 작성  일자   : 2015-06-04
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
 
/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/ 
include "U_lib::lib_conversionCom.xjs";

/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/ 

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 로드시 이벤트
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo)
{
    gfn_formOnLoad(this);

    fsp_init(this);
    
    fn_init();
}

function fn_init()
{
	//즐겨찾기도 구매유형 조건 설정(오류수정) 이혜은과장 요청 2017.10.10 선조치
	ds_favor_cond.setColumn(0, "PO_TYPE"        , parent.parent.ds_condi.getColumn(0, "PO_TYPE"));

	//2016.08.11 최학진 즐겨찾기 그룹도 로그인 사용자 부서로 조회 되게끔 변경
    //ds_favor_cond.setColumn(0, "UPJANG"        , parent.parent.ds_condi.getColumn(0, "RC_UPJANG"));
    ds_favor_cond.setColumn(0, "UPJANG"        , parent.parent.ds_condi.getColumn(0, "PR_UPJANG"));
    ds_favor_cond.setColumn(0, "EXPT_UPJANG_YN", parent.parent.ds_condi.getColumn(0, "EXPT_UPJANG_YN"));
    ds_favor_cond.setColumn(0, "APPROV_YN"     , parent.parent.ds_condi.getColumn(0, "APPROV_YN"));
    ds_favor_cond.setColumn(0, "NEED_DATE"     , parent.parent.ds_condi.getColumn(0, "NEED_DATE"));
    ds_favor_cond.setColumn(0, "PR_DATE"       , parent.parent.ds_condi.getColumn(0, "PR_DATE"));
    ds_favor_cond.setColumn(0, "SUBINV_CODE"   , parent.parent.ds_condi.getColumn(0, "SUBINV_CODE"));
    
    // 즐겨찾기 그룹조회
    fn_search_group();

    cbo_groupList.setFocus();
}

function btn_item_search_OnClick(obj:Button, e:ClickEventInfo)
{
    fn_item_search();
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 즐겨찾기 그룹조회
 *---------------------------------------------------------------------------------------------*/
function fn_search_group()
{
    fsp_clear(this);
    
    var sSvcID;         // 서비스 ID
    var sUrl;           // jsp 경로
    var sInDs;          // 입력 데이터셋
    var sOutDs;         // 출력 데이터셋
    var sArg;           // 추가 파라미터
    var sCallFunc;      // 콜백함수명
    
    sSvcID    = "SEARCH_GROUP";
    sUrl      = "U_svc::" + "fs/fsp/FSP90020E_S002.jsp";
    sInDs     = "ds_cond=ds_favor_cond";
    sOutDs    = "ds_groupList=ds_out";
    sCallFunc = "fn_favori_callback";
    
    ds_favor_cond.setColumn(0, "SUBINV_CODE",   parent.parent.cbo_subInv.value);
    
    ds_groupList.clearData();
    
    // 트랜잭션
    jsp_transaction(this, sSvcID, sUrl, sInDs, sOutDs, sArg, sCallFunc, true, false, true);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 자재조회
 *---------------------------------------------------------------------------------------------*/
function fn_item_search()
{   
    var sSvcID;         // 서비스 ID
    var sUrl;           // jsp 경로
    var sInDs;          // 입력 데이터셋
    var sOutDs;         // 출력 데이터셋
    var sArg;           // 추가 파라미터
    var sCallFunc;      // 콜백함수명
    
    sSvcID    = "ITEM_SEARCH";
    sUrl      = "U_svc::" + "fs/fsp/FSP00035E_T006.jsp";
    sInDs     = "ds_favor_cond=ds_favor_cond";
    sOutDs    = "ds_favori_list=ds_out";
    sCallFunc = "fn_favori_callback";
    
    if(!fn_transation_validation(sSvcID)) return;
    
    // 트랜잭션
    jsp_transaction(this, sSvcID, sUrl, sInDs, sOutDs, sArg, sCallFunc, false, false, false);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 콜백함수
 *---------------------------------------------------------------------------------------------*/
function fn_favori_callback(nErrorCode, sErrorMag, sSvcID)
{
    var msg = "";
    var strRemark = "";
    switch(sSvcID){
        
        case "ITEM_SEARCH" :    // 창고조회
            if(toNumber(nErrorCode) != 0)
            {
                g_Message("EE","조회 중 오류가 발생했습니다.\n에러메세지:" + errMsg);
                return;
            }
            
            if(ds_favori_list.getCountNF() <= 0)
            {
                g_Message("EE","조회된 자료가 없습니다."); return;
            }
            parent.parent.cbo_subInv.enable = false;
            
            for(var i = 0; i < ds_favori_list.rowcount; i++)
            {
               if (ds_favori_list.getColumn(i,"SHP_MAP") ==   "N")
                {
                    strRemark = "단가계약 안됨";
                    ds_favori_list.setColumn(i,"PR_REMARK",strRemark);
                    ds_favori_list.setColumn(i,"PR_YN" , "A");
                    ds_favori_list.setColumn(i,"PR_QTY", 0);
                }
                else if (ds_favori_list.getColumn(i,"MTG_UNS") ==   "N")
                {
                    strRemark = "불용자재";
                    ds_favori_list.setColumn(i,"PR_REMARK",strRemark);
                    ds_favori_list.setColumn(i,"PR_YN" , "B");
                    ds_favori_list.setColumn(i,"PR_QTY", 0);
                }
                
                else if (ds_favori_list.getColumn(i,"MTG_STP") ==   "N")
                {
                    strRemark = "중지자재";
                    ds_favori_list.setColumn(i,"PR_REMARK",strRemark);
                    ds_favori_list.setColumn(i,"PR_YN" , "B");
                    ds_favori_list.setColumn(i,"PR_QTY", 0);
                }
                
                else if (ds_favori_list.getColumn(i,"REQ_WKD") ==   "N")
                {
                    strRemark = "거래처 요일 제한";
                    ds_favori_list.setColumn(i,"PR_REMARK",strRemark);
                    ds_favori_list.setColumn(i,"PR_YN" , "A");
                    ds_favori_list.setColumn(i,"PR_QTY", 0);
                }
                
                else if(gfn_length(ds_favori_list.getColumn(i,"RESTRICT_PERIOD")) > 0)
                {
                    strRemark = "금지자재(" + ds_favori_list.getColumn(i,"RESTRICT_PERIOD") +   ", " + ds_favori_list.getColumn(i,"RESTRICT_REASON") + ")";
                    ds_favori_list.setColumn(i,"PR_REMARK",strRemark);
                    ds_favori_list.setColumn(i,"PR_YN" ,"C");
                    ds_favori_list.setColumn(i,"PR_QTY",0);
                }
                else if(ds_favori_list.getColumn(i,"SCH") == "N")
                {
                    strRemark = "수발주제한";
                    ds_favori_list.setColumn(i,"PR_REMARK",strRemark);
                    ds_favori_list.setColumn(i,"PR_YN" , "A");
                    ds_favori_list.setColumn(i,"PR_QTY", 0);
                }
                else if(ds_favori_list.getColumn(i,"D_DAY_YN") ==  "N")
				{
					strRemark = "D-" + ds_favori_list.getColumn(i,"D_DAYS") + "일" + ds_favori_list.getColumn(i,"D_TIMES") + "시 제한";
					ds_item_list.setColumn(i,"PR_REMARK",strRemark);
					ds_item_list.setColumn(i,"PR_YN" , "A");
					ds_item_list.setColumn(i,"PR_QTY", 0);
				}
                else
                {
                    ds_favori_list.setColumn(i,"PR_YN" , "Y");
                }       
            }
            grd_ItemList.setFocus();
            // 업장정보문구 설정
            fn_setInfoText();
            // 창고 콤보 비활성화
            parent.parent.cbo_subInv.enable = false;
            break;
        
        case "SEARCH_GROUP" :   // 즐겨찾기 그룹조회
            if(ds_groupList.rowcount < 1){
                var nRow = ds_groupList.addRow();
                ds_groupList.setColumn(nRow, "FAVOR_NAME","등록된 즐겨찾기 그룹이 없습니다.");
                ds_groupList.setColumn(nRow, "FAVOR_GROUP","");
                gfn_alert("즐겨찾기 그룹이 존재하지 않습니다.");
                cbo_groupList.class = "cmb_WF_Error"
                cbo_groupList.enable = false;
                cbo_groupList.index = 0;
                return;
            }
            cbo_groupList.index = 0;
            btn_item_search.enable   = true;
            break;  
    }
}

/*----------------------------------------------------------------------------------------------
 * 함  수  명   : fn_transation_validation()
 * 기      능   : 조회 전 유효성체크
*----------------------------------------------------------------------------------------------*/
function fn_transation_validation(sSvcID)
{
    switch(sSvcID)
    {
        case "ITEM_SEARCH" :
            break;
    }
    
    return true;
}

/*----------------------------------------------------------------------------------------------
 * 함  수  명   : fn_transation_callback()
 * 기      능   : 트랜잭션 콜백함수
*----------------------------------------------------------------------------------------------*/
function fn_transation_callback(errCode, errMsg)
{
    switch(sSvcID)
    {
        case "ITEM_SEARCH" :
            break;
    }
}

function fn_AddValidation()
{
    if(ds_favori_list.getColumn(ds_favori_list.rowposition,"CONTRACT_YN") == "N")
    {
        return false;
    }
    else if(ds_favori_list.getColumn(ds_favori_list.rowposition,"PR_YN") == "N")
    {
        return false;
    }       
    else if(ds_favori_list.getColumn(ds_favori_list.rowposition,"USE_YN") == "N")
    {
        return false;
    }               
    else if(gfn_length(ds_favori_list.getColumn(ds_favori_list.rowposition,"RESTRICT_PERIOD"))> 0)
    {
        return false;
    }                       
    else if( (toNumber(ds_favori_list.getColumn(ds_favori_list.rowposition,"DUTY_QTY")) > 0) && (toNumber(ds_favori_list.getColumn(ds_favori_list.rowposition,"DUTY_QTY")) <= toNumber(ds_favori_list.getColumn(ds_favori_list.rowposition,"REAL_USE_QTY"))) )
    {
        return false;
    }   
    else if(ds_favori_list.getColumn(ds_favori_list.rowposition,"D_DAY_YN") == "N")
    {
        return false;
    }   
    
    return true;
}

/*----------------------------------------------------------------------------------------------
 * 함  수  명   : grd_ItemList_OnMouseOver()
 * 기      능   : 마우스 오버시 툴팁 실행 함수
*----------------------------------------------------------------------------------------------*/
function grd_ItemList_OnMouseOver(obj:Grid, e:GridMouseEventInfo)
{
    if(gfn_length(ds_favori_list.getColumn(e.row,"PR_REMARK"))> 0)
    {
        grd_ItemList.tooltiptext = ds_favori_list.getColumn(e.row,"PR_REMARK");
    }
    else
    {
        grd_ItemList.tooltiptext = "";
    }
}

/*----------------------------------------------------------------------------------------------
 * 함  수  명   : grd_ItemList_OnKeyDown()
 * 기      능   : 자재리스트에서 키다운 이벤트
*----------------------------------------------------------------------------------------------*/
function grd_ItemList_OnKeyDown(obj:Grid, e:KeyEventInfo)
{
    if(ds_favori_list.rowcount <= 0) return false;
    
    if(e.keycode == 13) 
    {
		if(gfn_length(ds_favori_list.getColumn(ds_favori_list.rowposition,"PR_REMARK"))> 0)
		{
			 g_Message("EE","선택하신 자재는 사유로 인해 신청하실 수 없습니다..\n사유 : " + ds_favori_list.getColumn(ds_favori_list.rowposition,"PR_REMARK"));
			return false;
		}
		fn_show_divPopup();
    }
}

/*----------------------------------------------------------------------------------------------
 * 함  수  명   : edt_item_code_OnKeyDown()
 * 기      능   : 자재명/코드 박스 온키다운 이벤트
*----------------------------------------------------------------------------------------------*/
function edt_item_code_OnKeyDown(obj:Edit, e:KeyEventInfo)
{
    if(e.keycode == "13") {
        btn_item_search_OnClick(btn_item_search);
    }
}

/*----------------------------------------------------------------------------------------------
 * 함  수  명   : ImgItem_onclick()
 * 기      능   :  이벤트
*----------------------------------------------------------------------------------------------*/
function ImgItem_onclick(obj:ImageViewer,  e:ClickEventInfo)
{
    gfn_dialog("", "U_SCC::SCC91000P.xfdl","");
}

// 자재그리드 더블클릭시 신청량 div 팝업
function grd_ItemList_OnCellDblClick(obj:Grid, e:GridClickEventInfo)
{
    if(gfn_length(ds_favori_list.getColumn(ds_favori_list.rowposition,"PR_REMARK"))> 0)
    {
         g_Message("EE","선택하신 자재는 사유로 인해 신청하실 수 없습니다..\n사유 : " + ds_favori_list.getColumn(ds_favori_list.rowposition,"PR_REMARK"));
        return false;
    }
    
    fn_show_divPopup();
}

// 신청량 팝업 활성화
function fn_show_divPopup()
{
    div_popup.visible = true;
    //div_popup.setFocus();
    div_popup.msk_pr_qty.value = null;
    div_popup.msk_pr_qty.setFocus();
}

// 신청량팝업에서 포커스가 떠날때 이벤트
function div_popup_onkillfocus(obj:Div, e:KillFocusEventInfo)
{
    obj.visible = false;
}

// 신청량팝업에서 닫기 버튼 클릭시 이벤트
function div_popup_btn_close_onclick(obj:Button,  e:ClickEventInfo)
{
    div_popup.visible = false;
    this.grd_ItemList.setFocus();
}

// 신청량 팝업에서 엔터키 이벤트
function div_popup_msk_pr_qty_onkeydown(obj:MaskEdit, e:KeyEventInfo)
{
    if(e.keycode == 13) {
        var obj = new Button();
        div_popup_btn_add_onclick(obj);
    }
}

// 신청량 팝업에서 입력버튼 이벤트
function div_popup_btn_add_onclick(obj:Button,  e:ClickEventInfo)
{
    var strMsg;
    var nRow   = ds_favori_list.rowposition;
    var nPrQty = div_popup.msk_pr_qty.value;
    
    if(gfn_length(nPrQty)== 0)
    {
        g_Message("EE","신청수량을 입력하세요.");
        div_popup.msk_pr_qty.value = null;
        div_popup.msk_pr_qty.setFocus();
        return;         
    }
    
    if(nPrQty <= 0)
    {
        g_Message("EE","신청수량은 '0'보다 커야 합니다.");
        div_popup.msk_pr_qty.value = null;
        div_popup.msk_pr_qty.setFocus();
        return;         
    }
    
    var nIdx = FindRowNF(ds_pr_item, "ITEM_CODE", ds_favori_list.getColumn(nRow, "ITEM_CODE"));

    if(nIdx >= 0)
    {
        g_Message("EE","  선택된 자재는 신청내역에 이미 포함되어 있습니다.");
        div_popup.msk_pr_qty.value = null;
        div_popup.visible = false;
        return;
    }   

    //소숫점 발주 제한 점검
    if(ds_favori_list.getColumn(nRow,"POINT_FLAG") == "N" && Math.ceil(toNumber(nPrQty)) != toNumber(nPrQty))
    {
        strMsg = " ※ 소숫점 신청 불가!!\n";
        strMsg+= "     자재명 : " + ds_favori_list.getColumn(nRow,"ITEM_NAME");
        g_Message("EE", strMsg);
        div_popup.msk_pr_qty.value = null;
        div_popup.msk_pr_qty.setFocus();
        return;
    }
    //최소발주량 제한 점검
    else if(toNumber(ds_favori_list.getColumn(nRow,"MIN_ORD_QTY")) > 0 && toNumber(nPrQty) < toNumber(ds_favori_list.getColumn(nRow,"MIN_ORD_QTY")) )
    {
        strMsg = " ※ 최소발주량 이하 신청 불가!!\n";
        strMsg+= "     자재명       : " + ds_favori_list.getColumn(nRow, "ITEM_NAME")   + "\n";
        strMsg+= "     최소발주량 : " + ds_favori_list.getColumn(nRow, "MIN_ORD_QTY") + "\n";
        g_Message("EE", strMsg);
        div_popup.msk_pr_qty.value = null;
        div_popup.msk_pr_qty.setFocus();
        return;
    }
    //최대발주량 제한 점검
    else if(toNumber(ds_favori_list.getColumn(nRow,"MAX_ORD_QTY")) > 0 && toNumber(nPrQty) > toNumber(ds_favori_list.getColumn(nRow,"MAX_ORD_QTY")) )
    {
        strMsg = " ※ 최대발주량 이상 신청 불가!!\n";
        strMsg+= "     자재명       : " + ds_favori_list.getColumn(nRow, "ITEM_NAME")   + "\n";
        strMsg+= "     최대발주량 : " + ds_favori_list.getColumn(nRow, "MAX_ORD_QTY") + "\n";
        div_popup.msk_pr_qty.value = null;
        div_popup.msk_pr_qty.setFocus();
        g_Message("EE", strMsg);
        
        return;
    }
    //발주승수량 제한 점검
    else if(toNumber(String(ds_favori_list.getColumn(nRow,"MULTIPLIER_QTY"))) != 0 )
    {
		var nMqty = ds_favori_list.getColumn(nRow,"MULTIPLIER_QTY");
		var nRt = nPrQty - (Math.floor(nPrQty / nMqty) * nMqty)

    	if(nRt != 0)
    	{
			strMsg  = " ※ 발주승수량 이외 신청 불가!!\n";
			strMsg += "     자재명       : " + ds_favori_list.getColumn(nRow,"ITEM_NAME") + "\n";
			strMsg += "     발주승수량 : " + ds_favori_list.getColumn(nRow,"MULTIPLIER_QTY") + "\n";
			
			g_Message("EE", strMsg);
			div_popup.msk_pr_qty.value = null;
			div_popup.msk_pr_qty.setFocus();
			return;
		}
    }

    //마이너스 신청 여부 점검
    if(toNumber(nPrQty) < 0)
    {
        strMsg  = " ※ (-)수량 신청 신청 불가!!\n";
        strMsg += "     자재명 : " + ds_favori_list.getColumn(nRow,"ITEM_NAME");
    
        g_Message("EE", strMsg);
        div_popup.msk_pr_qty.value = null;
        div_popup.msk_pr_qty.setFocus();
        return;
    }
    //선발주 제한 여부 점검(조회시 미리 D-Day제한은 점검하고, "C"일 경우 D-Times만 점검한다.
    else if(ds_favori_list.getColumn(nRow,"D_DAY_YN") == "C")
    {
        var f_CurrDateTime = fn_CurrDateWeek("ymdtm");
        
        if( toNumber(gfn_subStr(f_CurrDateTime, 8, 2)) >= toNumber(ds_favori_list.getColumn(nRow, "D_TIMES")))
        {
            strMsg  = " ※ 선발주 시간 제한 \n\n";
            strMsg += "     자재명        : "       + ds_favori_list.getColumn(nRow, "ITEM_NAME") + "\n";
            strMsg += "     선발주 제한 : D_DAY=" + ds_favori_list.getColumn(nRow, "D_DAYS"   ) + "일 " + ds_favori_list.getColumn(nRow, "D_TIMES") + "시";
            
            g_Message("EE", strMsg);
            div_popup.msk_pr_qty.value = null;
            div_popup.msk_pr_qty.setFocus();
            return;
        }       
    }
    
    var nMagPrc = ds_favori_list.getColumn(nRow,"MARGIN_PRICE");
    
    ds_favori_list.setColumn(nRow, "PR_QTY", nPrQty);
    ds_favori_list.setColumn(nRow, "PR_AMT", toNumber(nMagPrc) * toNumber(nPrQty));
    
    var addRow = ds_pr_item.addRow();
    ds_pr_item.copyRow(addRow, ds_favori_list, nRow);

    div_popup.visible = false;
    grd_ItemList.setFocus();
}

function cbo_groupList_onkeydown(obj:Combo, e:KeyEventInfo)
{
    var sNextComp;
    if (e.keycode == 13)
    {
        sNextComp = getNextComponent(obj);
        sNextComp.setFocus();
    }
}

function Edit00_onkeydown(obj:Edit, e:KeyEventInfo)
{
    var sNextComp;
    
    if (e.keycode == 13)
    {
        fn_item_search();
    }   
}

// 구매불가자재 제외 체크박스 값 변경시 데이터셋 필터
function chk_only_onchanged(obj:CheckBox, e:CheckBoxChangeEventInfo)
{
    var sFilter = e.postvalue == 'Y' ? "gfn_length(PR_REMARK) == 0" : "";
    ds_favori_list.filter(sFilter);
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : grd_ItemList_onexpandup(obj:Grid, e:GridMouseEventInfo)
 * 기ㅡㅡㅡ능 : 자재조회그리드 expend 이벤트
 * 작ㅡ성ㅡ자 : 정영철
 * 작성ㅡ일자 : 2015-03-23
 ******************************************************************************************/
function grd_ItemList_onexpandup(obj:Grid, e:GridMouseEventInfo)
{
    switch(e.col)
    {
		// 구매링크 버튼 클릭시 구매 자재상세 링크
		case 2 : 
			SCSysIf.eprocPopup (SCSysIf.EPROC_ITEM_POPUP, ds_favori_list.getColumn(e.row, "ITEM_CODE"));
			break;
			
		case 3 : 
			gfn_dialog("", "U_FSP::FSP00000P.xfdl",{fv_itemCode: ds_favori_list.getColumn(e.row, "ITEM_CODE")}, "", "", "", "", "", "", "", "", true);
			break;
    }
}
function grd_ItemList_onheadclick(obj:Grid, e:GridClickEventInfo)
{
    gfn_gridSort(obj, e); //(eval(obj.binddataset), obj, e.cell);
}

// 자재특성 콤보 값 변경시 그리드 필터 적용
function cbo_feature_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	switch(e.postindex)
	{
		case 0 :
			ds_favori_list.filter("");
			break;
		default :
			ds_favori_list.filter("FEATURE_NAME == '" + e.postvalue + "'");
			break;	
	}
}

function grd_ItemList_oncellclick(obj:Grid, e:GridClickEventInfo)
{
	if(e.cell == 15)
	{
		fn_Delete(ds_favor_cond.getColumn(0, "UPJANG"), ds_favor_cond.getColumn(0, "FAVOR_GROUP"), eval(obj.binddataset).getColumn(e.row, "ITEM_CODE"));
	}
}


function fn_Delete(upjang, favorGroupCode, itemCode)
{
	
	ds_cond_delete.clearData();
	ds_cond_delete.addRow();
	ds_cond_delete.setColumn(0,"UPJANG", upjang);
	ds_cond_delete.setColumn(0,"FAVOR_GROUP", favorGroupCode);
	ds_cond_delete.setColumn(0,"ITEM_CODE",itemCode);
	ds_cond_delete.updatecontrol = false;
	ds_cond_delete.setRowType(0, Dataset.ROWTYPE_DELETE);
	ds_cond_delete.updatecontrol = true;
	//Transaction 설정
	var formObj			= this;	
	var strSvcID		= "DELETE";
	var strURL			= "U_svc::" + "fs/fsp/FSP90020E_T002.jsp";
	var strInDatasets	= "ds_favorite_list=ds_cond_delete:A";
	var strOutDatasets	= "";
	var strArgument = "";	//= "name1=park name2=yongdae";
	var strCallbackFunc	= "fn_Delete_callback";
	var isErrorNotCall	= false;
	var isNotShow		= false;	//false 메세지 보여줌 --> sync일때 표현 안됨.
	var isSync			= true;		//true 다실행하고 실행됨.(async)
	//서버호출
	jsp_transaction(formObj, strSvcID, strURL, strInDatasets, strOutDatasets, strArgument, strCallbackFunc, isErrorNotCall, isNotShow, isSync);
}

function fn_Delete_callback(errCode, errMsg)
{
	trace(errCode);
	trace(errMsg);
	if (errCode == 0)
	{
		g_Message("EE","해당 상품이 즐겨찾기에 삭제되었습니다.");
		fn_item_search();
	}
}]]></Script>
  </Form>
</FDL>
