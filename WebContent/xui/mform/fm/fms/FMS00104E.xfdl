<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="../../../default_typedef.xml"/>
  <Form id="FMS00100E" onkeydown="fn_form_OnKeyDown" onload="form_onload" titletext="매출처 정보관리(영업사원)" position="absolute 0 0 1252 725" scrollbars="none">
    <Layouts>
      <Layout>
        <Div id="div_cmnBtn" taborder="7" text="Div0" url="cmn::CmnBtn.xfdl" position="absolute 0 0 1237 30" anchor="left top right" scrollbars="none"/>
        <Tab id="tab_list" preload="true" taborder="5" position="absolute 550 61 1238 710" showextrabutton="false" anchor="top right bottom">
          <Tabpages>
            <Tabpage id="tab1" taborder="1" text="기본관리" url="U_FMS::FMS00101E.xfdl" position="absolute 2 24 594 577"/>
            <Tabpage id="tab2" taborder="5" text="설정관리" url="U_FMS::FMS00102E.xfdl" position="absolute 2 24 594 577"/>
            <Tabpage id="tab3" taborder="5" text="채권/여신관리" url="U_FMS::FMS00103E.xfdl" position="absolute 2 24 594 577"/>
          </Tabpages>
        </Tab>
        <Button enable="false" id="btn_Copy" onclick="btn_Copy_OnClick" taborder="6" text="불러오기" visible="false" position="absolute 1125 61 1190 82" class="btn_WF_Custom" image=""/>
        <Static id="Static7" text="매출처 상세정보 조회" position="absolute 550 43 703 61" class="sta_WF_Title01" anchor="top right"/>
        <Grid id="grd_list" taborder="28" binddataset="ds_list" wheelscrollrow="1" autoenter="select" useinputpanel="false" cellsizingtype="both" oncellclick="grd_list_OnCellClick" onheadclick="grd_List_OnHeadClick" position="absolute 0 195 539 710" anchor="all">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="25"/>
                <Column size="40"/>
                <Column size="45"/>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="43"/>
                <Column size="29"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="90"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text"/>
                <Cell col="1" displaytype="text" text="구분"/>
                <Cell col="2" displaytype="text" text="코드"/>
                <Cell col="3" displaytype="text" text="본사명"/>
                <Cell col="4" displaytype="text" text="사업장명"/>
                <Cell col="5" displaytype="text" text="고객"/>
                <Cell col="6" displaytype="text" text="사용"/>
                <Cell col="7" text="센터"/>
                <Cell col="8" displaytype="text" text="사업자번호"/>
                <Cell col="9" displaytype="text" text="영업사원"/>
                <Cell col="10" displaytype="text" text="영업 전화번호"/>
                <Cell col="11" displaytype="text" text="C/S사원"/>
                <Cell col="12" displaytype="text" text="C/S 전화번호"/>
                <Cell col="13" displaytype="text" text="영업부서"/>
                <Cell col="14" displaytype="text" text="BO관리부서"/>
                <Cell col="15" text="거래처코드"/>
                <Cell col="16" text="거래처명"/>
                <Cell col="17" displaytype="text" text="부가세업장"/>
                <Cell col="18" displaytype="text" text="파트"/>
                <Cell col="19" text="반환가능여부"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" style="align:center;" expr="expr:currow+1"/>
                <Cell col="1" displaytype="text" style="align:left;" text="bind:UPJANG_TYPE" combodataset="ds_Gbn" combocodecol="CD" combodatacol="NM"/>
                <Cell col="2" displaytype="text" style="align:left;" text="bind:UPJANG"/>
                <Cell col="3" displaytype="text" style="align:left;" text="bind:MAIN_UPJANG_NM"/>
                <Cell col="4" displaytype="text" style="align:left;" text="bind:UPJANG_NM"/>
                <Cell col="5" displaytype="text" style="align:center;" text="bind:CUST_TYPE"/>
                <Cell col="6" displaytype="text" style="align:center;" text="bind:USE_YN"/>
                <Cell col="7" text="bind:CENTER_NAME"/>
                <Cell col="8" displaytype="text" style="align:center;" text="bind:SAUPNO"/>
                <Cell col="9" displaytype="text" style="align:left;" text="bind:PART_SALES_SABUN_NM"/>
                <Cell col="10" displaytype="text" style="align:left;" text="bind:PART_SALES_TEL_NO"/>
                <Cell col="11" displaytype="text" style="align:left;" text="bind:CS_SABUN_NM"/>
                <Cell col="12" displaytype="text" style="align:left;" text="bind:CS_TEL_NO"/>
                <Cell col="13" displaytype="text" style="align:left;" text="bind:CC_NM"/>
                <Cell col="14" displaytype="text" style="align:left;" text="bind:BO_DEPT_ID"/>
                <Cell col="15" displaytype="text" text="bind:CUSTCD"/>
                <Cell col="16" style="align:left;padding:0 0 0 6;" text="bind:CUSTNM"/>
                <Cell col="17" displaytype="text" style="align:left;" text="bind:BO_VAT_UPJANG"/>
                <Cell col="18" displaytype="text" style="align:left;" text="bind:PART_CODE_NAME"/>
                <Cell col="19" displaytype="normal" style="align:center;" text="bind:RTN_YN"/>
              </Band>
            </Format>
            <Format id="excel">
              <Columns>
                <Column size="25"/>
                <Column size="40"/>
                <Column size="45"/>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="43"/>
                <Column size="29"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="90"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text"/>
                <Cell col="1" displaytype="text" text="구분"/>
                <Cell col="2" displaytype="text" text="코드"/>
                <Cell col="3" displaytype="text" text="본사명"/>
                <Cell col="4" displaytype="text" text="사업장명"/>
                <Cell col="5" displaytype="text" text="고객"/>
                <Cell col="6" displaytype="text" text="사용"/>
                <Cell col="7" text="센터"/>
                <Cell col="8" displaytype="text" text="사업자번호"/>
                <Cell col="9" displaytype="text" text="영업사원"/>
                <Cell col="10" displaytype="text" text="C/S사원"/>
                <Cell col="11" displaytype="text" text="영업부서"/>
                <Cell col="12" displaytype="text" text="BO관리부서"/>
                <Cell col="13" text="거래처코드"/>
                <Cell col="14" text="거래처명"/>
                <Cell col="15" displaytype="text" text="부가세업장"/>
                <Cell col="16" displaytype="text" text="파트"/>
                <Cell col="17" text="반환가능여부"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" style="align:center;" expr="expr:currow+1"/>
                <Cell col="1" displaytype="text" style="align:left;" text="bind:UPJANG_TYPE" combodataset="ds_Gbn" combocodecol="CD" combodatacol="NM"/>
                <Cell col="2" displaytype="text" style="align:left;" text="bind:UPJANG"/>
                <Cell col="3" displaytype="text" style="align:left;" text="bind:MAIN_UPJANG_NM"/>
                <Cell col="4" displaytype="text" style="align:left;" text="bind:UPJANG_NM"/>
                <Cell col="5" displaytype="text" style="align:center;" text="bind:CUST_TYPE"/>
                <Cell col="6" displaytype="text" style="align:center;" text="bind:USE_YN"/>
                <Cell col="7" text="bind:CENTER_NAME"/>
                <Cell col="8" displaytype="text" style="align:center;" text="bind:SAUPNO"/>
                <Cell col="9" displaytype="text" style="align:left;" text="bind:PART_SALES_SABUN_NM"/>
                <Cell col="10" displaytype="text" style="align:left;" text="bind:CS_SABUN_NM"/>
                <Cell col="11" displaytype="text" style="align:left;" text="bind:CC_NM"/>
                <Cell col="12" displaytype="text" style="align:left;" text="bind:BO_DEPT_ID"/>
                <Cell col="13" displaytype="text" text="bind:CUSTCD"/>
                <Cell col="14" style="align:left;padding:0 0 0 6;" text="bind:CUSTNM"/>
                <Cell col="15" displaytype="text" style="align:left;" text="bind:BO_VAT_UPJANG"/>
                <Cell col="16" displaytype="text" style="align:left;" text="bind:PART_CODE_NAME"/>
                <Cell col="17"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Div id="div_mainSearch" anchor="left top right" taborder="29" position="absolute -1 40 543 170" scrollbars="none">
          <Layouts>
            <Layout>
              <Static id="sta_detail00" class="sta_WFDA_Labelbg" position="absolute 94 47 540 74" anchor="left top right"/>
              <Static id="sta_detail02" class="sta_WFDA_Labelbg" position="absolute 94 73 540 100" anchor="left top right"/>
              <Static id="sta_detail03" class="sta_WFDA_Labelbg" position="absolute 94 99 540 126" anchor="left top right"/>
              <Static id="sta_detail01" class="sta_WFDA_Labelbg" position="absolute 94 21 540 48" anchor="left top right"/>
              <Static id="Static02" text="본사" class="sta_WFDA_Label01" position="absolute 1 21 95 48" anchor="default"/>
              <Static id="Static3" text="사업장" class="sta_WFDA_Label01" position="absolute 1 47 95 74" anchor="default"/>
              <Static id="Static4" text="고객구분" class="sta_WFDA_Label01" position="absolute 1 73 95 100" anchor="default"/>
              <Radio id="rdo_CUST_TYPE" taborder="4" columncount="-1" rowcount="-1" innerdataset="ds_CustType" codecolumn="CODE" datacolumn="CODE_NAME" onitemclick="rdo_CUST_TYPE_onitemclick" position="absolute 96 77 518 98" style="textpadding:0 12 0 5;" anchor="left top right"/>
              <Static id="Static0" text="사용여부" class="sta_WFDA_Label01" position="absolute 1 99 95 126" anchor="default"/>
              <Combo id="cbo_UseYN" taborder="5" text="전체" innerdataset="ds_Use" codecolumn="CODE" datacolumn="code_name" index="0" position="absolute 97 102 178 123" anchor="default"/>
              <Static id="sta_detail04" onclick="div_mainSearch_sta_detail04_onclick" class="sta_WFDA_Labelbg" position="absolute 94 47 540 74" anchor="left top right"/>
              <Static id="sta_detail05" class="sta_WFDA_Labelbg" position="absolute 94 21 540 48" anchor="left top right"/>
              <Edit id="ed_S_MAIN_UPJANG" taborder="0" autoselect="true" onkeydown="ed_S_UPJANG_onkeydown" oneditclick="ed_S_MAIN_UPJANG_oneditclick" onchar="sed_common_OnChar" position="absolute 97 24 278 45" anchor="default"/>
              <Edit id="ed_S_UPJANG" taborder="2" autoselect="true" onkeydown="ed_S_UPJANG_onkeydown" onchar="sed_common_OnChar" position="absolute 97 50 278 71" anchor="default"/>
              <Edit id="ed_S_UPJANG_NM" taborder="22" onchar="sed_common_OnChar" visible="false" position="absolute 200 50 275 71" anchor="default"/>
              <Edit id="ed_S_MAIN_UPJANG_NM" taborder="23" onchar="sed_common_OnChar" visible="false" position="absolute 198 24 273 46" anchor="default"/>
              <Static id="Static5" text="사업자번호" class="sta_WFDA_Label01" position="absolute 280 21 385 48" anchor="default"/>
              <Edit id="ed_S_SAUPNO" taborder="1" inputtype="number" autoselect="true" onchar="sed_common_OnChar" position="absolute 387 24 492 45" anchor="default"/>
              <Static id="Static2" text="매출처 목록조회" class="sta_WF_Title01" position="absolute 1 3 124 21" anchor="default"/>
              <Static id="Static6" text="(본사명 클릭 시 본사의 상세정보 조회)" position="absolute 120 4 544 17" anchor="default"/>
              <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 16 585 21" anchor="default"/>
              <Edit id="ed_empNm" taborder="6" readonly="true" autoselect="true" onchar="sed_common_OnChar" position="absolute 349 102 427 123" anchor="default"/>
              <Button id="btn_Other" taborder="7" text="타사원조회" onclick="btn_Other_OnClick" class="btn_WF_Custom" position="absolute 429 102 506 123" anchor="default"/>
              <Static id="Static1" text="영업사원" class="sta_WFDA_Label01" position="absolute 280 99 347 126" anchor="default"/>
              <Static id="Static07" text="전화번호" class="sta_WFDA_Label01" position="absolute 280 47 385 74"/>
              <Edit id="ed_S_TEL_NO" taborder="3" inputtype="number" autoselect="true" onkeydown="div_mainSearch_ed_S_TEL_NO_onkeydown" onchar="sed_common_OnChar" position="absolute 387 50 492 71"/>
            </Layout>
          </Layouts>
        </Div>
        <MPFileDialog id="fileDialog" taborder="32" visible="false" position="absolute 546 0 570 24" FileName="" FileNameList="" FilePath="" UserData="" MultiSelect="false" Filter="ALL File(*.*)|*.*" FilterIndex="0" AppendExtDefault="false" Type="Open" FileSize=""/>
        <MPFileDialog id="FileDialogSave" taborder="33" onclick="fileDialog1_onclick" visible="false" position="absolute 606 3 630 27" FileName="" FileNameList="" FilePath="" UserData="" MultiSelect="false" Filter="ALL File(*.*)|*.*" FilterIndex="0" AppendExtDefault="false" Type="Open" FileSize=""/>
        <Static id="Static07" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 540 29 550 719"/>
        <Splitter id="Splitter00" position="absolute 542 61 547 708">
          <Formats>
            <Format id="default">
              <SplitterItems id="items">
                <SplitterItem id="item00" bindtype="resize" position="leftortop" offset="0" componentid="div_mainSearch"/>
                <SplitterItem id="item01" bindtype="resize" position="leftortop" offset="0" componentid="grd_list"/>
                <SplitterItem id="item02" bindtype="resize" position="rightorbottom" offset="5" componentid="tab_list"/>
                <SplitterItem id="item03" bindtype="move" position="rightorbottom" offset="5" componentid="Static7"/>
              </SplitterItems>
            </Format>
          </Formats>
        </Splitter>
        <Button id="btn_excel" taborder="34" text="엑셀출력" onclick="btn_excel_onclick" class="btn_WF_Function" position="absolute 1 175 66 195"/>
        <Static id="Static00" text="# 매출처 설정항목추가&#13;&#10;   - 반환가능여부 항목추가(촤측 그리드, 우측 기본정보내 항목&#13;&#10;   - 열람되는 메뉴ID별 동적 변경사항 주의&#13;&#10;   - FMS_UPJANG 테이블에 RTN_YN 컬럼추가&#13;&#10;   - default : N&#13;&#10;   - 해당 정보 조회, 저장 프로그램 수정 F/U" position="absolute 21 733 424 904" style="linespace:8;background:antiquewhite;padding:30 0 0 30;align:left top;" visible="false"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_list">
        <ColumnInfo>
          <Column id="CUST_TYPE" size="50" type="STRING"/>
          <Column id="CUSTCD" size="22" type="INT"/>
          <Column id="M_LEVEL" size="1" type="STRING"/>
          <Column id="MAIN_UPJANG" size="22" type="INT"/>
          <Column id="MAIN_UPJANG_NM" size="50" type="STRING"/>
          <Column id="UPJANG" size="22" type="INT"/>
          <Column id="UPJANG_NM" size="50" type="STRING"/>
          <Column id="UPJANG_TYPE" size="6" type="STRING"/>
          <Column id="SAUPNO" size="50" type="STRING"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="DEPT_ID" size="10" type="INT"/>
          <Column id="CC_NM" size="200" type="STRING"/>
          <Column id="BO_DEPT_ID" size="200" type="STRING"/>
          <Column id="BO_VAT_UPJANG" size="200" type="STRING"/>
          <Column id="PART_CODE_NAME" size="256" type="STRING"/>
          <Column id="RTN_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_input">
        <ColumnInfo>
          <Column id="MAIN_UPJANG" size="256" type="STRING"/>
          <Column id="MAIN_UPJANG_NM" size="256" type="STRING"/>
          <Column id="UPJANG" size="256" type="STRING"/>
          <Column id="UPJANG_NM" size="256" type="STRING"/>
          <Column id="CUST_TYPE" size="256" type="STRING"/>
          <Column id="UJ_UPJANG" size="256" type="STRING"/>
          <Column id="FILEURL" size="256" type="STRING"/>
          <Column id="USE_YN" size="256" type="STRING"/>
          <Column id="EMP_NM" size="256" type="STRING"/>
          <Column id="SAUPNO" size="50" type="STRING"/>
          <Column id="TEL_NO" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CUST_TYPE"/>
            <Col id="EMP_NM"/>
            <Col id="FILEURL"/>
            <Col id="MAIN_UPJANG"/>
            <Col id="MAIN_UPJANG_NM"/>
            <Col id="UJ_UPJANG"/>
            <Col id="UPJANG"/>
            <Col id="UPJANG_NM"/>
            <Col id="USE_YN"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_useyn">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="code_name">사용</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="code_name">미사용</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_existYn">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="CODE_NAME">유</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="CODE_NAME">무</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_CustType">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE"/>
            <Col id="CODE_NAME">전체</Col>
          </Row>
          <Row>
            <Col id="CODE">캐터링</Col>
            <Col id="CODE_NAME">캐터링</Col>
          </Row>
          <Row>
            <Col id="CODE">가맹점</Col>
            <Col id="CODE_NAME">가맹점</Col>
          </Row>
          <Row>
            <Col id="CODE">일반</Col>
            <Col id="CODE_NAME">일반</Col>
          </Row>
          <Row>
            <Col id="CODE">외식</Col>
            <Col id="CODE_NAME">외식</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_UPJANG_TYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">본사</Col>
            <Col id="code_name">본사</Col>
          </Row>
          <Row>
            <Col id="CODE">사업장</Col>
            <Col id="code_name">사업장</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_PWD_CHG">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">0</Col>
            <Col id="code_name">설정안함</Col>
          </Row>
          <Row>
            <Col id="CODE">15</Col>
            <Col id="code_name">15일</Col>
          </Row>
          <Row>
            <Col id="CODE">30</Col>
            <Col id="code_name">30일</Col>
          </Row>
          <Row>
            <Col id="CODE">60</Col>
            <Col id="code_name">60일</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_OtcustType">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">대표업장</Col>
            <Col id="code_name">대표 사업장</Col>
          </Row>
          <Row>
            <Col id="CODE">대상업장</Col>
            <Col id="code_name">대상 사업장</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_CREDITTYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">관리안함</Col>
            <Col id="code_name">관리안함</Col>
          </Row>
          <Row>
            <Col id="CODE">여신일</Col>
            <Col id="code_name">여신회전일</Col>
          </Row>
          <Row>
            <Col id="CODE">여신액</Col>
            <Col id="code_name">여신액</Col>
          </Row>
          <Row>
            <Col id="CODE">여신일+여신액</Col>
            <Col id="code_name">회전일+여신액</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_FINANCIAL_STATUS">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">안정</Col>
            <Col id="code_name">안정</Col>
          </Row>
          <Row>
            <Col id="CODE">법정관리</Col>
            <Col id="code_name">법정관리</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_RCV_TYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">현금(CMS)</Col>
            <Col id="code_name">현금(CMS)</Col>
          </Row>
          <Row>
            <Col id="CODE">현금(가상계좌)</Col>
            <Col id="code_name">현금(가상계좌)</Col>
          </Row>
          <Row>
            <Col id="CODE">어음</Col>
            <Col id="code_name">어음</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_BizGroup"/>
      <Dataset id="ds_Use">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE"/>
            <Col id="code_name">전체</Col>
          </Row>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="code_name">사용</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="code_name">미사용</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Excel_Use">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="CODE_NAME">사용</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="CODE_NAME">미사용</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_BizKind"/>
      <Dataset id="ds_BizDetail"/>
      <Dataset id="ds_PartCode"/>
      <Dataset id="ds_sys_useyn">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="code_name">사용</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="code_name">미사용</Col>
          </Row>
          <Row>
            <Col id="CODE"/>
            <Col id="code_name">미설정</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Holiday_yn">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="code_name">반영</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="code_name">미반영</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_OpRate_Yn">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">C</Col>
            <Col id="CODE_NAME">소분류별</Col>
          </Row>
          <Row>
            <Col id="CODE">I</Col>
            <Col id="CODE_NAME">상품별</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cust" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onvaluechanged="ds_cust_onvaluechanged">
        <ColumnInfo>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="UPJANG_NO" type="STRING" size="256"/>
          <Column id="GUBUN" type="STRING" size="256"/>
          <Column id="PART_NAME" type="STRING" size="256"/>
          <Column id="CUST_TEL_NO" type="STRING" size="256"/>
          <Column id="CUST_HP_NO" type="STRING" size="256"/>
          <Column id="CUST_FAX_NO" type="STRING" size="256"/>
          <Column id="CUST_EMAIL" type="STRING" size="256"/>
          <Column id="DEPT_ID" type="STRING" size="256"/>
          <Column id="CONT_SALES_SABUN" type="STRING" size="256"/>
          <Column id="PART_SALES_SABUN" type="STRING" size="256"/>
          <Column id="PART_SALES_TEL_NO" type="STRING" size="256"/>
          <Column id="CS_SABUN" type="STRING" size="256"/>
          <Column id="CS_TEL_NO" type="STRING" size="256"/>
          <Column id="CUST_TEL_NO_ENC" type="STRING" size="256"/>
          <Column id="CUST_HP_NO_ENC" type="STRING" size="256"/>
          <Column id="CUST_FAX_NO_ENC" type="STRING" size="256"/>
          <Column id="CUST_EMAIL_ENC" type="STRING" size="256"/>
          <Column id="PART_SALES_TEL_NO_ENC" type="STRING" size="256"/>
          <Column id="CS_TEL_NO_ENC" type="STRING" size="256"/>
          <Column id="CUSER" type="STRING" size="256"/>
          <Column id="CDATE" type="STRING" size="256"/>
          <Column id="UUSER" type="STRING" size="256"/>
          <Column id="UDATE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
          <Column id="persInfoYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">Y</Col>
            <Col id="insYn">N</Col>
            <Col id="delYn">N</Col>
            <Col id="savYn">Y</Col>
            <Col id="prtYn">N</Col>
            <Col id="exlYn">N</Col>
            <Col id="persInfoYn">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_main" oncolumnchanged="ds_main_OnColumnChanged" onrowposchanged="ds_main_OnRowPosChanged" useclientlayout="false">
        <ColumnInfo>
          <Column id="ACNTCD" size="30" prop="default" type="STRING"/>
          <Column id="ADDR" size="300" prop="default" type="STRING"/>
          <Column id="ATTR01" size="300" prop="default" type="STRING"/>
          <Column id="ATTR02" size="300" prop="default" type="STRING"/>
          <Column id="ATTR03" size="300" prop="default" type="STRING"/>
          <Column id="ATTR04" size="300" prop="default" type="STRING"/>
          <Column id="ATTR05" size="300" prop="default" type="STRING"/>
          <Column id="ATTR06" size="300" prop="default" type="STRING"/>
          <Column id="ATTR07" size="300" prop="default" type="STRING"/>
          <Column id="ATTR08" size="300" prop="default" type="STRING"/>
          <Column id="ATTR09" size="300" prop="default" type="STRING"/>
          <Column id="ATTR10" size="300" prop="default" type="STRING"/>
          <Column id="BANK_CD" size="6" prop="default" type="STRING"/>
          <Column id="BANK_DRNM" size="50" prop="default" type="STRING"/>
          <Column id="BIZ_CAT" size="50" prop="default" type="STRING"/>
          <Column id="BIZ_NUM" size="10" prop="default" type="STRING"/>
          <Column id="BIZ_TYPE" size="50" prop="default" type="STRING"/>
          <Column id="CAPITAL" size="22" prop="default" type="INT"/>
          <Column id="CDATE" size="7" prop="default" type="DATE"/>
          <Column id="CENTER_FLAG" size="1" prop="default" type="STRING"/>
          <Column id="CLASS1_CNT" size="22" prop="default" type="INT"/>
          <Column id="CLASS2_CNT" size="22" prop="default" type="INT"/>
          <Column id="CLASS3_CNT" size="22" prop="default" type="INT"/>
          <Column id="CLASS4_CNT" size="22" prop="default" type="INT"/>
          <Column id="CLASS5_CNT" size="22" prop="default" type="INT"/>
          <Column id="CLASS6_CNT" size="22" prop="default" type="INT"/>
          <Column id="CLASS_CNT" size="22" prop="default" type="INT"/>
          <Column id="CONSUM_OP_RATE_YN" size="1" prop="default" type="STRING"/>
          <Column id="CONSUM_SM_RATE_YN" size="1" prop="default" type="STRING"/>
          <Column id="CONT_SALES_SABUN" size="9" prop="default" type="STRING"/>
          <Column id="CONT_SALES_SABUN_NM" size="20" prop="default" type="STRING"/>
          <Column id="CONTRACT_EDATE" size="8" prop="default" type="STRING"/>
          <Column id="CONTRACT_TERM" size="50" prop="default" type="STRING"/>
          <Column id="CREDIT_AMOUNT" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_AMOUNT_CONTROL_YN" size="1" prop="default" type="STRING"/>
          <Column id="CREDIT_CONTROL_YN" size="1" prop="default" type="STRING"/>
          <Column id="CREDIT_END" size="8" prop="default" type="STRING"/>
          <Column id="CREDIT_EXT_AMOUNT" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_EXT_DAYS" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_GRADE" size="50" prop="default" type="STRING"/>
          <Column id="CREDIT_OVER_AMOUNT" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_START" size="8" prop="default" type="STRING"/>
          <Column id="CREDIT_TURN_CONTROL_YN" size="1" prop="default" type="STRING"/>
          <Column id="CREDIT_TURN_DAYS" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_TYPE" size="13" prop="default" type="STRING"/>
          <Column id="CREDIT_UDATE" size="7" prop="default" type="DATE"/>
          <Column id="CREDIT_UUSER" size="9" prop="default" type="STRING"/>
          <Column id="CS_SABUN" size="9" prop="default" type="STRING"/>
          <Column id="CS_SABUN_NM" size="20" prop="default" type="STRING"/>
          <Column id="CS_TEL_NO" size="20" prop="default" type="STRING"/>
          <Column id="CUSER" size="9" prop="default" type="STRING"/>
          <Column id="CUST_ADDR" size="100" prop="default" type="STRING"/>
          <Column id="CUST_NAME" size="50" prop="default" type="STRING"/>
          <Column id="CUST_TYPE" size="50" prop="default" type="STRING"/>
          <Column id="D_DAYS" size="22" prop="default" type="INT"/>
          <Column id="D_OVER_DAYS" size="22" prop="default" type="INT"/>
          <Column id="D_TIMES" size="22" prop="default" type="INT"/>
          <Column id="DEPT_ID" size="22" prop="default" type="INT"/>
          <Column id="DEPT_ID_NM" size="50" prop="default" type="STRING"/>
          <Column id="EMPLOYEE_CNT" size="22" prop="default" type="INT"/>
          <Column id="FINANCIAL_STATUS" size="50" prop="default" type="STRING"/>
          <Column id="FREE_CNT" size="22" prop="default" type="INT"/>
          <Column id="FST_REG_DATE" size="8" prop="default" type="STRING"/>
          <Column id="GUAR_INSUR_INFO" size="300" prop="default" type="STRING"/>
          <Column id="HEAD_CREDIT_YN" size="1" prop="default" type="STRING"/>
          <Column id="LST_DEAL_DATE" size="8" prop="default" type="STRING"/>
          <Column id="M_LEVEL" size="1" prop="default" type="STRING"/>
          <Column id="MAIL_NUM" size="7" prop="default" type="STRING"/>
          <Column id="MAIN_UPJANG" size="22" prop="default" type="INT"/>
          <Column id="MAIN_UPJANG_NM" size="50" prop="default" type="STRING"/>
          <Column id="MORTGAGE_INFO" size="300" prop="default" type="STRING"/>
          <Column id="OP_RATE_YN" size="1" prop="default" type="STRING"/>
          <Column id="OTCUST_OP_RATE_YN" size="1" prop="default" type="STRING"/>
          <Column id="OTCUST_PRICE_UPJANG" size="22" prop="default" type="INT"/>
          <Column id="OTCUST_PRICE_UPJANG_NM" size="50" prop="default" type="STRING"/>
          <Column id="OTCUST_SM_RATE_YN" size="1" prop="default" type="STRING"/>
          <Column id="OTCUST_UPJANG_TYPE" size="8" prop="default" type="STRING"/>
          <Column id="PART_EMAIL" size="20" prop="default" type="STRING"/>
          <Column id="PART_FAX_NO" size="20" prop="default" type="STRING"/>
          <Column id="PART_HP_NO" size="20" prop="default" type="STRING"/>
          <Column id="PART_NAME" size="20" prop="default" type="STRING"/>
          <Column id="PART_SALES_SABUN" size="9" prop="default" type="STRING"/>
          <Column id="PART_SALES_SABUN_NM" size="20" prop="default" type="STRING"/>
          <Column id="PART_SALES_TEL_NO" size="20" prop="default" type="STRING"/>
          <Column id="PART_TEL_NO" size="20" prop="default" type="STRING"/>
          <Column id="PWD_CHG_CYCLE" size="22" prop="default" type="INT"/>
          <Column id="PWD_CHG_YN" size="1" prop="default" type="STRING"/>
          <Column id="QTY_CONTROL_YN" size="1" prop="default" type="STRING"/>
          <Column id="RCV_EXP_DATE" size="8" prop="default" type="STRING"/>
          <Column id="RCV_TYPE" size="50" prop="default" type="STRING"/>
          <Column id="REMARK" size="300" prop="default" type="STRING"/>
          <Column id="SALE_RATE" size="22" prop="default" type="INT"/>
          <Column id="SIGN1" size="50" prop="default" type="STRING"/>
          <Column id="SIGN2" size="50" prop="default" type="STRING"/>
          <Column id="SIGN3" size="50" prop="default" type="STRING"/>
          <Column id="SIGN4" size="50" prop="default" type="STRING"/>
          <Column id="SM_RATE_YN" size="1" prop="default" type="STRING"/>
          <Column id="SPECIAL_FACT" size="300" prop="default" type="STRING"/>
          <Column id="SUPPLY_END" size="8" prop="default" type="STRING"/>
          <Column id="TOT_CNT" size="22" prop="default" type="INT"/>
          <Column id="UDATE" size="7" prop="default" type="DATE"/>
          <Column id="UPJANG" size="22" prop="default" type="INT"/>
          <Column id="UPJANG_TYPE" size="6" prop="default" type="STRING"/>
          <Column id="UPJANGNM_DISP" size="100" prop="default" type="STRING"/>
          <Column id="USE_YN" size="1" prop="default" type="STRING"/>
          <Column id="UUSER" size="9" prop="default" type="STRING"/>
          <Column id="ZIP_CD" size="7" prop="default" type="STRING"/>
          <Column id="BIZ_GROUP" size="256" prop="default" type="STRING"/>
          <Column id="STAMP_IMG" size="50" prop="default" type="STRING"/>
          <Column id="SAUPNO" size="10" prop="default" type="STRING"/>
          <Column id="DRNAME" size="22" prop="default" type="STRING"/>
          <Column id="ADDR2" size="100" prop="default" type="STRING"/>
          <Column id="DRJUMIN" size="22" prop="default" type="STRING"/>
          <Column id="DELIVERY_DETAIL" size="256" prop="default" type="STRING"/>
          <Column id="EXCEL_EXPORT_YN" size="256" prop="default" type="STRING"/>
          <Column id="HOLIDAY_CHK_YN" size="256" prop="default" type="STRING"/>
          <Column id="SAFE_KEY" size="256" prop="default" type="STRING"/>
          <Column id="DOCU_FILE1" size="256" prop="default" type="STRING"/>
          <Column id="DOCU_FILE2" size="256" prop="default" type="STRING"/>
          <Column id="DOCU_FILE3" size="256" prop="default" type="STRING"/>
          <Column id="DOCU_FILE4" size="256" prop="default" type="STRING"/>
          <Column id="DOCU_FILE5" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE1" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE2" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE3" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE4" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE5" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE_SIZE1" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE_SIZE2" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE_SIZE3" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE_SIZE4" size="256" prop="default" type="STRING"/>
          <Column id="SDOCU_FILE_SIZE5" size="256" prop="default" type="STRING"/>
          <Column id="ACNT_PROC" type="STRING" size="10"/>
          <Column id="LOCAL1" type="STRING" size="3"/>
          <Column id="LOCAL2" type="STRING" size="3"/>
          <Column id="GANAP_YN" type="STRING" size="1"/>
          <Column id="LOCAL1_NM" type="STRING" size="256"/>
          <Column id="LOCAL2_NM" type="STRING" size="256"/>
          <Column id="ADDR_DETAIL" type="STRING" size="256"/>
          <Column id="CUST_ADDR_DETAIL" type="STRING" size="256"/>
          <Column id="GANAP_SALE_PART_NAME" type="STRING" size="256"/>
          <Column id="GANAP_SALE_PART_TEL_NO" type="STRING" size="256"/>
          <Column id="GANAP_CS_PART_NAME" type="STRING" size="256"/>
          <Column id="GANAP_CS_PART_TEL_NO" type="STRING" size="256"/>
          <Column id="ADDR_KEY" type="STRING" size="256"/>
          <Column id="ADDR_INFO" type="STRING" size="256"/>
          <Column id="CUST_ADDR_KEY" type="STRING" size="256"/>
          <Column id="CUST_ADDR_INFO" type="STRING" size="256"/>
          <Column id="ADDR2_KEY" type="STRING" size="256"/>
          <Column id="ADDR2_INFO" type="STRING" size="256"/>
          <Column id="BIZ_GNB" type="STRING" size="256"/>
          <Column id="AR_DESC_AA_YN" type="STRING" size="256"/>
          <Column id="EMAIL" type="STRING" size="256"/>
          <Column id="FAX_NO" type="STRING" size="256"/>
          <Column id="RTN_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_aotoCnt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GROUP_NAME" type="STRING" size="100"/>
          <Column id="GROUP_CODE" type="STRING" size="50"/>
          <Column id="CODE" type="STRING" size="50"/>
          <Column id="CODE_NAME" type="STRING" size="500"/>
          <Column id="CONTENTS" type="STRING" size="300"/>
          <Column id="SORT_SEQ" type="BIGDECIMAL" size="39"/>
          <Column id="SYSTEM_YN" type="STRING" size="1"/>
          <Column id="SET1" type="STRING" size="100"/>
          <Column id="SET2" type="STRING" size="100"/>
          <Column id="SET3" type="STRING" size="100"/>
          <Column id="SET4" type="STRING" size="100"/>
          <Column id="SET5" type="STRING" size="100"/>
          <Column id="REMARK" type="STRING" size="300"/>
          <Column id="USE_YN" type="STRING" size="1"/>
          <Column id="ATTR01" type="STRING" size="300"/>
          <Column id="ATTR02" type="STRING" size="300"/>
          <Column id="ATTR03" type="STRING" size="300"/>
          <Column id="ATTR04" type="STRING" size="300"/>
          <Column id="ATTR05" type="STRING" size="300"/>
          <Column id="ATTR06" type="STRING" size="300"/>
          <Column id="ATTR07" type="STRING" size="300"/>
          <Column id="ATTR08" type="STRING" size="300"/>
          <Column id="ATTR09" type="STRING" size="300"/>
          <Column id="ATTR10" type="STRING" size="300"/>
          <Column id="CUSER" type="STRING" size="20"/>
          <Column id="CDATE" type="DATETIME" size="7"/>
          <Column id="UUSER" type="STRING" size="20"/>
          <Column id="UDATE" type="DATETIME" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_userList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="NM_KOR" type="string" size="50"/>
          <Column id="USER_TEL_NO" type="string" size="4000"/>
          <Column id="USER_HP_NO" type="string" size="4000"/>
          <Column id="USER_FAX_NO" type="string" size="4000"/>
          <Column id="USER_EMAIL" type="string" size="4000"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind/>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";
/*
 ******************************************************************************************
 * 시스템구분   : 기준정보/사업장관리/매출처 정보관리(본부관리자용)
 * 프로그램명   : FMS00100E.XML
 * 기      능   : 매출처 정보관리
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20
 * 비      고   : 
 *		- ds_input				: [input DS] 조회조건 파라미터 DS
 *		- ds_CustType			: [코드 DS] 고객구분 DS (공통코드 : '고객구분')
 *		- ds_useyn				: [코드 DS] 사용구분 DS
 *		- ds_UPJANG_TYPE		: [코드 DS] 본사/사업장구분 DS
 *		- ds_PWD_CHG			: [코드 DS] 비밀번호 주기 DS
 *		- ds_OtcustType			: [코드 DS] 타거래처 단가업장구분 DS
 *		- ds_CREDITTYPE			: [코드 DS] 관리기준 DS
 *		- ds_FINANCIAL_STATUS	: [코드 DS] 재무상태 DS
 *		- ds_RCV_TYPE			: [코드 DS] 입금유형 DS
 *		- ds_BizGroup			: [코드 DS] 영업군 DS
 *		- ds_list				: 매출처리스트
 *		- ds_main				: [Main DS] 사업장 DS
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 *				2017.01.26	CH201701_00641	splitter 기능 추가 
 ******************************************************************************************
 */
//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//=========================================================================================
//@@컨버터에서 주석처리 #include "lib::sc_comon.js"				// 시스템 공통
//@@컨버터에서 주석처리 #include "LIB::lib_comm_0001.js"		//JAVA 코딩시
//@@컨버터에서 주석처리 #include "LIB::tit_comm_0001.js"		// X-Framework Lib
//@@컨버터에서 주석처리 #include "lib::sc_sql_common.js"		// 공통팝업
//@@컨버터에서 주석처리 #include "lib::fm_common.js"			// FM공통
//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================
var fstrCustinfo;								// 신규입력시 선택된 사업장정보
var fstrSaveUpjang;
var serverSaveDir = "FMM_UPJANG_IMG";			// 파일패스
//var serverSaveDir = "FMM_UPJANG_STAMP";			// 파일패스
var serverSaveUrl;								// 파일패스URL
//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(obj, true);

	// 업데이트 DS
	v_ds_check = "ds_main";
	
	// X-Framework : Action 정보 생성 
	fsp_init(this);
	
	// 공통코드조회
	var v_fil_cond;
	var v_ds = fn_common_code("'고객구분','FM0004', 'FM0020', 'FM0021', 'FM0022', 'FM0040'","","","all","Y");
	
	// 고객구분(ds_CustType, GROUP_CODE : '고객구분')
	v_fil_cond = "GROUP_CODE == '고객구분'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_CustType,v_ds.name);	
	ds_CustType.updateSortGroup("S:+CODE-CODE_NAME")
	//rdo_CUST_TYPE.Value = "가맹점";
	ds_input.setColumn(0,"CUST_TYPE",div_mainSearch.rdo_CUST_TYPE.value);						// 고객구분
	
	// 직군(ds_CustType, GROUP_CODE : 'FM0004')
	v_fil_cond = "GROUP_CODE == 'FM0004' && String(CODE).length > 0'";	
	v_ds.filter(v_fil_cond);
	CopyF(ds_BizGroup,v_ds.name);	
	
	// 사업군(ds_BizKind, GROUP_CODE : 'FM0020')
	v_fil_cond = "GROUP_CODE == 'FM0020' && String(CODE).length > 0";
	v_ds.filter(v_fil_cond);
	CopyF(ds_BizKind,v_ds.name);	
		
	// 세부직군(ds_BizDetail, GROUP_CODE : 'FM0021')
	v_fil_cond = "GROUP_CODE == 'FM0021' && String(CODE).length > 0";
	v_ds.filter(v_fil_cond);
	CopyF(ds_BizDetail,v_ds.name);	
			
	// 파트코드(ds_PartCode, GROUP_CODE : 'FM0022')
	v_fil_cond = "GROUP_CODE == 'FM0022' && String(CODE).length > 0";
	v_ds.filter(v_fil_cond);
	CopyF(ds_PartCode,v_ds.name);
	
	// 자동계좌처리여부(ds_aotoCnt, GROUP_CODE : 'FM0040')
	v_fil_cond = "GROUP_CODE == 'FM0040'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_aotoCnt,v_ds.name);	
	ds_aotoCnt.updateSortGroup("S:+CODE");
	ds_aotoCnt.setColumn(0,'CODE_NAME','');
				
	// 초기값 셋팅
	serverSaveUrl = fsp_getServerDir(serverSaveDir);
//	alert(serverSaveUrl);

	//BO관리부서와 부가세업장은 내부직원만 보이게...
	if (application.g_UserGroup <> '리조트')
	{
		grd_list.setFormatColProperty(12,"size",0);
		grd_list.setFormatColProperty(13,"size",0);
	}
	
	//접속한 사용자 명으로만 조회 가능함.
	div_mainSearch.ed_empNm.userdata = g_EmpNo;
	div_mainSearch.ed_empNm.value = g_Name;

	div_mainSearch.cbo_UseYN.index = 1;//사용여부(사용)
	
	tab_list.tab3.rdo_AR_DESC_AA_YN.enable = false;
}

/*
function frm_OnKeyDown(obj,objSenderObj,nChar,bShift,bControl,bAlt,nLLParam,nHLParam)
{
	fn_form_OnKeyDown(obj,objSenderObj,nChar,bShift,bControl,bAlt,nLLParam,nHLParam);
}
*/

//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,인쇄,도움말,form닫기)
//
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : fn_Search()
 * 기      능   : [조회버튼] 검색조건에 해당하는 정보를 조회
 ******************************************************************************************
 */
function fn_search()
{
	// 조회조건체크
	
	// 초기화
	ds_list.clearData();
	ds_main.clearData();
	ds_input.clearData();
	ds_input.addRow();
	ds_cust.clearData();
	
	
	// 조회
	var actionName, cmdName, inData, outData, otherArg, callBackFnc;
	
	inData			= "ds_input=ds_input";
	outData			= "ds_list=ds_list";
	callBackFnc		= "fn_afterSearchList";
	
	// 파라미터셋팅
	ds_input.setColumn(0,"MAIN_UPJANG_NM",gfn_trim(div_mainSearch.ed_S_MAIN_UPJANG.value));			// 본사코드
	//ds_input.SetColumn(0,"MAIN_UPJANG_NM",trim(ed_S_MAIN_UPJANG_NM.Text));	// 본사명
	ds_input.setColumn(0,"UPJANG_NM",gfn_trim(div_mainSearch.ed_S_UPJANG.value));					// 사업장코드
	//ds_input.SetColumn(0,"UPJANG_NM",trim(ed_S_UPJANG_NM.Text));				// 사업장명
	ds_input.setColumn(0,"CUST_TYPE",div_mainSearch.rdo_CUST_TYPE.value);						// 고객구분
	ds_input.setColumn(0,"USE_YN",div_mainSearch.cbo_UseYN.value);								// 사용유무
	ds_input.setColumn(0,"EMP_NM",div_mainSearch.ed_empNm.value);								// 영업사원, C/S사원
	ds_input.setColumn(0,"SAUPNO",div_mainSearch.ed_S_SAUPNO.value);							// 사업자번호

	// 2015-11-12 검색 조건 추가
	ds_input.setColumn(0,"TEL_NO",div_mainSearch.ed_S_TEL_NO.value);							// 전화번호 : 검색 추가
	
	fsp_clear(this); 
	//--------------------------------------------------------//
	// 소속이 남부 지사 이면 무조건 엑셀 Export 할 수 없게..
	// 2009.11.19 FS 식재 사업팀 요청 by 노규완  (FMS00100E_S003.xml)
	//--------------------------------------------------------//
	if ((gfn_pos(g_Cc_Nm ,"남부")>= 0) && (g_UserGroup) == "식재영업")	
		fsp_addSearch(this, "fm/fms:FMS00100E_S003");									// 조회 (남부)
	else
		fsp_addSearch(this, "fm/fms:FMS00100E_S001");									// 조회 (전체)
	
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Insert()
 * 기      능   : [입력버튼] 입력 시 처리되는 작업
 * 비      고	: 팝업사용
 ******************************************************************************************
 */
function fn_insert()
{
	// 처리변경
	/*
	var nRow;
	
	// 입력체크(1건만 입력가능)
	if(ds_main.GetUpdate()==true)
	{
		if(!g_Confirm("04","변경된 데이터가 있습니다.\n새로운 자료를 입력하시겠습니까?\n(기존에 입력한 자료는 사라집니다.)"))
		{
			return;
		}
	}
	
	fstrCustinfo="";
	
	// 팝업
	fstrCustinfo = gfn_dialog("", "U_FMS::FMS00100P.xml","");
	
	if (length(fstrCustinfo)=0)
	{
		return;
	}
	
	ds_main.ClearData();
	
	nRow = ds_main.addRow();
	
	// 초기값 셋팅
	fn_CustInfoSetting();																// 팝업값셋팅
	ds_main.setColumn(nRow, "CUST_TYPE", rdo_CUST_TYPE.Value);							// 고객구분
	ds_main.setColumn(nRow, "UPJANGNM_DISP", ds_main.GetColumn(nRow,"CUST_NAME"));		// 사업장명(고객용)
	ds_main.setColumn(nRow, "USE_YN", "Y");												// 사용여부
	ds_main.setColumn(nRow, "PWD_CHG_YN", "");											// 비밀번호주기
	ds_main.setColumn(nRow, "CREDIT_TYPE", "관리안함");									// 관리기준
	ds_main.setColumn(nRow, "CONSUM_OP_RATE_YN", "N");				// 소모품운영단가 작업
	ds_main.setColumn(nRow, "OTCUST_OP_RATE_YN", "N");				// 타거래처운영단가작업
	ds_main.setColumn(nRow, "CONSUM_SM_RATE_YN", "N");				// 소모품 제출단가 조정
	ds_main.setColumn(nRow, "OTCUST_SM_RATE_YN", "N");				// 타거래처 제출단가 작업
    ds_main.setColumn(nRow, "CUSER", g_EmpNo);
    ds_main.setColumn(nRow, "UUSER", g_EmpNo);
    
    btn_Copy.Enable = true;
    tab_list.tab1.ed_UPJANG.Enable = true;
    
    Tab_list.TabIndex =0;
    Tab_list.tab1.ed_UPJANG.SetFocus();
    */
}
/*
 ******************************************************************************************
 * 함  수  명   : fn_Save()
 * 기      능   : [저장버튼] 저장 시 처리되는 작업
 ******************************************************************************************
 */
function fn_save()
{
	// 변경여부 확인
	if(gfn_dsIsUpdated(ds_main)==false && gfn_dsIsUpdated(ds_cust)==false)
	{
		g_Message("EE", "변경된 데이터가 없습니다.");
		return;
	}
	
	if(!fn_SaveCheck())
	{
		return;
	}
	
	fstrSaveUpjang = ds_main.getColumn(ds_main.rowposition,"UPJANG");
	
    // 서비스셋팅
    var actionName, cmdName, inData, outData, otherArg, callBackFnc;
    var insertSql, updateSql, deleteSql,saveFlagColumn, keySqlName, keyIncrement, callbackSql;
    
    inData		= "ds_main=ds_main:U ds_input=ds_input ds_cust=ds_cust:U ";
    outData		= "ds_main=ds_main ds_list=ds_list ds_cust=ds_cust ";
    callBackFnc	= "fn_afterSave";

    fsp_clear(this);
    fsp_addSave(this, insertSql, "fm/fms:FMS00100E_U001", deleteSql,saveFlagColumn, keySqlName, -1, "fm/fms:FMS00100E_S001");
    fsp_addSave(this, "fm/fms:FMS00100E_I002", "fm/fms:FMS00100E_U002", "fm/fms:FMS00100E_D002", saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    fsp_addSave(this, "", "fm/fms:FMS00100E_U004", "", saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    fsp_addSave(this, "", "fm/fms:FMS00100E_U005", "", saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    fsp_addSave(this, insertSql, updateSql, deleteSql,saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    
    if ( ds_main.getColumn(0, "MAIN_UPJANG") == "117710" ) {
		fsp_addSave(this, "", "fm/fms:FMS00100E_U008", "", saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    }
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 
   
}
/*
 ******************************************************************************************
 * 함  수  명   : fn_Delete()
 * 기      능   : [삭제버튼] 삭제 시 처리되는 작업
 ******************************************************************************************
 */
function fn_delete()
{

	if(ds_main.getRowCount()==0)
	{
		g_Message("EE", "삭제할 데이터가 없습니다.");
		return;
	}
	
	// 삭제 못함. 사용중지로 돌려 이력남김.
	ds_main.setColumn(ds_main.rowposition,"USE_YN","N");
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Print()
 * 기      능   : [출력버튼] 출력 시 처리되는 작업
 ******************************************************************************************
 */
function fn_print()
{
}
/*
 ******************************************************************************************
 * 함  수  명   : fn_Close()
 * 기      능   : [닫기버튼] 화면을 닫을때 처리되는 작업
 ******************************************************************************************
 */
function fn_Close()
{
	this.close();
}
/*
 ******************************************************************************************
 * 함  수  명   : fn_Help()
 * 기      능   : [도움말버튼] 도움말
 ******************************************************************************************
 */
function fn_help()
{
	// tit_addSearchActionInfo(this, "fm/fms:SCC_MENU_SELECT");
	// tit_callService(this, "", "", "ds_cond=ds_cond", "ds_Menu=ds_list", "", "");	
}
//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : fn_SerchSub(nUPJANG)
 * 입      력   : nUPJANG = 조회할 업장코드
 * 반      환   : 없음
 * 기      능   : 사업장 상세정보 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function fn_SerchSub(nUPJANG)
{
	vUPJANG = nUPJANG;

	// 조회조건체크
	
	// 초기화
	ds_main.clearData();
	ds_cust.clearData();
	
	// 조회
	var actionName, cmdName, inData, outData, otherArg, callBackFnc;
	
	//inData			= "ds_input=ds_input";
	//outData			= "ds_main=ds_main ds_cust=ds_cust";
	outData			= "ds_main=ds_main ds_cust=ds_cust ds_Hist=ds_Hist ds_userList=ds_userList";
	callBackFnc		= "fn_afterSearch";
	
	otherArg		=  "UJ_UPJANG="	+ wrapQuote(nUPJANG);
	otherArg		+= " FILEURL="	+ wrapQuote(serverSaveUrl);
	otherArg		+= " p_MaskAuth="	+ SCAuth.getMaskAuth(this);
	
	// 파라미터셋팅
	ds_input.setColumn(0,"UJ_UPJANG",nUPJANG);						// 사업장코드
	ds_input.setColumn(0,"FILEURL",serverSaveUrl);
	
	fsp_clear(this); 
    fsp_addSearch(this, "fm/fms:FMS00100E_S002");									// 조회 
    fsp_addSearch(this, "fm/fms:FMS00100E_S004");
	fsp_addSearch(this, "fm/fms:FMS00100E_S005");
	fsp_addSearch(this, "fm/fms:FMS00100E_S007");	
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_SaveCheck()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 저상시 필수입력 체크
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function fn_SaveCheck()
{
	var nFRow,nRow,strValue,btp,strmsg;
	
	nRow = ds_main.rowposition;
	
	// 필수 입력 사항 확인 
	// 사업장코드
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(UPJANG))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "사업장코드를 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_UPJANG.setFocus();
		return false;
	}

	// 고객구분
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(CUST_TYPE))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "고객구분을 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.cbo_CUST_TYPE.setFocus();
		return false;
	}
	
	// 코드구분
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(UPJANG_TYPE))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "코드구분을 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.rdo_UPJANG_TYPE.setFocus();
		return false;
	}
	
	/*
	// 사업장명
	nFRow = ds_main.SearchRow("length(trim(UPJANGNM_DISP))==0");
	if( nFRow !=-1 )
	{
		ds_main.row = nFRow;
		g_Message("EE", "사업장명을 입력해주십시오.");
		tab_list.TabIndex = 0;
		tab_list.tab1.ed_CUST_NAME.SetFocus();
		return false;
	}
	*/
	// 본사그룹
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(MAIN_UPJANG))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "본사그룹을 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_MAIN_UPJANG.setFocus();
		return false;
	}
	/*
	// 사업자번호
	nFRow = ds_main.SearchRow("length(trim(BIZ_NUM))==0");
	if( nFRow !=-1 )
	{
		ds_main.row = nFRow;
		g_Message("EE", "사업자번호를 입력해주십시오.");
		tab_list.TabIndex = 0;
		tab_list.tab1.med_BIZ_NUM.SetFocus();
		return false;
	}
	*/
	
	// 메인여부
	if( ds_cust.getRowCount() != 0 )
	{
		var mainYn = 0;
		//if(ds_cust.getRowCount() != 0)
		for(var i=0; i<ds_cust.getRowCount(); i++)
		{
			if(ds_cust.getColumn(i, 'MAIN_YN')== 'Y')	mainYn++;
		}
		if(mainYn != 1)
		{
			if(mainYn < 1)	g_Message("EE", "메인여부를 선택해주십시오.");
			return false;
		}
	}
	
	// 영업부서
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(DEPT_ID_NM))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "영업부서을 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_DEPT_ID_NM.setFocus();
		return false;
	}
	
	// 영업사원
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(PART_SALES_SABUN))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "영업사원을 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_PART_SALES_SABUN_NM.setFocus();
		return false;
	}

	// 영업사원 연락처
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(PART_SALES_TEL_NO))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "영업사원 연락처를 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_PART_SALES_TEL_NO.setFocus();
		return false;
	}
	
	
	// C/S사원
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(CS_SABUN))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "C/S사원을 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_CS_SABUN_NM.setFocus();
		return false;
	}
	
	// C/S사원 연락처
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(CS_TEL_NO))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "C/S사원 연락처를 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.ed_CS_TEL_NO.setFocus();
		return false;
	}
/*
	///////////////////////////////////////////////////////////////////////////////////////////////////////////
	// 2010-06-07 사업군,영업군,세부경로,파트코드 입력사항 체크
	// 사업군
	nFRow = ds_main.SearchRow("length(trim(BIZ_KIND))==0");
	if( nFRow !=-1 )
	{
		ds_main.row = nFRow;
		g_Message("EE", "사업군을 입력해주십시오.");
		tab_list.TabIndex = 0;
		tab_list.tab1.BIZ_KIND.SetFocus();
		return false;
	}
	// 직군
	nFRow = ds_main.SearchRow("length(trim(BIZ_GROUP))==0");
	if( nFRow !=-1 )
	{
		ds_main.row = nFRow;
		g_Message("EE", "영업군을 입력해주십시오.");
		tab_list.TabIndex = 0;
		tab_list.tab1.BIZ_GROUP.SetFocus();
		return false;
	}
	// 세부직군
	nFRow = ds_main.SearchRow("length(trim(BIZ_DETAIL))==0");
	if( nFRow !=-1 )
	{
		ds_main.row = nFRow;
		g_Message("EE", "세부경로를 입력해주십시오.");
		tab_list.TabIndex = 0;
		tab_list.tab1.BIZ_DETAIL.SetFocus();
		return false;
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////
*/	

	// 파트코드
/*
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(PART_CODE))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "파트코드를 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.PART_CODE.setFocus();
		return false;
	}
*/
	// 사용여부
	nFRow = ds_main.findRowExpr("gfn_length(gfn_trim(USE_YN))==0");
	if( nFRow !=-1 )
	{
		ds_main.rowposition = nFRow;
		g_Message("EE", "사용여부를 입력해주십시오.");
		tab_list.tabindex = 0;
		tab_list.tab1.cbo_USE_YN.setFocus();
		return false;
	}
	
	// 결제라인설정 체크
	// 결제자1
	if (gfn_length(ds_main.getColumn(nRow,"SIGN2"))> 0 || gfn_length(ds_main.getColumn(nRow,"SIGN3"))> 0 || gfn_length(ds_main.getColumn(nRow,"SIGN4"))> 0)
	{
		if (gfn_length(ds_main.getColumn(nRow,"SIGN1"))== 0)
		{
			g_Message("EE", "결제자1을 입력해주십시오.");
			tab_list.tabindex = 1;
			tab_list.tab2.ed_SIGN1.setFocus();
			return false;
		}
	}
	// 결제자2
	if (gfn_length(ds_main.getColumn(nRow,"SIGN3"))> 0 || gfn_length(ds_main.getColumn(nRow,"SIGN4"))> 0)
	{
		if (gfn_length(ds_main.getColumn(nRow,"SIGN2"))== 0)
		{
			g_Message("EE", "결제자2를 입력해주십시오.");
			tab_list.tabindex = 1;
			tab_list.tab2.ed_SIGN2.setFocus();
			return false;
		}
	}
	// 결제자3
	if (gfn_length(ds_main.getColumn(nRow,"SIGN4"))> 0)
	{
		if (gfn_length(ds_main.getColumn(nRow,"SIGN3"))== 0)
		{
			g_Message("EE", "결제자3을 입력해주십시오.");
			tab_list.tabindex = 1;
			tab_list.tab2.ed_SIGN3.setFocus();
			return false;
		}
	}
	
    
    // 여신정보 체크
    // 관리기준이 관리안함인 경우는 체크안함. 여신일,여신액,여신일+여신액인 경우 각 항목의 값이 0이상 인지를 체크
    btp = false;
    strValue = ds_main.getColumn(nRow,"CREDIT_TYPE");

    if (strValue!="관리안함")
    {
		if (strValue!="여신일")
		{
			if (toNumber(ds_main.getColumn(nRow,"CREDIT_AMOUNT"))<=0)
			{
				btp = true;
			}
		}
		
		if (strValue!="여신액")
		{
			if (toNumber(ds_main.getColumn(nRow,"CREDIT_TURN_DAYS"))<=0)
			{
				btp = true;
			}
		}
		
		if (btp)
		{
			strmsg = "설정 및 채권/여신정보를 등록하지 않으셨습니다.\n";
		}
    }
    
    // 저장확인
	if(!g_Confirm("02",gfn_nvl(strmsg,"")+"그대로 저장하시겠습니까?"))
	{
		return false;
	}
    
    return true;
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_FormSetting()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 조회 후 화면셋팅
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function fn_FormSetting()
{
	var nRow,strValue;
	
	nRow = ds_main.rowposition;
	
	// insert인 경우만 true
	if (GetRowType(ds_main,nRow)!="insert")
	{
		tab_list.tab1.ed_UPJANG.enable = false;
		btn_Copy.enable = false;
	}
	
	// 코드구분(고객구분이 일반인 경우 수정불가)
	strValue = ds_main.getColumn(nRow,"CUST_TYPE");
	if (strValue=="일반")
	{
		tab_list.tab1.rdo_UPJANG_TYPE.enable = false;
		tab_list.tab1.btn_pop1.visible = false;
	}
	else
	{
		tab_list.tab1.rdo_UPJANG_TYPE.enable = true;
		tab_list.tab1.btn_pop1.visible = true;
	}
	
	// 대상업장인 경우만 선택팝업 가능
	strValue = ds_main.getColumn(nRow,"OTCUST_UPJANG_TYPE");
	if (strValue == "대상업장")
	{
		tab_list.tab2.btn_pop6.visible = true;
	}
	else
	{
		tab_list.tab2.btn_pop6.visible = false;
	}
	
	// 사업자번호 형식지정
	strValue = ds_main.getColumn(nRow,"BIZ_NUM");
	if(gfn_length(strValue)==10)
	{
		tab_list.tab1.med_BIZ_NUM.mask = "@@@-@@-@@@@@";
	}
	else if(gfn_length(tab_list.tab1.med_BIZ_NUM.value)==13)
	{
		tab_list.tab1.med_BIZ_NUM.mask = "@@@@@@-@@@@@@@";
	}
	else
	{
		tab_list.tab1.med_BIZ_NUM.mask = "";
	}
	
	// 관리기준에 따른 폼셋팅
	strValue = ds_main.getColumn(nRow,"CREDIT_TYPE");
	
	var btp1,btp2,btp3;
	
	if (strValue == "관리안함")
	{
		btp1 = false;
		btp2 = false;
		btp3 = false;
	}
	else if (strValue == "여신일")
	{
		btp1 = true;
		btp2 = true;
		btp3 = false;
	}
	else if (strValue == "여신액")
	{
		btp1 = true;
		btp2 = false;
		btp3 = true;
	}
	else	// 여신일 + 여신액
	{
		btp1 = true;
		btp2 = true;
		btp3 = true;
	}
	
	//tab_list.tab3.rdo_HEAD_CREDIT_YN.Enable 		= btp1;
	//tab_list.tab3.med_CREDIT_TURN_DAYS.Enable 		= btp2;
	//tab_list.tab3.med_CREDIT_EXT_DAYS.Enable 		= btp2;
	//tab_list.tab3.med_CREDIT_AMOUNT.Enable 			= btp3;
	//tab_list.tab3.med_CREDIT_EXT_AMOUNT.Enable 		= btp3;
	//tab_list.tab3.rdo_CREDIT_CONTROL_YN.Enable 		= btp1;
	//tab_list.tab3.med_CREDIT_OVER_AMOUNT.Enable 	= btp1;
	//tab_list.tab3.cal_CREDIT_END.Enable 			= btp1;
	
	// 본사인 경우만 이미지 업로드 다운로드
	strValue = ds_main.getColumn(nRow,"UPJANG_TYPE");
	if (strValue == "본사")
	{
		btp1 = true;
		btp2 = false;
	}
	else
	{
		btp1 = false;
		btp2 = true;
	}
	
	tab_list.tab1.Div00.img_photo.visible 		= btp1;
	tab_list.tab1.Div00.btn_UploadImg.visible 	= btp1;
	tab_list.tab1.Div00.btn_DeleteImg.visible 	= btp1;
	tab_list.tab1.Div00.st_bk1.visible 			= btp1;
	//tab_list.tab1.st_bk2.visible 			= btp1;
	tab_list.tab1.Div00.st_text.visible 			= btp1;
	//tab_list.tab1.st_bk3.visible 			= btp2;
	
	// 이연FnC가 본사인 경우
	if ( ds_main.getColumn(nRow, "MAIN_UPJANG") == "117710" ) {
		tab_list.tab2.Static17.visible = true;
		tab_list.tab2.cbo_bizGnb.visible = true;
	} else {
		tab_list.tab2.Static17.visible = false;
		tab_list.tab2.cbo_bizGnb.visible = false;
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_CustInfoSetting()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 입력시 사업장정보를 셋팅
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 * 비      고	: 
	- 팝업리턴 값
 		[0] strReturn = 		ds_list.GetColumn(nRow,"CUST_CD");					// 사업자등록번호
		[1] strReturn += "; " + ds_list.GetColumn(nRow,"CUST_NAME");				// 사업장명
		[2] strReturn += "; " + ds_list.GetColumn(nRow,"HILVL_CUST_CD"); 			// 사업자등록번호-본사
		[3] strReturn += "; " + ds_list.GetColumn(nRow,"HILVL_CUST_NAME"); 			// 본사명
		[4] strReturn += "; " + ds_list.GetColumn(nRow,"MAIL_NUM"); 				// 소재지 우편번호
		[5] strReturn += "; " + ds_list.GetColumn(nRow,"ADDR"); 					// 소재지
		[6] strReturn += "; " + ds_list.GetColumn(nRow,"BIZ_TYPE"); 				// 업종
		[7] strReturn += "; " + ds_list.GetColumn(nRow,"BIZ_CAT"); 					// 업태		
		[8] strReturn += "; " + ds_list.GetColumn(nRow,"UPJANG_TYPE"); 				// 업태종류(본사/사업장)
		[9] strReturn += "; " + ds_list.GetColumn(nRow,"HILVL_UPJANG"); 			// 본사 업종코드
		[10] strReturn += "; " + ds_list.GetColumn(nRow,"BIZ_NUM"); 				// 사업자번호
		[11] strReturn += "; " + ds_list.GetColumn(nRow,"UPJANG"); 					// 업장코드
 ******************************************************************************************
 */
function fn_CustInfoSetting()
{
	var nRow;
	
	nRow	= ds_main.rowposition;
	
	strResult	= gfn_split(fstrCustinfo, ";");
	
	ds_main.setColumn(nRow, "CUSTCD", gfn_trim(strResult[0]));			// 사업자번호
	ds_main.setColumn(nRow, "CUST_NAME", gfn_trim(strResult[1]));		// 사업장명
	ds_main.setColumn(nRow, "MAIL_NUM", gfn_trim(strResult[4]));		// 소재지 우편번호
	ds_main.setColumn(nRow, "CUST_ADDR", gfn_trim(strResult[5]));		// 소재지
	ds_main.setColumn(nRow, "BIZ_TYPE", gfn_trim(strResult[6]));		// 업종
	ds_main.setColumn(nRow, "BIZ_CAT", gfn_trim(strResult[7]));			// 업태
	ds_main.setColumn(nRow, "UPJANG_TYPE", gfn_trim(strResult[8]));		// 업태종류(본사/사업장)
	ds_main.setColumn(nRow, "BIZ_NUM", gfn_trim(strResult[10]));		// 사업자번호
	ds_main.setColumn(nRow, "UPJANG", gfn_trim(strResult[11]));			// 업장코드
	
	if (gfn_length(gfn_trim(strResult[9]))>0)
	{
		ds_main.setColumn(nRow, "MAIN_UPJANG", gfn_trim(strResult[9]));			// 본사 업종코드
		ds_main.setColumn(nRow, "MAIN_UPJANG_NM", gfn_trim(strResult[3]));		// 본사명
	}
	
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSearchList()
 * 입      력   : errCode 	= 에러코드
				  errMsg	= 에러메세지
 * 반      환   : 없음
 * 기      능   : 리스트 조회 후 실행 함수
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function fn_afterSearchList(errCode, errMsg)
{	
	
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오.");

		return;
	}
	else
	{
		//st_titlecnt.Text = "  * 총 [ " + ds_list.CaseCount("USE_YN='Y'") + " ]개의 매출처가 사용";
		
		
		if (ds_list.rowcount > 0)
		{
			fn_SerchSub(ds_list.getColumn(ds_list.rowposition,"UPJANG"));
		}
		
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSearch()
 * 입      력   : errCode 	= 에러코드
				  errMsg	= 에러메세지
 * 반      환   : 없음
 * 기      능   : 사업장 조회 후 실행 함수
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function fn_afterSearch(errCode, errMsg)
{
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오");
		return;
	}
	else
	{
		fn_FormSetting();
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSave()
 * 입      력   : errCode 	= 에러코드
				  errMsg	= 에러메세지
 * 반      환   : 없음
 * 기      능   : 저장
 * 작  성  자   : 박지영
 * 작성  일자   : 2008-01-16 
 ******************************************************************************************
 */
function fn_afterSave(errCode, errMsg)
{
	if(errCode==0)
	{
		g_Message("02","사업장 정보가 저장되었습니다.");
		var nFRow = ds_list.findRow("UPJANG",fstrSaveUpjang);
		
		if (nFRow >= 0)
		{
			ds_list.rowposition = nFRow;
			fn_SerchSub(fstrSaveUpjang);
		}
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_FileSave()
 * 입      력   : nRow : 파일입력할 row
 * 반      환   : true/false : 파일저장이 잘 됬는지 리턴
 * 기      능   : 파일저장
 * 작  성  자   : 박지영
 * 작성  일자   : 2008-03-24 
 ******************************************************************************************
 */
function fn_FileSave(nRow)
{
	var strFile,strOrgFile;
	
	strFile 	= ds_list.getColumn(nRow,"PHOTO");
	/* GetOrgBuffColumn은 지원되지 않는 메서드입니다.*/ strOrgFile	= ds_list.GetOrgBuffColumn(nRow,"PHOTO");
	
	if (strFile != strOrgFile && gfn_length(strFile)> 0)
	{
		// 파일 서버로 전송 
		var arr = fsp_fileWrite(httpFile, serverSaveDir, ds_list.getColumn(nRow,"PHOTO_URL"), ds_list.getColumn(nRow,"PHOTO"));  
		
		// 처리 결과 확인하기 
		if( arr[0] == "S" ) 	// 성공 
		{
			ds_list.setColumn(nRow,"PHOTO_URL",serverSaveUrl);
			ds_list.setColumn(nRow,"SPHOTO",arr[2]);
		}
		else
		{
			g_Message("EE", "파일저장에 실패하였습니다.");
			return false;
		}
    }
    
	return true;
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_FileDelete()
 * 입      력   : nRow : 파일입력할 row
 * 반      환   : true/false : 파일삭제가 잘 됬는지 리턴
 * 기      능   : 파일삭제
 * 작  성  자   : 박지영
 * 작성  일자   : 2008-03-24 
 ******************************************************************************************
 */
function fn_FileDelete(nRow)
{
	// 파일 삭제
	btp = fsp_fileDelete(serverSaveDir, ds_list.getColumn(nRow,"SPHOTO"),true);
	
	if (btp)
	{
		ds_list.setColumn(nRow,"PHOTO","");
		ds_list.setColumn(nRow,"SPHOTO","");
	}
	else
	{
		g_Message("EE", "파일삭제에 실패하였습니다.");
		return false;
	}

    
	return true;
}
//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 기요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : grd_list_OnCellClick(obj,nRow,nCell,nX,nY,nPivotIndex)
 * 기      능   : 사업장 그리드 클릭 시 상세내역 조회
					- 본사명을 클릭한 경우 본사 상세내역 조회, 그외의 경우 해당 사업장 상세내역 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 * 수  정  자   : 최영준
 * 수정  일자   : 2015-03-20
 ******************************************************************************************
 */
function grd_list_OnCellClick(obj:Grid, e:GridClickEventInfo)
{

	// 변경여부 확인
	if(gfn_dsIsUpdated(ds_main)==true||gfn_dsIsUpdated(ds_cust)==true)
	{
		if(g_Confirm("02","변경된 내역이 있습니다. 변경된 내역을 저장하시겠습니까?"))
		{
			fn_save();
		}
	}
	
	var nUPJANG;
	
	if (e.cell == 3)		// 본사명 클릭 
	{
		nUPJANG = ds_list.getColumn(e.row,"MAIN_UPJANG");
	}
	else				// 그외 다른셀 클릭
	{
		nUPJANG = ds_list.getColumn(e.row,"UPJANG");
	}
	
	fn_SerchSub(nUPJANG);
}

 /******************************************************************************************
 * 함  수  명   : grd_List_OnHeadClick(obj,nCell,nX,nY,nPivotIndex)
 * 기      능   : 그리드헤드 더블클릭시 Sort
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function grd_List_OnHeadClick(obj:Grid, e:GridClickEventInfo)
{
	gfn_gridSort(obj, e); //(eval(obj.binddataset), obj, e.cell);
}

 /******************************************************************************************
 * 함  수  명   : ds_main_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
 * 기      능   : 데이타 변경시 셋팅작업
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */
function ds_main_OnColumnChanged(obj:Dataset, e:DSColChangeEventInfo)
{
	// 고객구분이 일반인 경우 코드구분 본사로 자동셋팅, 그외의 경우는 선택가능해야 함.
	if (e.columnid=="CUST_TYPE" && e.newvalue=="일반")
	{
		ds_main.setColumn(e.row,"UPJANG_TYPE","본사");
	}
	
	// 코드구분이 본사인 경우 본사/본사그룹 자동셋팅
	if (e.columnid=="UPJANG_TYPE" && e.newvalue=="본사")
	{
		ds_main.setColumn(e.row,"MAIN_UPJANG",ds_main.getColumn(e.row,"UPJANG"));
		ds_main.setColumn(e.row,"MAIN_UPJANG_NM",ds_main.getColumn(e.row,"CUST_NAME"));
	}
	
	// 타거래처단가업장이 대표업장인 경우 타거래단가업장코드 셋팅
	if (e.columnid=="OTCUST_UPJANG_TYPE" && e.newvalue=="대표업장")
	{
		ds_main.setColumn(e.row,"OTCUST_PRICE_UPJANG",ds_main.getColumn(e.row,"UPJANG"));
		ds_main.setColumn(e.row,"OTCUST_PRICE_UPJANG_NM",ds_main.getColumn(e.row,"CUST_NAME"));
	}
	
	// 재직인원변경시 총인원 셋팅
	if (e.columnid=="CLASS1_CNT" || e.columnid=="CLASS2_CNT" || e.columnid=="CLASS3_CNT")
	{
		var nCnt = toNumber(ds_main.getColumn(e.row,"CLASS1_CNT")) + toNumber(ds_main.getColumn(e.row,"CLASS2_CNT")) + toNumber(ds_main.getColumn(e.row,"CLASS3_CNT"));
		ds_main.setColumn(e.row,"TOT_CNT",nCnt);
	}
	
	// 여신관리기준에 따라 여신일,여신액관리 셋팅,여신관리준이 관리안함인 경우 본사통합관리여부안함.
	if (e.columnid=="CREDIT_TYPE")
	{
		if (e.newvalue == "여신일+여신액")
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","Y");
		}
		else if (e.newvalue == "여신일")
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","N");
		}
		else if (e.newvalue == "여신액")
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","N");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","Y");
		}
		else
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","N");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","N");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","N");
			ds_main.setColumn(e.row,"HEAD_CREDIT_YN","N");
		}
	}
	
	
	fn_FormSetting();
}

 /******************************************************************************************
 * 함  수  명   : btn_Copy_OnClick(obj)
 * 기      능   : 불러오기 - 기존에 입력된 사업장 정보를 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20 
 ******************************************************************************************
 */
function btn_Copy_OnClick(obj:Button, e:ClickEventInfo)
{	
	// 팝업
	
	var btp = gfn_dialog("", "U_FMS::FMS00104P.xfdl","");
	fn_CustInfoSetting();
	fn_FormSetting();
}

 /******************************************************************************************
 * 함  수  명   : sed_common_OnChar(obj,strPreText,nChar,strPostText,LLParam,HLParam)
 * 기      능   : 검색조건 엔터시 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20 
 ******************************************************************************************
 */
function sed_common_OnChar(obj:Edit, e:CharEventInfo)
{
	if (e.chartext == 13)	// 엔터
	{
		fn_search();
	}
}




function ds_main_OnRowPosChanged(obj:Dataset, e:DSRowPosChangeEventInfo)
{	
	var v_path="FMS_UPJANG_STAMP";	
	
	if (gfn_length(gfn_trim(ds_main.getColumn(e.newrow,"STAMP_IMG")))== 0) {
		tab_list.tab2.img_photo.image = "";		
	}
	else
	{
		tab_list.tab2.img_photo.image = fsp_getServerDir(v_path, ds_main.getColumn(e.newrow,"STAMP_IMG"));				
	}
	tab_list.tab1.comp_addr.bind();
	tab_list.tab1.comp_custAddr.bind();
}



/*
function ds_list_OnRowPosChanged(obj,nOldRow,nRow)
{

	if (length(trim(ds_list.GetColumn(nRow,"STAMP_IMG"))) == 0) {
		tab_list.tab2.img_photo.ImageID = "";
	}
	else
	{
		tab_list.tab2.img_photo.ImageID=fsp_getServerDir(tab_list.tab1.v_path,ds_list.GetColumn(nRow,"STAMP_IMG"));
	}	
}
*/


function ed_S_MAIN_UPJANG_OnChanged(obj:Edit, e:TextChangedEventInfo)
{
	
}

function btn_Other_OnClick(obj:Button, e:ClickEventInfo)
{
	var strReturn;
		
	// 팝업
	strReturn = gfn_dialog("", "U_FMS::FMS00131V.xfdl",{strUpjang:"@@@"});	
}

function ed_S_UPJANG_onkeydown(obj:Edit, e:KeyEventInfo)
{
	 if (e.keycode == 13)	// 엔터
	{
		fn_search();
	}
} 

/*
 ******************************************************************************************
 * 함  수  명   : ds_cust_onvaluechanged(obj:Dataset,  e:DSColChangeEventInfo)
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Grid내 라디오 박스 한개만 체크하게 함.
 * 작  성  자   : 최영준
 * 작성  일자   : 2015-03-30
 ******************************************************************************************
 */
function ds_cust_onvaluechanged(obj:Dataset,  e:DSColChangeEventInfo)
{
	if(e.columnid == 'MAIN_YN')
	{
		var mainYn = 0;
		for(i=0; i<ds_cust.getRowCount(); i++)
		{
			if(ds_cust.getColumn(i, 'MAIN_YN') == '1')	ds_cust.setColumn(i, 'MAIN_YN','Y');
			
			if(ds_cust.getColumn(i, 'MAIN_YN') == 'Y')	mainYn++;
			else ds_cust.setColumn(i,'MAIN_YN','N');
		}
		
		if(mainYn > 1)
		{
			for(i=0; i<ds_cust.getRowCount(); i++)
			{
				if(i == e.row)
				{
					ds_cust.setColumn(e.row, 'MAIN_YN', 'Y');
					continue;
				}
				ds_cust.setColumn(i, 'MAIN_YN', 'N');
			}
		}
	}	
}

/*
 전화번호 입력란 검색 기능 추가 : 2015-11-12
*/
function div_mainSearch_ed_S_TEL_NO_onkeydown(obj:Edit, e:KeyEventInfo)
{
	 if (e.keycode == 13)	// 엔터
	{
		fn_search();
	}
}

function btn_excel_onclick(obj:Button,  e:ClickEventInfo) {
	try {
		grd_list.enableredraw = false;
		grd_list.setFormat("excel");
		grd_list.persinfo = "N";
		gfn_exportExcel(grd_list);
	} catch (e) {
	
	} finally {
		grd_list.setFormat("Default");
		grd_list.persinfo = "Y";
		grd_list.enableredraw = true;
	}
}]]></Script>
  </Form>
</FDL>
