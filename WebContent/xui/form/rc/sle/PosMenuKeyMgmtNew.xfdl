<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="PosMenuKeyMgmtNew" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="지정키메뉴관리" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Div id="div_menu" taborder="169" style="background:dimgray;" visible="false" position="absolute 0 264 609 457">
          <Layouts>
            <Layout>
              <Div id="div_grp" taborder="0" style="background:yellowgreen;" visible="false" position="absolute 8 378 617 509" anchor="default"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static39" position="absolute 10 400 594 452" anchor="left top" style="background:chocolate;bordertype:normal 0 0 ;"/>
        <Radio id="rad_moveType" taborder="168" columncount="0" rowcount="0" codecolumn="codecolumn" datacolumn="datacolumn" style="color:white;align:left middle;" direction="vertical" anchor="default" position="absolute 422 434 590 450" positiontype="position" value="2" index="1">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">소그룹이동</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">메뉴이동</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="Static22" text="지정키 등록" class="sta_WF_Title01" position="absolute 0 245 450 263" anchor="left top"/>
        <Static id="Static15" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 232 450 245" anchor="left top"/>
        <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 258 450 263" anchor="left top"/>
        <Button id="btn_menu01" taborder="119" position="absolute 10 267 104 306" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu02" taborder="120" position="absolute 109 267 203 306" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu03" taborder="121" position="absolute 206 267 300 306" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu04" taborder="122" position="absolute 305 267 399 306" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu05" taborder="123" position="absolute 403 267 497 306" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu07" taborder="124" position="absolute 10 312 104 351" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu08" taborder="125" position="absolute 108 311 202 350" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu09" taborder="126" position="absolute 207 311 301 350" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu10" taborder="127" position="absolute 304 311 398 350" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu11" taborder="128" position="absolute 403 311 497 350" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu12" taborder="129" position="absolute 501 310 595 349" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menuPre" taborder="130" class="btn_WF_leftMove" position="absolute 502 355 543 395" onclick="btn_menuPre_onclick"/>
        <Button id="btn_menuNext" taborder="131" class="btn_WF_rightMove" position="absolute 554 355 595 395" onclick="btn_menuNext_onclick"/>
        <Button id="btn_menu06" taborder="134" position="absolute 501 267 595 306" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu13" taborder="135" position="absolute 10 356 104 395" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu14" taborder="136" position="absolute 108 355 202 394" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu15" taborder="137" position="absolute 207 355 301 394" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu16" taborder="138" position="absolute 304 355 398 394" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Button id="btn_menu17" taborder="139" position="absolute 403 355 497 394" onclick="btn_menu_onclick" cdNum="" subGrp=""/>
        <Static id="Static40" text="소그룹명" class="sta_WFSA_label" position="absolute 27 408 94 429" anchor="left top" style="color:blue;"/>
        <Edit id="edt_grpSclass" taborder="161" position="absolute 88 408 230 429" style=":disabled {cursor:arrowwait;}" menuSclassCd=""/>
        <Button id="btn_save02" taborder="162" text="저장" onclick="btn_save02_onclick" class="btn_WF_Function" position="absolute 245 408 316 428"/>
        <Button id="btn_delete01" taborder="163" text="삭제" onclick="btn_Sclassdelete_onclick" class="btn_WF_Function" position="absolute 320 408 393 428"/>
        <Button id="btn_moveMenu" taborder="164" text="이동" class="btn_WF_Function" position="absolute 396 408 466 428" onclick="btn_moveMenu_onclick"/>
        <Static id="Static13" text="현재 페이지" class="sta_WFSA_label" position="absolute 474 408 557 429" anchor="left top" style="color:blue;"/>
        <Edit id="edt_menuPage" taborder="146" readonly="true" position="absolute 552 407 588 428" value="0102"/>
        <Div id="div_grp" taborder="166" position="absolute 0 100 609 231" style="background:dimgray;" visible="false">
          <Layouts>
            <Layout>
              <Div id="div_grp" taborder="0" style="background:yellowgreen;" visible="false" position="absolute 8 378 617 509"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static09" visible="true" position="absolute 10 192 594 226" anchor="left top" style="background:turquoise;bordertype:normal 0 0 ;" class="sta_WFSA_Labelbg"/>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="1" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 71" anchor="left top right"/>
        <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 30 93 40" anchor="left top"/>
        <Static id="Static05" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 61 93 71" anchor="left top"/>
        <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 40 15 61" anchor="left top"/>
        <Static id="Static00" text="지정키 그룹 등록" class="sta_WF_Title01" position="absolute 0 84 450 102" anchor="left top"/>
        <Static id="Static01" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 71 450 84" anchor="left top"/>
        <Static id="Static02" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 5 97 455 102" anchor="left top"/>
        <Static id="Static26" text="사업장" class="sta_WFSA_label" position="absolute 366 40 413 61" anchor="left top"/>
        <Static id="Static27" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 412 40 422 61" anchor="left top"/>
        <Static id="Static29" text="사업부" class="sta_WFSA_label" position="absolute 15 40 62 61" anchor="left top"/>
        <Static id="Static30" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 60 40 70 61" anchor="left top"/>
        <MuSearchComponent id="cbo_mu" titletext="사업부 선택 Component" taborder="101" onkeydown="cbo_mu_onkeydown" text="MuSearchComponent00" class="cmb_WF_Essential" position="absolute 70 40 171 61" bindDataset="" bindMuCdColumn="" appendText="" onItemChangedEvent="fn_muChange"/>
        <TmSearchComponent id="edt_tm" titletext="팀 검색용 Component" taborder="102" text="TmSearchComponent00" class="edt_WF_Essential" position="absolute 229 40 336 61" bindDataset="" bindTmCdColumn="" bindTmNmColumn="" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChange" eventBeforeTrigger=""/>
        <UpjangSearchComponent id="edt_upjang" titletext="업장 검색용 Component" taborder="103" text="UpjangSearchComponent00" class="edt_WF_Essential" position="absolute 421 40 544 61" bindDataset="" bindUpjangCodeColumn="" bindUpjangNameColumn="" eventBeforeTrigger="" eventAfterTrigger="fn_upjangChange" roleSetId=""/>
        <Static id="Static31" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 171 40 201 61" anchor="left top"/>
        <Static id="Static32" text="팀" class="sta_WFSA_label" position="absolute 201 40 225 61" anchor="left top"/>
        <Static id="Static64" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 219 40 229 61" anchor="left top"/>
        <Static id="Static65" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 336 40 366 61" anchor="left top"/>
        <Static id="Static66" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 544 40 574 61" anchor="left top"/>
        <Button id="btn_grp01" taborder="104" position="absolute 10 106 104 145" onclick="btn_grp_onclick" grpCode=""/>
        <Button id="btn_grp02" taborder="105" position="absolute 109 106 203 145" style="background:@gradation;" text="음료" onclick="btn_grp_onclick"/>
        <Button id="btn_grp03" taborder="106" position="absolute 206 106 300 145" onclick="btn_grp_onclick" style="background:@gradation;"/>
        <Button id="btn_grp04" taborder="107" position="absolute 305 106 399 145" onclick="btn_grp_onclick"/>
        <Button id="btn_grp05" taborder="108" position="absolute 403 105 497 144" onclick="btn_grp_onclick"/>
        <Button id="btn_grp06" taborder="109" position="absolute 10 151 104 190" onclick="btn_grp_onclick"/>
        <Button id="btn_grp07" taborder="110" position="absolute 108 150 202 189" onclick="btn_grp_onclick"/>
        <Button id="btn_grp08" taborder="111" position="absolute 207 150 301 189" onclick="btn_grp_onclick"/>
        <Button id="btn_grp09" taborder="112" position="absolute 304 150 398 189" onclick="btn_grp_onclick"/>
        <Button id="btn_grp10" taborder="113" position="absolute 403 150 497 189" onclick="btn_grp_onclick"/>
        <Button id="btn_grp11" taborder="114" position="absolute 501 149 595 188" onclick="btn_grp_onclick"/>
        <Button id="btn_grpPre" taborder="115" position="absolute 501 104 542 144" class="btn_WF_leftMove" onclick="btn_grpPre_onclick"/>
        <Button id="btn_grpNext" taborder="116" position="absolute 554 105 595 145" class="btn_WF_rightMove" onclick="btn_grpNext_onclick"/>
        <Static id="Static03" text="그룹명" class="sta_WFSA_label" position="absolute 32 200 99 221" anchor="left top" style="color:blue;"/>
        <Edit id="edt_grpNm" taborder="117" onkeydown="edt_menuSclass_onkeydown" position="absolute 88 200 230 221" style=":disabled {cursor:arrowwait;}" menuSclassCd="" autoselect="true"/>
        <Edit id="edt_grpPage" taborder="140" position="absolute 552 199 588 220" readonly="true"/>
        <Static id="Static12" text="현재 페이지" class="sta_WFSA_label" position="absolute 474 200 557 221" anchor="left top" style="color:blue;"/>
        <Button id="btn_save" taborder="143" text="그룹저장" class="btn_WF_Function" position="absolute 245 200 316 220" anchor="default" onclick="btn_save_onclick"/>
        <Button id="btn_delete" taborder="144" text="그룹삭제" class="btn_WF_Function" position="absolute 320 200 393 220" anchor="default" onclick="btn_delete_onclick"/>
        <Button id="btn_move" taborder="145" text="그룹이동" class="btn_WF_Function" position="absolute 396 200 466 220" onclick="btn_move_onclick"/>
        <Static id="Static10" text="POS 번호" class="sta_WFSA_label" position="absolute 575 40 642 61" anchor="left top"/>
        <Static id="Static11" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 640 40 650 61" anchor="left top"/>
        <Combo id="cbo_posNum" taborder="147" innerdataset="@ds_posNum" codecolumn="posNum" datacolumn="posNumNm" class="cmb_WF_Essential" position="absolute 650 40 730 61" anchor="left top" index="-1"/>
        <Static id="Static14" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 730 40 760 61" anchor="left top"/>
        <Static id="Static17" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 610 71 1060 84" anchor="left top"/>
        <Static id="Static18" text="메뉴 리스트" class="sta_WF_Title01" position="absolute 610 84 1060 102" anchor="left top"/>
        <Static id="Static19" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 610 97 1060 102" anchor="left top"/>
        <Static id="Static20" class="sta_WFSA_Labelbg" position="absolute 610 104 1237 171" anchor="left top right"/>
        <Static id="Static51" text="W05." visible="false" position="absolute 619 135 852 140" style="background:#ff000055;align:center middle;"/>
        <Static id="Static21" text="메뉴구분" class="sta_WFSA_label" position="absolute 621 114 708 135" anchor="left top"/>
        <Static id="Static23" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 679 114 689 135" anchor="left top"/>
        <Static id="Static24" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 759 114 789 135" anchor="left top"/>
        <Static id="Static25" text="중분류" class="sta_WFSA_label" position="absolute 789 114 842 135" anchor="left top"/>
        <Static id="Static28" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 833 114 843 135" anchor="left top"/>
        <Static id="Static33" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 942 114 972 135" anchor="left top"/>
        <Static id="Static34" text="소분류" class="sta_WFSA_label" position="absolute 972 114 1039 135" anchor="left top"/>
        <Static id="Static35" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 1018 114 1028 135" anchor="left top"/>
        <Static id="Static36" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 1161 114 1191 135" anchor="left top"/>
        <Button id="btn_menuClass" taborder="148" tabstop="false" onclick="btn_menuClass_onclick" class="btn_WF_popSearch" position="absolute 738 114 759 135"/>
        <Edit id="edt_menuClass" taborder="149" readonly="true" onkeydown="edt_menuClass_onkeydown" position="absolute 688 114 739 135" style=":disabled {cursor:arrowwait;}" menuClassCd=""/>
        <Edit id="edt_menuClsfi" taborder="150" readonly="true" onkeydown="edt_menuClsfi_onkeydown" position="absolute 843 114 922 135" style=":disabled {cursor:arrowwait;}" menuClsfiCd=""/>
        <Button id="btn_menuClsfi" taborder="151" tabstop="false" onclick="btn_menuClsfi_onclick" class="btn_WF_popSearch" position="absolute 921 114 942 135"/>
        <Edit id="edt_menuSclass" taborder="152" readonly="true" onkeydown="edt_menuSclass_onkeydown" position="absolute 1028 114 1141 135" style=":disabled {cursor:arrowwait;}" menuSclassCd=""/>
        <Button id="btn_menuSclass" taborder="153" tabstop="false" onclick="btn_menuSclass_onclick" class="btn_WF_popSearch" position="absolute 1140 114 1161 135"/>
        <Static id="Static37" text="메뉴명" class="sta_WFSA_label" position="absolute 619 139 686 160" anchor="left top"/>
        <Edit id="edt_menuNm" taborder="154" position="absolute 689 139 942 160" style=":disabled {cursor:arrowwait;}"/>
        <Static id="Static38" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 679 139 689 160" anchor="left top"/>
        <CheckBox id="chk_serchUseYn" taborder="155" text="자판 배열이 설정된 메뉴(상품) 포함" value="true" position="absolute 929 80 1145 99"/>
        <Grid id="grd_outletMenu" taborder="156" binddataset="ds_outletMenuList" autoenter="select" useinputpanel="false" selecttype="multirow" cellsizingtype="col" cellmovingtype="col" oncelldblclick="grd_outletMenu_oncelldblclick" position="absolute 610 175 1237 709" resizeX="100" resizeY="100" moveX="0" moveY="0" anchor="all">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="85"/>
                <Column size="181"/>
                <Column size="105"/>
                <Column size="72"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="80"/>
                <Column size="69"/>
                <Column size="82"/>
                <Column size="63"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="125"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="100"/>
                <Column size="83"/>
                <Column size="95"/>
                <Column size="110"/>
                <Column size="60"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="아이템코드"/>
                <Cell col="1" text="아이템명"/>
                <Cell col="2" text="POS 화면명칭"/>
                <Cell col="3" text="적용가격"/>
                <Cell col="4" text="대분류"/>
                <Cell col="5" text="중분류"/>
                <Cell col="6" text="소분류"/>
                <Cell col="7" text="기준금액"/>
                <Cell col="8" text="메뉴타입"/>
                <Cell col="9" text="과세여부"/>
                <Cell col="10" text="계산방식"/>
                <Cell col="11" text="봉사료"/>
                <Cell col="12" text="부가세"/>
                <Cell col="13" text="특소세"/>
                <Cell col="14" text="교육세"/>
                <Cell col="15" text="농특세"/>
                <Cell col="16" text="기금"/>
                <Cell col="17" text="할인가능여부"/>
                <Cell col="18" text="단가변경가능"/>
                <Cell col="19" text="주방출력명"/>
                <Cell col="20" text="주방출력여부1"/>
                <Cell col="21" text="주방프리너코드1"/>
                <Cell col="22" text="주방출력여부2"/>
                <Cell col="23" text="주방프리너코드2"/>
                <Cell col="24" text="주방출력여부3"/>
                <Cell col="25" text="주방프리너코드3"/>
                <Cell col="26" text="주방출력여부4"/>
                <Cell col="27" text="주방프리너코드4"/>
                <Cell col="28" text="티켓출력여부"/>
                <Cell col="29" text="단위"/>
                <Cell col="30" text="자재코드"/>
                <Cell col="31" text="바코드"/>
                <Cell col="32" text="사용구분"/>
                <Cell col="33" text="updtId"/>
                <Cell col="34" text="updtDdtt"/>
                <Cell col="35"/>
                <Cell col="36"/>
                <Cell col="37"/>
                <Cell col="38"/>
                <Cell col="39"/>
              </Band>
              <Band id="body">
                <Cell style="align:center;" text="bind:menuCd"/>
                <Cell col="1" style="align:left;" text="bind:menuNm"/>
                <Cell col="2" style="align:left;" text="bind:menuAbbr"/>
                <Cell col="3" displaytype="number" text="bind:applyPrice"/>
                <Cell col="4" text="bind:menuClassNm"/>
                <Cell col="5" text="bind:menuClsfiNm"/>
                <Cell col="6" text="bind:menuSclassNm"/>
                <Cell col="7" displaytype="number" text="bind:basisPrice"/>
                <Cell col="8" displaytype="normal" text="bind:menuTypeNm"/>
                <Cell col="9" displaytype="normal" text="bind:taxYnNm"/>
                <Cell col="10" text="bind:calMethodNm"/>
                <Cell col="11" text="bind:svc"/>
                <Cell col="12" text="bind:vat"/>
                <Cell col="13" text="bind:specTax"/>
                <Cell col="14" text="bind:eduTax"/>
                <Cell col="15" text="bind:ffTax"/>
                <Cell col="16" text="bind:fund"/>
                <Cell col="17" text="bind:discntPossYnNm"/>
                <Cell col="18" text="bind:upriceChgPossYnNm"/>
                <Cell col="19" text="bind:ktcnPrintNm"/>
                <Cell col="20" text="bind:ktcnPrintYn1Nm"/>
                <Cell col="21" text="bind:ktcnPrtrCd1"/>
                <Cell col="22" text="bind:ktcnPrintYn2Nm"/>
                <Cell col="23" text="bind:ktcnPrtrCd2"/>
                <Cell col="24" text="bind:ktcnPrintYn3Nm"/>
                <Cell col="25" text="bind:ktcnPrtrCd3"/>
                <Cell col="26" text="bind:ktcnPrintYn4Nm"/>
                <Cell col="27" text="bind:ktcnPrtrCd4"/>
                <Cell col="28" text="bind:ticketPrintYnNm"/>
                <Cell col="29" text="bind:unit"/>
                <Cell col="30" text="bind:materialCd"/>
                <Cell col="31" style="align:center;" text="bind:barCd"/>
                <Cell col="32" displaytype="normal" edittype="none" text="bind:useClassNm"/>
                <Cell col="33" text="bind:updtId"/>
                <Cell col="34" text="bind:updtDdtt"/>
                <Cell col="35"/>
                <Cell col="36"/>
                <Cell col="37"/>
                <Cell col="38"/>
                <Cell col="39"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_save00" taborder="157" text="메뉴저장" class="btn_WF_Function" position="absolute 465 240 532 260" onclick="btn_save00_onclick" visible="false"/>
        <Button id="btn_delete00" taborder="158" text="메뉴삭제" class="btn_WF_Function" position="absolute 540 240 603 260" onclick="btn_delete00_onclick" visible="false"/>
        <Button id="btn_menuSearch" taborder="160" text="검색" class="btn_WF_Function" position="absolute 950 140 991 160" onclick="btn_menuSearch_onclick"/>
        <Edit id="edt_moveName" taborder="167" position="absolute 371 228 491 247" visible="false"/>
        <CheckBox id="chk_menuInsert" taborder="165" text="메뉴 더블클릭으로 빈곳 찾아 넣기" value="true" position="absolute 1018 149 1234 168" style="color:orangered;"/>
        <Edit id="edt_moveNameMenu" taborder="170" visible="false" position="absolute 427 465 510 484"/>
        <Static id="Static41" text="[소그룹이동] 선택한 경우 소그룹 메뉴를 이동할 수 있음" class="sta_WF_Title01" position="absolute 15 436 413 451" anchor="left top" style="color:white;"/>
        <Edit id="edt_moveNameMenuSub" taborder="171" position="absolute 513 465 570 484" visible="false"/>
        <Edit id="edt_moveNameMenuNm" taborder="172" position="absolute 305 465 425 484" visible="false"/>
        <Static id="Static42" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 458 450 471" anchor="left top"/>
        <Static id="Static43" text="소그룹 이동 방법 및 메뉴 이동 방법" class="sta_WF_Title01" position="absolute 0 471 303 489" anchor="left top"/>
        <Static id="Static44" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 252 740 702 745" anchor="left top"/>
        <Static id="Static45" class="sta_WFSA_Labelbg" position="absolute 252 745 861 812" visible="false"/>
        <Static id="Static46" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 253 753 268 804" anchor="left top"/>
        <Static id="Static47" text="사업장" class="sta_WFSA_label" position="absolute 636 753 683 774" anchor="left top" visible="false"/>
        <Static id="Static48" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 682 753 692 774" anchor="left top"/>
        <Static id="Static49" text="사업부" class="sta_WFSA_label" position="absolute 264 753 327 774" anchor="left top" visible="false"/>
        <Static id="Static50" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 330 753 340 774" anchor="left top"/>
        <MuSearchComponent id="cbo_muCopy" titletext="사업부 선택 Component" taborder="173" onkeydown="cbo_mu_onkeydown" text="MuSearchComponent00" class="cmb_WF_Essential" position="absolute 340 753 441 774" bindDataset="" bindMuCdColumn="fn_muChangeCopy" appendText="" onItemChangedEvent="" visible="false"/>
        <TmSearchComponent id="edt_tmCopy" titletext="팀 검색용 Component" taborder="174" text="TmSearchComponent00" class="edt_WF_Essential" position="absolute 499 753 606 774" bindDataset="" bindTmCdColumn="" bindTmNmColumn="" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChangeCopy" eventBeforeTrigger="" visible="false"/>
        <UpjangSearchComponent id="edt_upjangCopy" titletext="업장 검색용 Component" taborder="175" text="UpjangSearchComponent00" class="edt_WF_Essential" position="absolute 691 753 814 774" bindDataset="" bindUpjangCodeColumn="" bindUpjangNameColumn="" eventBeforeTrigger="" eventAfterTrigger="fn_upjangChangeCopy" roleSetId="" visible="false"/>
        <Static id="Static52" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 441 753 471 774" anchor="left top"/>
        <Static id="Static53" text="팀" class="sta_WFSA_label" position="absolute 471 753 495 774" anchor="left top" visible="false"/>
        <Static id="Static54" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 489 753 499 774" anchor="left top"/>
        <Static id="Static55" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 606 753 636 774" anchor="left top"/>
        <Static id="Static56" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 814 753 844 774" anchor="left top"/>
        <Static id="Static57" text="POS 번호" class="sta_WFSA_label" position="absolute 264 779 331 800" anchor="left top" visible="false"/>
        <Static id="Static58" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 330 779 340 800" anchor="left top"/>
        <Combo id="cbo_posNumCopy" taborder="176" innerdataset="@ds_posNumCopy" codecolumn="posNum" datacolumn="posNumNm" class="cmb_WF_Essential" position="absolute 340 779 420 800" anchor="left top" visible="false"/>
        <Static id="Static59" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 420 779 450 800" anchor="left top"/>
        <Button id="btn_assignCopy" taborder="177" text="복사" class="btn_WF_Function" position="absolute 793 787 852 807" onclick="btn_assignCopy_onclick" visible="false"/>
        <Static id="Static60" text="지정키 복사" class="sta_WF_Title01" position="absolute 253 728 556 746" anchor="left top" visible="false"/>
        <Static id="Static61" text="&gt;&gt; 소그룹 이동 방법" position="absolute 16 492 570 515"/>
        <Static id="Static62" text="1. 소그룹이동 을 선택한다. " position="absolute 32 515 586 529"/>
        <Static id="Static63" text="2. 이동할 소그룹을 클릭한다." position="absolute 32 529 586 543"/>
        <Static id="Static67" text="3. 이동 버튼을 클릭한다." position="absolute 32 543 586 557"/>
        <Static id="Static68" text="4. 빈곳을 클릭한다.(이동할 위치)" position="absolute 32 560 586 574"/>
        <Static id="Static69" text="&gt;&gt; 메뉴이동 방법" position="absolute 16 575 570 598"/>
        <Static id="Static70" text="1. 메뉴이동을 클릭한다. -&gt; 이동할 메뉴를 클릭한다. -&gt;이동을 클릭한다.-&gt;빈곳을 클릭한다." position="absolute 34 591 588 614"/>
        <Static id="Static72" text="소그룹을 클릭한후 삭제 버튼을 누르면 소그룹이 삭제되며 소그룹에 들어 있는 메뉴도 모두 삭제 된다." position="absolute 32 629 586 652"/>
        <Static id="Static73" text="&gt;&gt;소그룹 및 메뉴 삭제 방법" position="absolute 14 613 568 636"/>
        <Static id="Static74" text="메뉴를 클릭하고 삭제 버튼을 누르면 해당 메뉴만 삭제 된다." position="absolute 31 660 585 683"/>
        <Static id="Static75" text="소그룹을 클릭한후 소그룹 안에 있는 메뉴를 클릭하면 해당  메뉴만 삭제 된다." position="absolute 32 644 586 667"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item76" compid="edt_grpNm" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item77" compid="edt_grpNm" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item3" compid="edt_menuClass" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item68" compid="edt_menuClass" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item70" compid="edt_menuClsfi" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item71" compid="edt_menuClsfi" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item4" compid="edt_menuSclass" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item5" compid="edt_menuSclass" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item6" compid="edt_menuNm" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item7" compid="edt_menuNm" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item2" compid="chk_serchUseYn" propid="value" datasetid="ds_amList" columnid="useYn"/>
      <BindItem id="item0" compid="edt_grpSclass" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item1" compid="edt_grpSclass" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item8" compid="chk_menuInsert" propid="value" datasetid="ds_amList" columnid="useYn"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">Y</Col>
            <Col id="insYn">N</Col>
            <Col id="delYn">N</Col>
            <Col id="savYn">Y</Col>
            <Col id="prtYn">Y</Col>
            <Col id="exlYn">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_assignKey" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="256"/>
          <Column id="grpPic" type="STRING" size="256"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="cdClass" type="STRING" size="2"/>
          <Column id="cdNum" type="STRING" size="50"/>
          <Column id="cdNumNm" type="STRING" size="256"/>
          <Column id="imgeFile1" type="STRING" size="400"/>
          <Column id="imgeFile2" type="STRING" size="400"/>
          <Column id="useYn" type="STRING" size="2"/>
          <Column id="picPage" type="STRING" size="256"/>
          <Column id="picCnt" type="STRING" size="256"/>
          <Column id="applyPrice" type="STRING" size="256"/>
          <Column id="cdNumOld" type="STRING" size="256"/>
          <Column id="picPlaceSubGrpOld" type="STRING" size="256"/>
          <Column id="picPlaceOld" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeyValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="256"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="cdNum" type="STRING" size="50"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="outletCd">title:업장코드,required:true</Col>
            <Col id="posNum">title:POS 번호,required:true</Col>
            <Col id="picPlaceGrp">title:화면위치 그룹 코드,required:true</Col>
            <Col id="picPlaceSubGrp">title:화면위치 서브그룹,required:true</Col>
            <Col id="picPlace">title:화면 위치,required:true</Col>
            <Col id="cdNum">title:메뉴코드,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_assignKeyGrp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="50"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="imgeFile1" type="STRING" size="100"/>
          <Column id="imgeFile2" type="STRING" size="100"/>
          <Column id="useYn" type="STRING" size="1"/>
          <Column id="picPage" type="STRING" size="256"/>
          <Column id="picCnt" type="STRING" size="256"/>
          <Column id="picPlaceGrpOld" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeyGrpValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="50"/>
          <Column id="picPlace" type="STRING" size="50"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="outletCd">title:업장코드,required:true</Col>
            <Col id="picPlaceGrp">title:화면위치 그룹 코드,required:true</Col>
            <Col id="picPlaceSubGrp">title:화면위치 서브그룹,required:true</Col>
            <Col id="picPlaceGrpNm">title:화면위치 그룹명,required:true</Col>
            <Col id="picPlace">title:화면 위치,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_posNum" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="posNumNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_posNumList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="posNumNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeyGrpChk" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_assignKeyGrp_oncolumnchanged">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="50"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="imgeFile1" type="STRING" size="100"/>
          <Column id="imgeFile2" type="STRING" size="100"/>
          <Column id="useYn" type="STRING" size="1"/>
          <Column id="cuser" type="STRING" size="20"/>
          <Column id="cdate" type="DATETIME" size="7"/>
          <Column id="uuser" type="STRING" size="20"/>
          <Column id="udate" type="DATETIME" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeyChk" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_assignKey_oncolumnchanged">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="256"/>
          <Column id="grpPic" type="STRING" size="256"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="cdClass" type="STRING" size="2"/>
          <Column id="cdNum" type="STRING" size="50"/>
          <Column id="cdNumNm" type="STRING" size="256"/>
          <Column id="imgeFile1" type="STRING" size="400"/>
          <Column id="imgeFile2" type="STRING" size="400"/>
          <Column id="useYn" type="STRING" size="2"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_outletMenuList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="chkYn" type="STRING" size="256"/>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="menuCd" type="STRING" size="256"/>
          <Column id="menuClass" type="STRING" size="256"/>
          <Column id="menuClassNm" type="STRING" size="256"/>
          <Column id="menuClsfi" type="STRING" size="256"/>
          <Column id="menuClsfiNm" type="STRING" size="256"/>
          <Column id="menuSclass" type="STRING" size="256"/>
          <Column id="menuSclassNm" type="STRING" size="256"/>
          <Column id="menuNm" type="STRING" size="256"/>
          <Column id="menuAbbr" type="STRING" size="256"/>
          <Column id="langae1" type="STRING" size="256"/>
          <Column id="langae2" type="STRING" size="256"/>
          <Column id="langae3" type="STRING" size="256"/>
          <Column id="basisPrice" type="STRING" size="256"/>
          <Column id="cst" type="STRING" size="256"/>
          <Column id="applyDd" type="STRING" size="256"/>
          <Column id="applyPrice" type="STRING" size="256"/>
          <Column id="endDd" type="STRING" size="256"/>
          <Column id="useClass" type="STRING" size="256"/>
          <Column id="useClassNm" type="STRING" size="256"/>
          <Column id="convertQuantity" type="STRING" size="256"/>
          <Column id="expl" type="STRING" size="4000"/>
          <Column id="unit" type="STRING" size="256"/>
          <Column id="dpstCd" type="STRING" size="256"/>
          <Column id="upriceChgPossYn" type="STRING" size="256"/>
          <Column id="upriceChgPossYnNm" type="STRING" size="256"/>
          <Column id="sesnApplyYn" type="STRING" size="256"/>
          <Column id="sesnApplyYnNm" type="STRING" size="256"/>
          <Column id="menuType" type="STRING" size="256"/>
          <Column id="menuTypeNm" type="STRING" size="256"/>
          <Column id="barCd" type="STRING" size="256"/>
          <Column id="materialCd" type="STRING" size="256"/>
          <Column id="materialCdNm" type="STRING" size="256"/>
          <Column id="recpCd" type="STRING" size="256"/>
          <Column id="picPlace" type="STRING" size="256"/>
          <Column id="taxYn" type="STRING" size="256"/>
          <Column id="taxYnNm" type="STRING" size="256"/>
          <Column id="calMethod" type="STRING" size="256"/>
          <Column id="calMethodNm" type="STRING" size="256"/>
          <Column id="svc" type="STRING" size="256"/>
          <Column id="specTax" type="STRING" size="256"/>
          <Column id="eduTax" type="STRING" size="256"/>
          <Column id="ffTax" type="STRING" size="256"/>
          <Column id="vat" type="STRING" size="256"/>
          <Column id="fund" type="STRING" size="256"/>
          <Column id="discntPossYn" type="STRING" size="256"/>
          <Column id="discntPossYnNm" type="STRING" size="256"/>
          <Column id="ticketPrintYn" type="STRING" size="256"/>
          <Column id="ticketPrintYnNm" type="STRING" size="256"/>
          <Column id="ktcnPrintNm" type="STRING" size="256"/>
          <Column id="ktcnPrintYn1" type="STRING" size="256"/>
          <Column id="ktcnPrintYn2" type="STRING" size="256"/>
          <Column id="ktcnPrintYn3" type="STRING" size="256"/>
          <Column id="ktcnPrintYn4" type="STRING" size="256"/>
          <Column id="ktcnPrintYn1Nm" type="STRING" size="256"/>
          <Column id="ktcnPrintYn2Nm" type="STRING" size="256"/>
          <Column id="ktcnPrintYn3Nm" type="STRING" size="256"/>
          <Column id="ktcnPrintYn4Nm" type="STRING" size="256"/>
          <Column id="ktcnPrtrCd1" type="STRING" size="256"/>
          <Column id="ktcnPrtrCd2" type="STRING" size="256"/>
          <Column id="ktcnPrtrCd3" type="STRING" size="256"/>
          <Column id="ktcnPrtrCd4" type="STRING" size="256"/>
          <Column id="custCd" type="STRING" size="256"/>
          <Column id="custCdNm" type="STRING" size="256"/>
          <Column id="commRat" type="STRING" size="256"/>
          <Column id="useYn" type="STRING" size="1"/>
          <Column id="useYnNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeySave" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlace" type="STRING" size="256"/>
          <Column id="cdNum" type="STRING" size="50"/>
          <Column id="useYn" type="STRING" size="2"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_posNumCopy" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="posNumNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeyGrpCopy" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="50"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="imgeFile1" type="STRING" size="100"/>
          <Column id="imgeFile2" type="STRING" size="100"/>
          <Column id="useYn" type="STRING" size="1"/>
          <Column id="picPage" type="STRING" size="256"/>
          <Column id="picCnt" type="STRING" size="256"/>
          <Column id="picPlaceGrpOld" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_assignKeyCopy" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="outletNm" type="STRING" size="256"/>
          <Column id="posNum" type="STRING" size="50"/>
          <Column id="picPlaceGrp" type="STRING" size="50"/>
          <Column id="picPlaceSubGrp" type="STRING" size="50"/>
          <Column id="picPlaceGrpNm" type="STRING" size="256"/>
          <Column id="grpPic" type="STRING" size="256"/>
          <Column id="picPlace" type="STRING" size="50"/>
          <Column id="cdClass" type="STRING" size="2"/>
          <Column id="cdNum" type="STRING" size="50"/>
          <Column id="cdNumNm" type="STRING" size="256"/>
          <Column id="imgeFile1" type="STRING" size="400"/>
          <Column id="imgeFile2" type="STRING" size="400"/>
          <Column id="useYn" type="STRING" size="2"/>
          <Column id="picPage" type="STRING" size="256"/>
          <Column id="picCnt" type="STRING" size="256"/>
          <Column id="applyPrice" type="STRING" size="256"/>
          <Column id="cdNumOld" type="STRING" size="256"/>
          <Column id="picPlaceSubGrpOld" type="STRING" size="256"/>
          <Column id="picPlaceOld" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <InitValue/>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : PosMenuKeyMngtNew
  파 일 명 : PosMenuKeyMngtNew.xfdl
  기    능 : 지정키메뉴관리 

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2015.08.07   박대영   최초 생성
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";


/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var fv_inFlag=false;
var fv_grpPage="01";
var fv_menuPage="01";
var fv_preObj="";
var fv_menupreObj="";
var fv_subGrp="";

var fv_moveType="";	
var fv_moveMenu="";
var fv_newMenuRow = "";
var fv_oldMenuRow = "";
/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo)
{	
	// Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
	gfn_formOnLoad(this);
 
	// 초기값 셋팅
	fn_init();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init()
{
	// 업데이트여부를 체크할 DataSet, 여러개 있을 경우 ;로 구분
	v_ds_check = "ds_assignKeyGrp;ds_assignKey";
	
	
	// 권한설정
	edt_tm.applyAuthLevel(cbo_mu);
	edt_upjang.applyAuthLevel(edt_tm);
	edt_upjang.setForcedRoleSet("OutletUpjang");
	
	// 권한설정 copy
	edt_tmCopy.applyAuthLevel(cbo_mu);
	edt_upjangCopy.applyAuthLevel(edt_tm);
	edt_upjangCopy.setForcedRoleSet("OutletUpjang");
	
    fn_clear();

	fn_selectListPosNum(); 
	
}

function fn_clear()
{
	for(var i=1; i < 12; i++) 
	{
		var cnt = (i < 10 ? "0"+String(i):String(i))
		eval("btn_grp" + cnt).text = "";
	}
    for(var i=1; i < 18; i++) 
	{
		var cnt = (i < 10 ? "0"+String(i):String(i))
		eval("btn_menu" + cnt).text = "";
	}
	fv_grpPage="01";
	fv_menuPage="01";
	edt_grpPage.value= fv_grpPage; 
	edt_menuPage.value= fv_menuPage;
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 닫기 전 변경 유무 체크 (필수-Frame에서 창 닫힐때 호출됨)
 *---------------------------------------------------------------------------------------------*/
// function fn_close()
// {	
// 	// v_ds_check 미사용시 변경사항 체크(입력 프로그램일때 변경되는 Dataset 전체 기술)
// 	if (gfn_dsIsUpdated(ds_assignKeyGrp) || gfn_dsIsUpdated(ds_assignKey)) 
// 	{
// 		// 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
//         if (!gfn_confirm("confirm.before.movepage")) return false;
//     }
//     
// 	// 조회프로그램에도 Return true; 기술해 주세요!
// 	return true;
// }
// 
// 
/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      :  포스 번호
 *---------------------------------------------------------------------------------------------*/
function fn_selectListPosNum()
{
	 
	ds_posNum.clearData();
	
    var strSvcID    = "selectListPosNumAll";
    var strURL      = "rc/sle/posMgmt/selectListPosNumAll.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_posNum=ds_posNum";
    var strArg      = "outletCd=" 
					+ " maskAuth=" + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
}
 
/*----------------------------------------------------------------------------------------------
 * 설명      :  그룹 코드를 읽는다.
 *---------------------------------------------------------------------------------------------*/
function fn_search()
{
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","영업장");
		return;
	}
	
    //화면 크리어
    for(var i=1; i < 12; i++) 
	{
		var cnt = (i < 10 ? "0"+String(i):String(i))
		eval("btn_grp" + cnt).text = "";
	}
    
    edt_grpNm.value="";
    
    //코드목록을 초기화한다. 
    ds_assignKeyGrp.clearData();
	ds_assignKey.clearData();
	
    var strSvcID    = "search";
    var strURL      = "rc/sle/posMenuKeyMgmt/selectGrpList.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_assignKeyGrp=ds_assignKeyGrp";
    var strArg      = "outletCd="  + gfn_nvl(edt_upjang.getUpjangCode(),"") 
					+ " posNum="   + gfn_nvl(cbo_posNum.value,"")
					+ " useYn="    + "1"
					+ " subGrp="   + "00"
					+ " grpPage="  + fv_grpPage
					+ " maskAuth=" + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
}
 
/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴를 읽는다  
 *---------------------------------------------------------------------------------------------*/
function fn_searchList()
{ 
	
	
	//임시 저장 변수를 모두 클리어 한다.
	ds_assignKeySave.clearData();
	ds_assignKey.clearData();
	
	
	//화면 크리어
    for(var i=1; i < 18; i++) 
	{
		var cnt = (i < 10 ? "0"+String(i):String(i))
		eval("btn_menu" + cnt).text = "";
		eval("btn_menu" + cnt).cdNum= "";
		eval("btn_menu" + cnt).subGrp= "";
	}
	
    var grpPage = edt_grpPage.value;
	if ( grpPage.length != 4)return;
    
    var strSvcID    = "searchList";
    var strURL      = "rc/sle/posMenuKeyMgmt/selectListNew.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_assignKey=ds_assignKey";
    var strArg      = "outletCd="        + gfn_nvl(edt_upjang.getUpjangCode(),"") 
					+ " posNum="         + gfn_nvl(cbo_posNum.value,"")
					+ " picPlaceGrp="    + gfn_nvl(edt_grpPage.value ,"")
					+ " picPlaceSubGrp=" + gfn_nvl(fv_subGrp,"")
					+ " menuPage="       + gfn_nvl(fv_menuPage,"01") 
					+ " maskAuth="       + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert()
{	

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete()
{
	 
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 처리
 *---------------------------------------------------------------------------------------------*/
function fn_save()
{
	 
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print()
{
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help()
{
	
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	// 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
	if (nErrorCode < 0) 
	{
		return;
	}
	
    switch(strSvcID)
    {
		case "search":
			if (ds_assignKeyGrp.rowcount>0)
			{
				for(var i=0; i < ds_assignKeyGrp.rowcount; i++) 
				{
					var cnt   = ds_assignKeyGrp.getColumn(i,"picCnt");
					var grpNm = ds_assignKeyGrp.getColumn(i,"picPlaceGrpNm");
					eval("btn_grp" + cnt).text = grpNm;
					//eval("btn_grp" + cnt).grpCode = ds_assignKeyGrp.getColumn(i,"picPlaceGrp");
					 
				}
				//fn_searchList(); //일단막어봐 20150807
				fv_newMenuRow = "";
				fv_oldMenuRow = "";
			}
			break;
		case "searchList":
			if (ds_assignKey.rowcount>0)
			{
				for(var i=0; i < ds_assignKey.rowcount; i++) 
				{
					var cnt   = ds_assignKey.getColumn(i,"picCnt");
					var cdNumNm = ds_assignKey.getColumn(i,"cdNumNm");
					var menuPrice = ds_assignKey.getColumn(i,"applyPrice");
					
					if (gfn_nvl(ds_assignKey.getColumn(i,"cdNum"),"") !="")
					{
						eval("btn_menu" + cnt).text = cdNumNm + "\r" + gfn_numFormat(gfn_nvl(menuPrice,"0"),3) ;;
					}
					else
					{
						eval("btn_menu" + cnt).text = cdNumNm;
					}
					eval("btn_menu" + cnt).cdNum = ds_assignKey.getColumn(i,"cdNum");
					eval("btn_menu" + cnt).subGrp = ds_assignKey.getColumn(i,"picPlaceSubGrp"); 
				}
				 
			
			} 
			break;
		case "deleteGrp":
			if(fv_preObj!="") fv_preObj.text ="";
			edt_grpNm.value="";
			gfn_alert("msg.delete.success");	// 삭제 되었습니다.
			break;
		case "deleteGrpSub":
			if(fv_menupreObj!="") fv_menupreObj.text ="";
			edt_grpSclass.value="";
			gfn_alert("msg.delete.success");	// 삭제 되었습니다.
			
			fv_subGrp=""; 
			fv_menuPage="01";
			edt_menuPage.value= fv_menuPage;
			fn_searchList();
			
			break;
			
		case "deleteSubData":
			//메뉴를 삭제 한다.
			var nCnt = gfn_right( edt_menuPage.value, 2);
			eval("btn_menu" + nCnt).text   = "" ;
			eval("btn_menu" + nCnt).cdNum  = "";
			eval("btn_menu" + nCnt).subGrp = "";
			gfn_alert("msg.delete.success");	// 삭제 되었습니다.
			break;
		case "selectListPosNumAll":
			ds_posNumList.clearData();
			ds_posNum.filter("outletCd==" + gfn_nvl(edt_upjang.getUpjangCode(),"") );
			ds_posNumList.copyData(ds_posNum,true);
			cbo_posNum.index=0;
			ds_posNumCopy.copyData(ds_posNum,true);
			cbo_posNumCopy.index=0;
			fn_search();
			btn_menuSearch_onclick();   
			break;
		case "selectListMenuList":
			
			break;
		case "saveMenu":
			gfn_alert("msg.save.success");	// 저장 되었습니다.
			
			break;
		case "saveSubSave":
			gfn_alert("msg.save.success");	// 저장 되었습니다.
			fn_searchList();
            break;    
        // 저장
        case "save" :
			gfn_alert("msg.save.success");	// 저장 되었습니다.
            break;    
        case "saveGroupMove":	//그룹이 이동 되면
			gfn_alert("정상 이동 처리 되었습니다.");	 
			div_grp.visible=false;
			div_menu.visible=false;
			div_menu.sendToBack();
			btn_move.text ="이동";
			fv_moveType="";
			grd_outletMenu.enable=true;
			fn_search();
 			break;
 		case "saveDataMoveList":
			gfn_alert("정상 이동 처리 되었습니다.");	 
			div_grp.visible=false;
			div_menu.visible=false;
			div_grp.sendToBack();
			btn_moveMenu.text ="이동";
			fv_moveMenu="";
			grd_outletMenu.enable=true;
			fn_searchList();
			rad_moveType.value=2;
 			break;
 			
 		//복사처리 (원본읽어 오기)
		case "searchCopy":
			//trace(ds_assignKeyGrpCopy.saveXML());
			fn_AssingKeyList();
			break;
		case "searchListCopy":
			//복사할 루틴 콜
			//trace(ds_assignKeyCopy.saveXML());
			//gfn_alert("잠시대기");	 
			fn_AssingKey_Copy();
			break;
			//복사전 자료가 있으면 삭제 한다.
		case "deleteData":
			fn_AssingKey();	
			break;
		case "copySave":
			gfn_alert("복사가 완료 되었습니다.");	 
			break;
    }
}


/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/

 

/*----------------------------------------------------------------------------------------------
 * 설명      : //사업부 변경되는 경우
 *---------------------------------------------------------------------------------------------*/
function fn_muChange(obj, event)
{
	edt_tm.setTmCode("");
	edt_upjang.setUpjangCode("");
	fn_clear(); 
	ds_assignKeyGrp.clearData();
	ds_assignKey.clearData();
	ds_posNumList.clearData();
	ds_posNum.filter("outletCd==00");
	ds_posNumList.copyData(ds_posNum,true);
}
//팀(운영부서) 변경되는 경우
function fn_tmChange(obj, data)
{
	edt_upjang.setUpjangCode("");
	fn_clear(); 
	ds_assignKeyGrp.clearData();
	ds_assignKey.clearData();
	
	ds_posNumList.clearData();
	ds_posNum.filter("outletCd==00");
	ds_posNumList.copyData(ds_posNum,true);

}
function fn_upjangChange(obj,data)
{
	fv_selectUpjang=true;
	
	fn_clear(); 
	ds_assignKeyGrp.clearData();
	ds_assignKey.clearData();
	
	ds_posNumList.clearData();
	ds_posNum.filter("outletCd==" + gfn_nvl(edt_upjang.getUpjangCode(),"") );
	ds_posNumList.copyData(ds_posNum,true);
	cbo_posNum.index=0;
	 
	fn_search();
	btn_menuSearch_onclick(); 
}


/*----------------------------------------------------------------------------------------------
 * 설명      : //사업부 변경되는 경우
 *---------------------------------------------------------------------------------------------*/
function fn_muChangeCopy(obj, event)
{
	edt_tm.setTmCode("");
	edt_upjang.setUpjangCode("");

	ds_posNumCopy.clearData();
	ds_posNum.filter("outletCd==00");
	ds_posNumCopy.copyData(ds_posNum,true);
}
//팀(운영부서) 변경되는 경우
function fn_tmChangeCopy(obj, data)
{
	edt_upjang.setUpjangCode("");

	
	posNumCopy.clearData();
	ds_posNum.filter("outletCd==00");
	ds_posNumCopy.copyData(ds_posNum,true);

}
function fn_upjangChangeCopy(obj,data)
{ 

	ds_posNumCopy.clearData();
	ds_posNum.filter("outletCd==" + gfn_nvl(edt_upjangCopy.getUpjangCode(),"") );
	ds_posNumCopy.copyData(ds_posNum,true);
	cbo_posNumCopy.index=0;
	 
}



/*----------------------------------------------------------------------------------------------
 * 설명      : 그룹의 다음/이전  버튼을 누른경우
 *---------------------------------------------------------------------------------------------*/ 
function btn_grpNext_onclick(obj:Button,  e:ClickEventInfo)
{
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	if (Number(fv_grpPage) == 99 ) return;
	var page = Number(fv_grpPage) + 1;
	fv_grpPage = (page<10?"0"+String(page):page)
	edt_grpPage.value= fv_grpPage
	if(fv_preObj!="")	fv_preObj.style.background = "@gradation";
	fn_search();
}

function btn_grpPre_onclick(obj:Button,  e:ClickEventInfo)
{
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	if (Number(fv_grpPage) == 1 ) return;
	var page = Number(fv_grpPage) - 1;
	fv_grpPage = (page<10?"0"+String(page):page)
	edt_grpPage.value= fv_grpPage
	if(fv_preObj!="")	fv_preObj.style.background = "@gradation";
	fn_search();
}


/*----------------------------------------------------------------------------------------------
 * 설명      : 그룹 번튼처리
 *---------------------------------------------------------------------------------------------*/
 
function btn_grp_onclick(obj:Button,  e:ClickEventInfo)
{
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	
	
	if(fv_preObj!="")	fv_preObj.style.background = "@gradation";
	obj.style.background = "chartreuse";
	
	edt_grpNm.value = obj.text;
	fv_preObj = obj;
	edt_grpPage.value= fv_grpPage + gfn_right( obj.name, 2);
	
	//fv_moveType 값이 있는 경우 그룹 이동작업중
	if (gfn_nvl(fv_moveType,"") !="")
	{
		if (obj.text !="")
		{
			gfn_alert("이동 불가 위치 입니다.");	 
			return;
		}
		var sMsg = "해당 위치로 이동 하시겠습니까?"
		if (gfn_confirm(sMsg, "", "C"))
		{
			
			fn_groupMove();
			fv_moveType="";			//이동그룹코드
			edt_moveName.value="";	//이동그룹명
		}
		return;
	}
	//menu List Clear
	fv_subGrp=""; 
	fv_menuPage="01";
	edt_menuPage.value = fv_menuPage;
	if(fv_menupreObj!="")	fv_menupreObj.style.background = "@gradation";
	fv_menupreObj="";
	
	
	fn_searchList();

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 그룹 저장 번튼
 *---------------------------------------------------------------------------------------------*/
function btn_save_onclick(obj:Button,  e:ClickEventInfo)
{
	var grpKey = edt_grpPage.value;
	if ( grpKey.length != 4)
	{
		gfn_alert("지정키 그룹을 선택 하십시오!");	// 저장 되었습니다.
		return;
	}
	if (edt_grpNm.value=="")
	{
		gfn_alert("지정키 그룹명을 입력 하십시오!");	 
		return;
	}
	var cnt = gfn_right(grpKey,2)
	eval("btn_grp" + cnt).text = edt_grpNm.value;
	
	ds_assignKeyGrp.clearData();
	var nRow = ds_assignKeyGrp.addRow();
	ds_assignKeyGrp.setColumn( nRow,"outletCd",  gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_assignKeyGrp.setColumn( nRow,"posNum",    gfn_nvl(cbo_posNum.value,""));
	
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrp", gfn_nvl(edt_grpPage.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlaceSubGrp","00");
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrpNm",gfn_nvl(edt_grpNm.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlace", gfn_nvl(edt_grpPage.value,""));
    ds_assignKeyGrp.setColumn( nRow,"useYn","1");
 
	if (gfn_validCheck(ds_assignKeyGrp, ds_assignKeyGrpValid) == false)	return;
  
    var strSvcID    = "save";
    var strURL      = "rc/sle/posMenuKeyMgmt/saveDataGrp.xdo";
    var strInDs     = "ds_assignKeyGrp=ds_assignKeyGrp:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
	
}


/*----------------------------------------------------------------------------------------------
 * 설명      : 그룹 삭제 번튼
 *---------------------------------------------------------------------------------------------*/
function btn_delete_onclick(obj:Button,  e:ClickEventInfo)
{
	var grpKey = edt_grpPage.value;
	if ( grpKey.length != 4)
	{
		gfn_alert("지정키 그룹을 선택 하십시오!");	// 저장 되었습니다.
		return;
	}
	if (edt_grpNm.value=="")
	{
		gfn_alert("지정키 그룹명을 입력 하십시오!");	 
		return;
	}
	 
	var cnt = gfn_right(grpKey,2)
	eval("btn_grp" + cnt).text = edt_grpNm.value;
	
	ds_assignKeyGrp.clearData();
	var nRow = ds_assignKeyGrp.addRow();
	ds_assignKeyGrp.setColumn( nRow,"outletCd",  gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_assignKeyGrp.setColumn( nRow,"posNum",    gfn_nvl(cbo_posNum.value,""));
	
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrp", gfn_nvl(edt_grpPage.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlaceSubGrp","00");
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrpNm",gfn_nvl(edt_grpNm.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlace", gfn_nvl(edt_grpPage.value,""));
    ds_assignKeyGrp.setColumn( nRow,"useYn","1");
 
	if (gfn_validCheck(ds_assignKeyGrp, ds_assignKeyGrpValid) == false)	return;
 
 
	var sMsg = "하위 모든 내역도 같이 삭제 처리 됩니다."
	sMsg = sMsg += "\r\r삭제 하시겠습니까?";
	
	//실제 저장처리를 수행할 지를 알려준다.
	if (gfn_confirm(sMsg, "", "C"))
	{
	 
		var strSvcID    = "deleteGrp";
		var strURL      = "rc/sle/posMenuKeyMgmt/deleteGrpData.xdo";
		var strInDs     = "ds_assignKeyGrp=ds_assignKeyGrp:U";
		var strOutDs    = "";
		var strArg      = "";
		var strCallback = "fn_callBack";
		var bAsync      = true;
		
		gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	}
}
 
/*----------------------------------------------------------------------------------------------
 * 설명      : 그룹 메뉴 이동 하기
 *---------------------------------------------------------------------------------------------*/ 
function fn_groupMove()
{
	
	var cnt = gfn_right(edt_grpPage.value ,2)
	eval("btn_grp" + cnt).text = edt_moveName.value;
	
	ds_assignKeyGrp.clearData();
	var nRow = ds_assignKeyGrp.addRow();
	ds_assignKeyGrp.setColumn( nRow,"outletCd",  gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_assignKeyGrp.setColumn( nRow,"posNum",    gfn_nvl(cbo_posNum.value,""));
	
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrp", gfn_nvl(edt_grpPage.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlaceSubGrp","00");
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrpNm",gfn_nvl(edt_moveName.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlace", gfn_nvl(edt_grpPage.value,""));
    ds_assignKeyGrp.setColumn( nRow,"useYn","1");
    ds_assignKeyGrp.setColumn( nRow,"picPlaceGrpOld",gfn_nvl(fv_moveType,""));
     
	if (gfn_validCheck(ds_assignKeyGrp, ds_assignKeyGrpValid) == false)	return;
	
    var strSvcID    = "saveGroupMove";
    var strURL      = "rc/sle/posMenuKeyMgmt/saveDataMove.xdo";
    var strInDs     = "ds_assignKeyGrp=ds_assignKeyGrp:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);

}
 
/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴의 다음/이전  버튼을 누른경우
 *---------------------------------------------------------------------------------------------*/ 
function btn_menuNext_onclick(obj:Button,  e:ClickEventInfo)
{
	if(fv_preObj == "") return;
	if(fv_preObj.text =="") return;
	if (Number(fv_menuPage) == 99 ) return;
	
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	var page = Number(fv_menuPage) + 1;
	fv_menuPage = (page<10?"0"+String(page):page)
	edt_menuPage.value= fv_menuPage
	if(fv_menupreObj != "")	fv_menupreObj.style.background = "@gradation";
	fn_searchList();
}

function btn_menuPre_onclick(obj:Button,  e:ClickEventInfo)
{
	//상위 그룹이 선택되지 않는 경우는 처리 하지 않느다.
	if(fv_preObj == "") return;
	if(fv_preObj.text =="") return;
	
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	if ((fv_subGrp != "")  && (Number(fv_menuPage) == 1))
	{
		
		fv_menuPage= gfn_left(fv_subGrp,2);
		fv_subGrp="";
	 
	}	
	else
	{
		 
		if (Number(fv_menuPage) == 1 ) return;
		var page = Number(fv_menuPage) - 1;
		
		fv_menuPage = (page<10?"0"+String(page):page)
	}
	
	
	edt_menuPage.value= fv_menuPage
	if(fv_menupreObj != "")	fv_menupreObj.style.background = "@gradation";
	fn_searchList();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 번튼처리
 *---------------------------------------------------------------------------------------------*/
function btn_menu_onclick(obj:Button,  e:ClickEventInfo)
{
	if ((fv_preObj == "")  || (fv_preObj.text ==""))
	 {
		gfn_alert("상위 그룹코드를 먼저 선택 하십시오!");	 
		return;
	 }
	if(fv_menupreObj!="")	fv_menupreObj.style.background = "@gradation";
	obj.style.background = "chartreuse";
	
	
	fv_menupreObj = obj;
	edt_menuPage.value= fv_menuPage + gfn_right( obj.name, 2);
	
	//fv_moveMenu 값이 있는 경우 그룹 이동작업중
	if (gfn_nvl(fv_moveMenu,"") !="")
	{
		if (obj.text !="")
		{
			gfn_alert("이동 불가 위치 입니다.");	 
			return;
		}
		var sMsg = "해당 위치로 이동 하시겠습니까?"
		if (gfn_confirm(sMsg, "", "C"))
		{
			
			fn_menuMove();
			fv_moveMenu="";			      //이동할 메뉴 화면 좌표
			edt_moveNameMenu.value="";	  //이동할 메뉴코드
			edt_moveNameMenuSub.value=""; //이동할 메뉴가 소속된 소그룹코드
			edt_moveNameMenuNm.value="";
		}
		return;
	}
	
	edt_moveNameMenu.value    = obj.cdNum	//이동할 메뉴코드
	edt_moveNameMenuSub.value = obj.subGrp	//이동할 메뉴가 소속된 소그룹코드
	edt_moveNameMenuNm.value  = obj.text    //이동할 메뉴명 
	
	if(fv_subGrp == "") edt_grpSclass.value ="";
	
	if (gfn_nvl(obj.text,"") == "") return;
	
	//메뉴코드가 없는 경우
	 
	if ((gfn_nvl(obj.cdNum,"") == "") && (rad_moveType.value == 2))
	{
		//메뉴에 그룹이 있는 경우
		if(fv_menupreObj != "")	fv_menupreObj.style.background = "@gradation"; 
		fv_subGrp = obj.subGrp;
		fv_menuPage="01";
		edt_menuPage.value=fv_menuPage;
		edt_grpSclass.value = obj.text
		 
		fn_searchList();
	}

	// 지정키를 클릭하면 메뉴 리스트 포커스를 지정키에 등록된 메뉴로 이동
	var cNum = obj.cdNum;
	if( gfn_nvl(obj.cdNum,"") != "" )
	{
		if( fv_newMenuRow == "" )
		{
			fv_newMenuRow = ds_outletMenuList.findRow("menuCd", cNum);
			fv_oldMenuRow = fv_newMenuRow;
			ds_outletMenuList.selectRow(fv_newMenuRow);
		}
		else
		{
			fv_oldMenuRow = fv_newMenuRow;
			ds_outletMenuList.selectRow(fv_oldMenuRow, false);
			fv_newMenuRow = ds_outletMenuList.findRow("menuCd", cNum);
			ds_outletMenuList.selectRow(fv_newMenuRow);
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 (서브그룹)저장 번튼
 *---------------------------------------------------------------------------------------------*/
function btn_save02_onclick(obj:Button,  e:ClickEventInfo)
{
	
	//메뉴이면 바로 메뉴를 저장 한다.
	if ( gfn_dsIsUpdated(ds_assignKeySave))
 	{
		 
		if (gfn_validCheck(ds_assignKeySave, ds_assignKeyValid) == false)	return;
		 
		var strSvcID    = "save";
		var strURL      = "rc/sle/posMenuKeyMgmt/saveDataSub.xdo";
		var strInDs     = "ds_assignKey=ds_assignKeySave:U";
		var strOutDs    = "";
		var strArg      = "";
		var strCallback = "fn_callBack";
		var bAsync      = true;
		
		gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
		return;
	}
	
	if (fv_subGrp != "") 
	{
		gfn_alert("소그룹은 더이상 등록이 불가능 합니다.");	// 저장 되었습니다.
		return;
	}
	
	var grpKey = edt_menuPage.value;
	if ( grpKey.length != 4)
	{
		gfn_alert("지정키을 선택 하십시오!");	// 저장 되었습니다.
		return;
	}
	if (edt_grpSclass.value=="")
	{
		gfn_alert("지정키 그룹명을 입력 하십시오!");	 
		return;
	}
	//메뉴를 선택하고 저장 하는 경우
	if (gfn_nvl(edt_moveNameMenu.value,"") != "")
	{
		gfn_alert("메뉴입니다. 다른 곳을 선택 하십시오.");	 
		return;
	}
	var cnt = gfn_right(grpKey,2)
	eval("btn_menu" + cnt).text = edt_grpSclass.value;
	
	ds_assignKeyGrp.clearData();
	var nRow = ds_assignKeyGrp.addRow();
	ds_assignKeyGrp.setColumn( nRow,"outletCd",  gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_assignKeyGrp.setColumn( nRow,"posNum",    gfn_nvl(cbo_posNum.value,""));
	
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrp", gfn_nvl(edt_grpPage.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlaceSubGrp",gfn_nvl(edt_menuPage.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlaceGrpNm",gfn_nvl(edt_grpSclass.value,""));
	ds_assignKeyGrp.setColumn( nRow,"picPlace", gfn_nvl(edt_menuPage.value,""));
    ds_assignKeyGrp.setColumn( nRow,"useYn","1");
 
	if (gfn_validCheck(ds_assignKeyGrp, ds_assignKeyGrpValid) == false)	return;
  
    var strSvcID    = "saveSubSave";
    var strURL      = "rc/sle/posMenuKeyMgmt/saveDataGrp.xdo";
    var strInDs     = "ds_assignKeyGrp=ds_assignKeyGrp:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
} 
/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 (서브그룹) 삭제 번튼
 *---------------------------------------------------------------------------------------------*/
function btn_Sclassdelete_onclick(obj:Button,  e:ClickEventInfo)
{
	 
	
	
	//메뉴를 삭제 하는 경우
	if ((fv_preObj == "")  || (fv_preObj.text ==""))
	{
		gfn_alert("상위 그룹코드를 먼저 선택 하십시오!");	 
		return;
	}
	
	
	//메뉴삭제 여부 판다.
	var nCnt = gfn_right( edt_menuPage.value, 2);
	
 
	if ( gfn_length(edt_menuPage.value) == 4 && (eval("btn_menu" + nCnt).cdNum != "") )
	{
		var sMsg = "선택한 메뉴를 삭제 하시겠습니까.?"
		 
		//실제 저장처리를 수행할 지를 알려준다.
		if (gfn_confirm(sMsg, "", "C"))
		{
	
			var inRow = ds_assignKeySave.findRowExpr( "picPlace == '" + edt_menuPage.value + "'"); 
			if (inRow == -1)	
			{
				ds_assignKey.clearData();
				var inRow = ds_assignKey.addRow();
				ds_assignKey.setColumn(inRow, "outletCd",gfn_nvl(edt_upjang.getUpjangCode(),""));
				ds_assignKey.setColumn(inRow, "posNum",gfn_nvl(cbo_posNum.value,""));
				ds_assignKey.setColumn(inRow, "picPlaceGrp",edt_grpPage.value);
				ds_assignKey.setColumn(inRow, "picPlaceSubGrp",(gfn_nvl(fv_subGrp,"")==""?"00":fv_subGrp));
				ds_assignKey.setColumn(inRow, "picPlace", gfn_nvl(edt_menuPage.value,""));
			
				var strSvcID    = "deleteSubData";
				var strURL      = "rc/sle/posMenuKeyMgmt/deleteSubData.xdo";
				var strInDs     = "ds_assignKey=ds_assignKey:U";
				var strOutDs    = "";
				var strArg      = "";
				var strCallback = "fn_callBack";
				var bAsync      = true;
				
				gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
				
			}
			else
			{	
				 
				//var nCnt = gfn_right( edt_menuPage.value, 2);
				eval("btn_menu" + nCnt).text   = "" ;
				eval("btn_menu" + nCnt).cdNum  = "";
				eval("btn_menu" + nCnt).subGrp = "";
				
			}
		}
		return;
	}
	
	if (fv_subGrp == "") 
	{
		gfn_alert("소그룹을 선택 하십시오!");
		return;
	}
	
	var sMsg = "하위 모든 메뉴 내역도 같이 삭제 처리 됩니다."
	sMsg = sMsg += "\r현재 화면에 표시된 메뉴는 모두 삭제 됩니다.";
	sMsg = sMsg += "\r메뉴를 삭제 하려면 해당 메뉴를 클릭하십시오!";
	sMsg = sMsg += "\r소그룹명[" + edt_grpSclass.value + "]이 모두 삭제됩니다." ;
	sMsg = sMsg += "\r삭제 하시겠습니까?";
	
	//실제 저장처리를 수행할 지를 알려준다.
	if (gfn_confirm(sMsg, "", "C"))
	{
		ds_assignKeyGrp.clearData();
		var nRow = ds_assignKeyGrp.addRow();
		ds_assignKeyGrp.setColumn( nRow,"outletCd",  gfn_nvl(edt_upjang.getUpjangCode(),""));
		ds_assignKeyGrp.setColumn( nRow,"posNum",    gfn_nvl(cbo_posNum.value,""));
		
		ds_assignKeyGrp.setColumn( nRow,"picPlaceGrp", gfn_nvl(edt_grpPage.value,""));
		ds_assignKeyGrp.setColumn( nRow,"picPlaceSubGrp",gfn_nvl(fv_subGrp,""));
		ds_assignKeyGrp.setColumn( nRow,"picPlace", gfn_nvl(fv_subGrp,""));
		ds_assignKeyGrp.setColumn( nRow,"picPlaceGrpNm",gfn_nvl(edt_grpSclass.value,""));
		ds_assignKeyGrp.setColumn( nRow,"useYn","1");
	 
		if (gfn_validCheck(ds_assignKeyGrp, ds_assignKeyGrpValid) == false)	return;
		
		
		var strSvcID    = "deleteGrpSub";
		var strURL      = "rc/sle/posMenuKeyMgmt/deleteGrpData.xdo";
		var strInDs     = "ds_assignKeyGrp=ds_assignKeyGrp:U";
		var strOutDs    = "";
		var strArg      = "";
		var strCallback = "fn_callBack";
		var bAsync      = true;
		
		gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	}
}
 
/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 선택화면 제어
 *---------------------------------------------------------------------------------------------*/
function btn_menuClass_onclick(obj:Button,  e:ClickEventInfo)
{
	var arrParam = new Array();
	arrParam[0] = gfn_nvl( gfn_nvl(edt_upjang.getUpjangCode(),""));
	arrParam[1] = gfn_nvl( "","");					// 대중소 분류 대분류 코드를 검색 해라.
	arrParam[2] = gfn_nvl( "00","");
	arrParam[3] = gfn_nvl( "00","");
	 
	var rtnVal = gfn_dialog("MenuGrpPop"				// dialogId
					   , "X_SLE::MenuGrpPop.xfdl"		// Url
					   , {fv_Contents:arrParam}			// 배열
					   , null, null, null, null, null, false, true, -1);
	//trace(nRowIdx + "===" + rtnVal);
	if (typeof rtnVal != "undefined" && rtnVal != null) 
	{
		if (rtnVal[0] == "OK")
		{
			edt_menuClass.menuClassCd = rtnVal[1];
			edt_menuClass.value = rtnVal[2];
		}
	}
}

function btn_menuClsfi_onclick(obj:Button,  e:ClickEventInfo)
{

	var arrParam = new Array();
	arrParam[0] = gfn_nvl( gfn_nvl(edt_upjang.getUpjangCode(),""));
	arrParam[1] = gfn_nvl( edt_menuClass.menuClassCd,"");					// 대중소 분류 대분류 코드를 검색 해라.
	arrParam[2] = gfn_nvl( "","");
	arrParam[3] = gfn_nvl( "00","");
	
	if (gfn_nvl( edt_menuClass.menuClassCd,"") == "")
	{
		gfn_alert("msg.noselect","대분류");
		return;
	}
	 
	var rtnVal = gfn_dialog("MenuGrpPop"				// dialogId
					   , "X_SLE::MenuGrpPop.xfdl"		// Url
					   , {fv_Contents:arrParam}			// 배열
					   , null, null, null, null, null, false, true, -1);
	//trace(nRowIdx + "===" + rtnVal);
	if (typeof rtnVal != "undefined" && rtnVal != null) 
	{
		if (rtnVal[0] == "OK")
		{
			 
			edt_menuClsfi.menuClsfiCd = rtnVal[1];
			edt_menuClsfi.value = rtnVal[2];
		}
	}
}

function btn_menuSclass_onclick(obj:Button,  e:ClickEventInfo)
{
 	var arrParam = new Array();
	arrParam[0] = gfn_nvl( gfn_nvl(edt_upjang.getUpjangCode(),""));
	arrParam[1] = gfn_nvl( edt_menuClass.menuClassCd,"");					// 대중소 분류 대분류 코드를 검색 해라.
	arrParam[2] = gfn_nvl( edt_menuClsfi.menuClsfiCd,"");
	arrParam[3] = gfn_nvl( "","");
	
	if (gfn_nvl( edt_menuClass.menuClassCd,"") == "")
	{
		gfn_alert("msg.noselect","대분류");
		return;
	}
	if (gfn_nvl( edt_menuClsfi.menuClsfiCd,"") == "")
	{
		gfn_alert("msg.noselect","중분류");
		return;
	} 
	var rtnVal = gfn_dialog("MenuGrpPop"				// dialogId
					   , "X_SLE::MenuGrpPop.xfdl"		// Url
					   , {fv_Contents:arrParam}			// 배열
					   , null, null, null, null, null, false, true, -1);
	//trace(nRowIdx + "===" + rtnVal);
	if (typeof rtnVal != "undefined" && rtnVal != null) 
	{
		if (rtnVal[0] == "OK")
		{
			edt_menuSclass.menuSclassCd = rtnVal[1];
			edt_menuSclass.value = rtnVal[2];
		}
	}
	 
}


function edt_menuClass_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == 13) btn_menuClass_onclick();
	if ((e.keycode == 46) || (e.keycode == 8)) 
	{
		edt_menuClass.menuClassCd = ""; //코드
		edt_menuClass.value = "";    //명	
		edt_menuClsfi.menuClsfiCd = ""; //코드
		edt_menuClsfi.value = "";    //명	
		edt_menuSclass.menuSclassCd = ""; //코드
		edt_menuSclass.value = "";    //명
	}
}

function edt_menuClsfi_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == 13) btn_menuClsfi_onclick();
	if ((e.keycode == 46) || (e.keycode == 8)) 
	{
		edt_menuClsfi.menuClsfiCd = ""; //코드
		edt_menuClsfi.value = "";    //명	
		edt_menuSclass.menuSclassCd = ""; //코드
		edt_menuSclass.value = "";    //명
	}
}

function edt_menuSclass_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == 13) btn_menuSclass_onclick();
	if ((e.keycode == 46) || (e.keycode == 8)) 
	{
		edt_menuSclass.menuSclassCd = ""; //코드
		edt_menuSclass.value = "";    //명	
	}
}
 

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 검색
 *---------------------------------------------------------------------------------------------*/
function btn_menuSearch_onclick(obj:Button,  e:ClickEventInfo)
{
		//메뉴검색
	gfn_clearSortMark(grd_outletMenu);
    ds_outletMenuList.clearData();

	 
    var strSvcID    = "selectListMenuList";
    var strURL      = "rc/sle/posMenuKeyMgmt/selectListMenu.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_outletMenuList=ds_outletMenuList";
    var strArg      = "outletCd="    + gfn_nvl(edt_upjang.getUpjangCode(),"") 
					+ " menuClass="  + gfn_nvl(edt_menuClass.menuClassCd,"")
					+ " menuClsfi="  + gfn_nvl(edt_menuClsfi.menuClsfiCd,"")
					+ " menuSclass=" + gfn_nvl(edt_menuSclass.menuSclassCd,"")
					+ " menuNm="     + gfn_nvl(edt_menuNm.value,"")
					+ " posNum="     + gfn_nvl(cbo_posNum.value,"")
					+ " serchBtnYn=" + (chk_serchUseYn.value?"":"N");
		
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴를 더블클릭하면 왼쪽에 버튼이 비어 있는 경우 해당 메뉴를 넣는다.
 *---------------------------------------------------------------------------------------------*/
function grd_outletMenu_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	if ((fv_preObj == "")  || (fv_preObj.text ==""))
	{
		gfn_alert("상위 그룹코드를 먼저 선택 하십시오!");	 
		return;
	}
	
	//메뉴코드,메뉴명단가
	var nRow = ds_outletMenuList.rowposition;
	var nPos = edt_menuPage.value;
	 
	var menuCd = ds_outletMenuList.getColumn(nRow,"menuCd");
	var menuNm = ds_outletMenuList.getColumn(nRow,"menuNm");
	var menuPrice = ds_outletMenuList.getColumn(nRow,"applyPrice");
	var nCnt = "";
	var inRow = -1;
	
	if (chk_menuInsert.value == true)
	{
		var tempOk ="";
		for(var i=1; i < 18; i++) 
		{
			nCnt = (i < 10 ? "0"+String(i):String(i))
			var nMenuNm = eval("btn_menu" + nCnt).text;
			if (nMenuNm == "") 
			{
			 tempOk ="OK";
			 break;
			}
		}
		if (tempOk != "OK")
		{
			gfn_alert("빈공간이 존재 하지 않습니다.");	 
			return;
		}
		
		//무조건 추가 한다.
		inRow = ds_assignKeySave.addRow();
		 
	}
	else
	{
		
		if ( nPos.length != 4 )
		{
			gfn_alert("메뉴의치를 선택 하십시오!");	 
			return;
		}
		
		nCnt = gfn_right( nPos, 2);		
		//찾아서 넣어 준다 
		inRow = ds_assignKeySave.findRowExpr( "picPlace == '" + edt_menuPage.value +"'");
	 
		if (inRow == -1)
		{
			inRow = ds_assignKeySave.addRow();
		}
	}
	
	eval("btn_menu" + nCnt).text   = menuNm + "\r" + gfn_numFormat(menuPrice,3) ;
	eval("btn_menu" + nCnt).cdNum  = menuCd;
	eval("btn_menu" + nCnt).subGrp = (gfn_nvl(fv_subGrp,"")==""?"00":fv_subGrp);
	
	//저장을 위해 임시 저장 한다.
	ds_assignKeySave.setColumn(inRow, "outletCd",gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_assignKeySave.setColumn(inRow, "posNum",gfn_nvl(cbo_posNum.value,""));
	ds_assignKeySave.setColumn(inRow, "picPlaceGrp",edt_grpPage.value);
	ds_assignKeySave.setColumn(inRow, "picPlaceSubGrp",(gfn_nvl(fv_subGrp,"")==""?"00":fv_subGrp));
	ds_assignKeySave.setColumn(inRow, "picPlace", gfn_left(edt_menuPage.value ,2) + nCnt);
	ds_assignKeySave.setColumn(inRow, "cdNum",menuCd);
	ds_assignKeySave.setColumn(inRow, "useYn","1");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 작업 내역을 저장 한다.
 *---------------------------------------------------------------------------------------------*/
function btn_save00_onclick(obj:Button,  e:ClickEventInfo)
{
	if ( !gfn_dsIsUpdated(ds_assignKeySave))
 	{
 		gfn_alert("msg.save.nochange");	// 변경된 내역이 없습니다.
 		return;
 	}
	
	// 저장시 Validation Check
 
	if (gfn_validCheck(ds_assignKeySave, ds_assignKeyValid) == false)	return;
	 
    var strSvcID    = "save";
    var strURL      = "rc/sle/posMenuKeyMgmt/saveDataSub.xdo";
    var strInDs     = "ds_assignKey=ds_assignKeySave:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 삭제 작업
 *---------------------------------------------------------------------------------------------*/
function btn_delete00_onclick(obj:Button,  e:ClickEventInfo)
{
	if ((fv_preObj == "")  || (fv_preObj.text ==""))
	{
		gfn_alert("상위 그룹코드를 먼저 선택 하십시오!");	 
		return;
	}
	
	if ( gfn_length(edt_menuPage.value) != 4 )
	{
		gfn_alert("메뉴위치를 선택 하십시오!");	 
		return;
	}
	
	
	var inRow = ds_assignKeySave.findRowExpr( "picPlace == '" + edt_menuPage.value + "'"); 
	if (inRow == -1)	
	{
		ds_assignKey.clearData();
		var inRow = ds_assignKey.addRow();
		ds_assignKey.setColumn(inRow, "outletCd",gfn_nvl(edt_upjang.getUpjangCode(),""));
		ds_assignKey.setColumn(inRow, "posNum",gfn_nvl(cbo_posNum.value,""));
		ds_assignKey.setColumn(inRow, "picPlaceGrp",edt_grpPage.value);
		ds_assignKey.setColumn(inRow, "picPlaceSubGrp",(gfn_nvl(fv_subGrp,"")==""?"00":fv_subGrp));
		ds_assignKey.setColumn(inRow, "picPlace", gfn_nvl(edt_menuPage.value,""));
	
		var strSvcID    = "deleteSubData";
		var strURL      = "rc/sle/posMenuKeyMgmt/deleteSubData.xdo";
		var strInDs     = "ds_assignKey=ds_assignKey:U";
		var strOutDs    = "";
		var strArg      = "";
		var strCallback = "fn_callBack";
		var bAsync      = true;
		
		gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
	}
	else
	{	
		 
		var nCnt = gfn_right( edt_menuPage.value, 2);
		eval("btn_menu" + nCnt).text   = "" ;
		eval("btn_menu" + nCnt).cdNum  = "";
		eval("btn_menu" + nCnt).subGrp = "";
	}
}

function btn_move_onclick(obj:Button,  e:ClickEventInfo)
{
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
		ds_assignKeySave.clearData();
		if(fv_menupreObj!="")	fv_menupreObj.style.background = "@gradation";
		fv_menupreObj="";
		fn_searchList();
	}
	
	
	
	if (btn_move.text == "이동취소")
	{
		div_grp.visible=false;
		div_menu.sendToBack();
		div_menu.visible=false;
		btn_move.text ="이동";
		fv_moveType="";
		edt_moveName.value="";
		grd_outletMenu.enable=true;
		return;
	}
	
	if ((gfn_length(edt_grpPage.value) != 4 )|| (gfn_nvl(edt_grpNm.value,"") == "") )
	{
		gfn_alert("메뉴의치를 선택 하십시오!");	 
		return;
	}
	
	var sMsg = "해당 그룹을 다른 위치로 변경 하는 작업입니다."
	sMsg = sMsg += "\r\r이동 작업을 하시겠습니까?";
	
	//실제 저장처리를 수행할 지를 알려준다.
	if (gfn_confirm(sMsg, "", "C"))
	{	
		grd_outletMenu.enable=false;
		btn_move.text ="이동취소";
		div_grp.visible=true;
		div_menu.bringToFront();
		div_menu.visible=true;
		fv_moveType=edt_grpPage.value;	
		edt_moveName.value = edt_grpNm.value;	
	}

}
 

function btn_moveMenu_onclick(obj:Button,  e:ClickEventInfo)
{
	if (gfn_dsIsUpdated(ds_assignKeySave))
	{
		var retValue = gfn_confirm("confirm.before.search");	// 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
		if (retValue == false) return;
		ds_assignKeySave.clearData();
		if(fv_menupreObj!="")	fv_menupreObj.style.background = "@gradation";
		fv_menupreObj="";
		fn_searchList();
		gfn_alert("이동할 메뉴를 다시 선택 하십시오!");	 
		return;
	}
	
	if (btn_moveMenu.text == "이동취소")
	{
		div_grp.visible=false;
		div_grp.sendToBack();
		div_menu.visible=false;
		btn_moveMenu.text ="이동";
		fv_moveType="";
		grd_outletMenu.enable=true;
		return;
	}
	
	if ((gfn_length(edt_menuPage.value) != 4 )|| (gfn_nvl(edt_grpNm.value,"") == "") )
	{
		gfn_alert("메뉴의치를 선택 하십시오!");	 
		return;
	}
	
	var sMsg = "해당 그룹을 다른 위치로 변경 하는 작업입니다."
	sMsg = sMsg += "\r\r이동 작업을 하시겠습니까?";
	
	//실제 저장처리를 수행할 지를 알려준다.
	if (gfn_confirm(sMsg, "", "C"))
	{	
		grd_outletMenu.enable=false;
		btn_moveMenu.text ="이동취소";
		div_grp.visible=true;
		div_grp.bringToFront();
		div_menu.visible=true;
		fv_moveMenu=edt_menuPage.value;	
		 
	}

}
  

/*----------------------------------------------------------------------------------------------
 * 설명      : 메뉴 이동 하기 // 소분류 이동 하기
 *---------------------------------------------------------------------------------------------*/ 
function fn_menuMove()
{
	
	var cnt = gfn_right(edt_menuPage.value ,2)
	eval("btn_menu" + cnt).text = edt_moveNameMenuNm.value;
	
	ds_assignKey.clearData();
	var nRow = ds_assignKey.addRow();
	ds_assignKey.setColumn( nRow,"useYn","1");
	
	ds_assignKey.setColumn( nRow,"outletCd",  gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_assignKey.setColumn( nRow,"posNum",    gfn_nvl(cbo_posNum.value,""));
	ds_assignKey.setColumn( nRow,"picPlaceGrp", gfn_nvl(edt_grpPage.value,""));
	
	ds_assignKey.setColumn( nRow,"picPlaceSubGrp", gfn_nvl(edt_moveNameMenuSub.value,"")); //소분류코드 
	ds_assignKey.setColumn( nRow,"picPlaceGrpNm",gfn_nvl(edt_moveNameMenuNm.value,""));	   //메뉴명 또는 소분류명
	ds_assignKey.setColumn( nRow,"picPlace", gfn_nvl(edt_menuPage.value,""));			   //화면위치(신규)
	ds_assignKey.setColumn( nRow,"cdNum",gfn_nvl(edt_moveNameMenu.value ,""));             //메뉴코드
    
    ds_assignKey.setColumn( nRow,"picPlaceSubGrpOld",gfn_nvl(edt_moveNameMenuSub.value ,""));  //이전소분류코드
    ds_assignKey.setColumn( nRow,"picPlaceOld",fv_moveMenu);								   //이전메뉴위치	
     
	//if (gfn_validCheck(ds_assignKey, ds_assignKeyValid) == false)	return;
	
    var strSvcID    = "saveDataMoveList";
    var strURL      = "rc/sle/posMenuKeyMgmt/saveDataMoveList.xdo";
    var strInDs     = "ds_assignKey=ds_assignKey:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);

}


/*----------------------------------------------------------------------------------------------
 * 설명      : 지정키 복사 하기
 *---------------------------------------------------------------------------------------------*/ 
function btn_assignCopy_onclick(obj:Button,  e:ClickEventInfo)
{

	//상단과같은곳으로 복사는 불가능 하다.
	var frUpjang = gfn_nvl(edt_upjang.getUpjangCode(),"");
	var frPosNum = gfn_nvl(cbo_posNum.value,"");
	var toUpjang = gfn_nvl(edt_upjangCopy.getUpjangCode(),"");
	var toPosNum = gfn_nvl(cbo_posNumCopy.value,"");

	if ((frUpjang == toUpjang) && (frPosNum == toPosNum))
	{
		gfn_alert("복사할 위치가 같습니다. 복사할 수 없습니다.");	 
		return;
	}
	
	//복사할 곳에 자료가 존재 하는 경우 해당 자료를 삭제 해야 함
	ds_assignKeyGrpCopy.clearData();
	var strSvcID    = "searchCopyCnt";
    var strURL      = "rc/sle/posMenuKeyMgmt/selectGrpList.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_assignKeyGrpCopy=ds_assignKeyGrpCopy";
    var strArg      = "outletCd="  + gfn_nvl(edt_upjang.getUpjangCode(),"") 
					+ " posNum="   + gfn_nvl(cbo_posNumCopy.value,"")
					+ " useYn="    + "1"
					+ " maskAuth=" + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = false;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
    if (ds_assignKeyGrpCopy.rowcount > 0)
    {
		var sMsg = "복사할 업장 포스에 이미 지정키가 설정 되어 있습니다."
		sMsg = sMsg += "\r\r삭제 하고 붙여 넣기을 하시겠습니까?";
		if (gfn_confirm(sMsg, "", "C"))
		{	
			ds_assignKeyGrpCopy.clearData();
			var nRow = ds_assignKeyGrpCopy.addRow();
			ds_assignKeyGrpCopy.setColumn(nRow, "outletCd" , toUpjang);
			ds_assignKeyGrpCopy.setColumn(nRow, "posNum" , toPosNum);
			
			//삭제 처리 한다. 삭제후 callback에서 불러 온다.
			var strSvcID    = "deleteData";
			var strURL      = "rc/sle/posMenuKeyMgmt/deleteDataCopy.xdo";
			var strInDs     = "ds_assignKeyGrpCopy=ds_assignKeyGrpCopy:U";
			var strOutDs    = "";
			var strArg      = "";
			var strCallback = "fn_callBack";
			var bAsync      = true;
			
			gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
			
		}
    }
    else
    {
		var sMsg = "지정키를 복사 복사 합니다."
		sMsg = sMsg += "\r\r작업을 진행 하시겠습니까?";
		if (gfn_confirm(sMsg, "", "C"))
		{	
			fn_AssingKey();	
		}
	}
}


function fn_AssingKey()	
{
	
	//원본을 읽어온다
	ds_assignKeyGrpCopy.clearData();
	ds_assignKeyCopy.clearData();
	
    var strSvcID    = "searchCopy";
    var strURL      = "rc/sle/posMenuKeyMgmt/selectGrpList.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_assignKeyGrpCopy=ds_assignKeyGrp";
    var strArg      = "outletCd="  + gfn_nvl(edt_upjang.getUpjangCode(),"") 
					+ " posNum="   + gfn_nvl(cbo_posNum.value,"")
					+ " useYn="    + "1"
					+ " maskAuth=" + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
 
}
 
function fn_AssingKeyList()
{
	var strSvcID    = "searchListCopy";
    var strURL      = "rc/sle/posMenuKeyMgmt/selectList.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_assignKeyCopy=ds_assignKey";
    var strArg      = "outletCd="        + gfn_nvl(ds_assignKeyGrp.getColumn(ds_assignKeyGrp.rowposition,"outletCd"),"")
					+ " posNum="         + gfn_nvl(ds_assignKeyGrp.getColumn(ds_assignKeyGrp.rowposition,"posNum"),"")
					+ " useYn="          + "1"
					+ " maskAuth="       + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

function fn_AssingKey_Copy()
{
	//업장과 포스 번호를 변경한다.
	var toUpjang = gfn_nvl(edt_upjangCopy.getUpjangCode(),"");
	var toPosNum = gfn_nvl(cbo_posNumCopy.value,"");
	
	trace("ds_assignKeyGrpCopy:"+ds_assignKeyGrpCopy.rowcount);
	trace("ds_assignKeyCopy:"+ds_assignKeyCopy.rowcount);
	
	
	ds_assignKeyGrpCopy.updatecontrol = false;
	for(var i=0; i < ds_assignKeyGrpCopy.rowcount; i++) 
	{
		ds_assignKeyGrpCopy.setColumn(i,"outletCd",toUpjang);
		ds_assignKeyGrpCopy.setColumn(i,"posNum",toPosNum);
		var bSucc = ds_assignKeyGrpCopy.setRowType(i, Dataset.ROWTYPE_INSERT);
	}
	ds_assignKeyGrpCopy.updatecontrol = true;
	
	ds_assignKeyCopy.updatecontrol = false;
	for(var i=0; i < ds_assignKeyCopy.rowcount; i++) 
	{
		ds_assignKeyCopy.setColumn(i,"outletCd",toUpjang);
		ds_assignKeyCopy.setColumn(i,"posNum",toPosNum);
		var bSucc = ds_assignKeyCopy.setRowType(i, Dataset.ROWTYPE_INSERT);
	}
	ds_assignKeyCopy.updatecontrol = true;
	
	var strSvcID    = "copySave";
    var strURL      = "rc/sle/posMenuKeyMgmt/saveData.xdo";
    var strInDs     = "ds_assignKeyGrp=ds_assignKeyGrpCopy:A ds_assignKey=ds_assignKeyCopy:A";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);		
			
	
	
}]]></Script>
  </Form>
</FDL>
