<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SalePriceHistoryMgntKamis" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="판매가격이력관리(KAMIS)" scrollbars="autoboth" onload="form_onload" onsize="SalePriceHistoryMgntKamis_onsize">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="7" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Static id="Static15" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 72 450 85" anchor="left top"/>
        <Tab id="tabMain" anchor="all" taborder="13" tabindex="0" scrollbars="autoboth" position="absolute 0 86 1237 710" style="showextrabutton:false;" onchanged="tabMain_onchanged">
          <Tabpages>
            <Tabpage id="tpg01" text="부류별 가격정보" style="anchor:default;">
              <Layouts>
                <Layout>
                  <Static id="Static60" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 0 1235 15" anchor="left top"/>
                  <Static id="Static07" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 0 15 10 545"/>
                  <Static id="Static01" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 1225 15 1235 596"/>
                  <Static id="Static35" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 10 586 1245 596" anchor="left top"/>
                  <Grid id="grd_list" taborder="1" binddataset="ds_list0" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 8 254 1225 549" anchor="left right bottom" autofittype="col">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="100"/>
                          <Column size="140"/>
                          <Column size="80"/>
                          <Column size="125"/>
                          <Column size="125"/>
                          <Column size="125"/>
                          <Column size="125"/>
                          <Column size="125"/>
                          <Column size="125"/>
                          <Column size="125"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell colspan="3" text="구분" taborder="undefined"/>
                          <Cell col="3" text="당일"/>
                          <Cell col="4" text="1일전"/>
                          <Cell col="5" text="1주일전"/>
                          <Cell col="6" text="2주일전"/>
                          <Cell col="7" text="1개월전"/>
                          <Cell col="8" text="1년전"/>
                          <Cell col="9" text="일평년"/>
                        </Band>
                        <Band id="body">
                          <Cell style="align:left;padding:0 0 0 6;" text="bind:item_name" suppress="1"/>
                          <Cell col="1" displaytype="text" style="padding:0 0 0 6;" text="bind:kind_name"/>
                          <Cell col="2" displaytype="text" style="align:center;" text="bind:rank"/>
                          <Cell col="3" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr1"/>
                          <Cell col="4" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr2"/>
                          <Cell col="5" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr3"/>
                          <Cell col="6" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr4"/>
                          <Cell col="7" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr5"/>
                          <Cell col="8" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr6"/>
                          <Cell col="9" displaytype="number" style="padding:0 6 0 0;" text="bind:dpr7"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <ActiveX id="atx_chart" position="absolute 10 15 1226 249" progid="ShockwaveFlash.ShockwaveFlash.10" windowed="true" useautobitmapcache="1" anchor="all" taborder="2" FSCommand="atx_chart_FSCommand"/>
                  <Static id="Static43" text="- 조사단위가 중량이 아닌 품목(포기, 개, 접, 마리)은 kg 단위 환산이 제공되지 않음&#13;&#10;- 본 가격자료는 전국 주요 시장에서 조사된 도.소매 평균가격으로 개별 판매처 및 산지, 브랜드, 규격 등에 따라 가격이 다를 수 있으므로 실거래에 있어서 참고 자료로만 활용하여 주시기 바랍니다." class="sta_WF_DiscPointN" position="absolute 10 554 1208 585" anchor="left bottom"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tpg02" text="판매단가정보">
              <Layouts>
                <Layout>
                  <Grid id="grd_list" taborder="0" binddataset="ds_list1" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 8 200 1225 589" anchor="left right bottom" selecttype="row">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="80" band="left"/>
                          <Column size="110" band="left"/>
                          <Column size="80" band="left"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                          <Row size="24"/>
                          <Row size="21"/>
                        </Rows>
                        <Band id="head">
                          <Cell colspan="2" text="부류" taborder="undefined"/>
                          <Cell col="2" text="가격"/>
                        </Band>
                        <Band id="body">
                          <Cell rowspan="3" celltype="head" style="padding:0 0 0 6;" text="bind:itemClass4" taborder="undefined"/>
                          <Cell col="1" rowspan="3" celltype="head" style="padding:0 0 0 6;" text="bind:classNm" taborder="undefined"/>
                          <Cell col="2" celltype="head" style="align:center middle;padding: ;" text="구매가"/>
                          <Cell row="1" col="2" celltype="head" style="align:center middle;padding: ;" text="판매가"/>
                          <Cell row="2" col="2" celltype="head" style="align:center middle;padding: ;" text="공공가"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <ActiveX id="atx_chart" position="absolute 10 15 1226 169" progid="ShockwaveFlash.ShockwaveFlash.10" windowed="true" useautobitmapcache="1" anchor="all" taborder="1" FSCommand="atx_chart_FSCommand"/>
                  <Button id="btn_predict" taborder="2" text="가격예측" class="btn_WF_CRUD" position="absolute 1153 174 1224 197" anchor="right bottom" onclick="tabMain_tpg02_btn_predict_onclick" visible="false"/>
                  <Button id="btn_wordCloud" taborder="3" text="워드클라우드" class="btn_WF_CRUD" position="absolute 1052 174 1149 197" anchor="right bottom" onclick="tabMain_tpg02_btn_wordCloud_onclick" visible="false"/>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Div id="divCond1" taborder="14" position="absolute 0 30 1237 72" style="background:antiquewhite;" anchor="left top right" scrollbars="none">
          <Layouts>
            <Layout>
              <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 0 1237 42" anchor="left top right"/>
              <Static id="Static28" text="기준일자" class="sta_WFSA_label" position="absolute 15 10 77 31" anchor="left top"/>
              <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 0 93 10" anchor="left top"/>
              <Static id="Static05" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 1 31 94 41" anchor="left top"/>
              <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 10 15 34" anchor="left top"/>
              <Static id="Static11" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 80 10 90 31" anchor="left top"/>
              <Static id="Static09" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 162 10 192 31" anchor="left top"/>
              <Static id="Static01" text="글자간격기준 w10" onclick="Static01_onclick" class="Guide01_AreaRed" visible="false" position="absolute 422 10 432 31" anchor="left top"/>
              <Static id="Static02" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 536 11 566 32" anchor="left top"/>
              <Static id="Static12" text="부류" class="sta_WFSA_label" position="absolute 566 10 604 31" anchor="left top"/>
              <Static id="Static13" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 600 10 610 31" anchor="left top"/>
              <Static id="Static00" text="지역" onclick="Static00_onclick" class="sta_WFSA_label" position="absolute 390 10 428 31" anchor="left top"/>
              <Combo id="cbo_loc" taborder="4" position="absolute 432 10 536 31" anchor="left top" codecolumn="codecolumn" datacolumn="datacolumn" index="0" text="전체">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn"/>
                      <Col id="datacolumn">전체</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">1101</Col>
                      <Col id="datacolumn">서울</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2100</Col>
                      <Col id="datacolumn">부산</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2200</Col>
                      <Col id="datacolumn">대구</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2401</Col>
                      <Col id="datacolumn">광주</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">2501</Col>
                      <Col id="datacolumn">대전</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Combo id="cho_Type" taborder="5" position="absolute 610 10 746 31" anchor="left top" codecolumn="codecolumn" datacolumn="datacolumn" index="0" value="100" text="식량작물">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">100</Col>
                      <Col id="datacolumn">식량작물</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">200</Col>
                      <Col id="datacolumn">채소류</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">300</Col>
                      <Col id="datacolumn">특용작물</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">400</Col>
                      <Col id="datacolumn">과일류</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">500</Col>
                      <Col id="datacolumn">축산물</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">600</Col>
                      <Col id="datacolumn">수산물</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Calendar id="cal_date" taborder="6" position="absolute 90 10 183 31" anchor="left top" value="20180908" dateformat="yyyy-MM-dd ddd"/>
              <CheckBox id="chk_convert" taborder="7" text="KG환산" value="true" position="absolute 776 10 851 30" truevalue="Y" falsevalue="N"/>
              <Static id="Static03" text="글자간격기준 w10" onclick="Static01_onclick" class="Guide01_AreaRed" visible="false" position="absolute 246 9 256 30" anchor="left top"/>
              <Static id="Static06" text="구분" onclick="Static00_onclick" class="sta_WFSA_label" position="absolute 213 10 275 31" anchor="left top"/>
              <Combo id="cbo_gnb" taborder="8" text="도매" codecolumn="codecolumn" datacolumn="datacolumn" index="0" position="absolute 256 10 360 31" anchor="left top" value="02">
                <Dataset id="innerdataset">
                  <ColumnInfo>
                    <Column id="codecolumn" size="256"/>
                    <Column id="datacolumn" size="256"/>
                  </ColumnInfo>
                  <Rows>
                    <Row>
                      <Col id="codecolumn">02</Col>
                      <Col id="datacolumn">도매</Col>
                    </Row>
                    <Row>
                      <Col id="codecolumn">01</Col>
                      <Col id="datacolumn">소매</Col>
                    </Row>
                  </Rows>
                </Dataset>
              </Combo>
              <Static id="Static10" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 182 18 212 39" anchor="left top"/>
              <Static id="Static14" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 360 11 390 32" anchor="left top"/>
              <Static id="Static15" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 746 11 776 32" anchor="left top"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="divCond2" taborder="15" style="background:azure;" position="absolute 0 46 1237 88" visible="false" anchor="left top right" scrollbars="none">
          <Layouts>
            <Layout>
              <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 0 1237 42" anchor="left top right"/>
              <Static id="Static28" text="조회기간" class="sta_WFSA_label" position="absolute 15 10 77 31" anchor="left top"/>
              <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 0 93 10" anchor="left top"/>
              <Static id="Static05" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 1 31 94 41" anchor="left top"/>
              <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 10 15 34" anchor="left top"/>
              <Static id="Static11" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 80 10 90 31" anchor="left top"/>
              <Static id="Static09" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 295 10 325 31" anchor="left top"/>
              <Static id="Static01" text="글자간격기준 w10" onclick="Static01_onclick" class="Guide01_AreaRed" visible="false" position="absolute 371 10 381 31" anchor="left top"/>
              <Static id="Static02" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 533 10 563 31" anchor="left top"/>
              <Static id="Static12" text="단가계약업장" class="sta_WFSA_label" position="absolute 564 10 651 31" anchor="left top"/>
              <Static id="Static13" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 654 10 664 31" anchor="left top"/>
              <Static id="Static14" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 879 10 909 31" anchor="left top"/>
              <Static id="Static85" text="~" class="sta_WF_Dash" position="absolute 189 10 205 31" anchor="default"/>
              <Static id="Static00" text="센터" onclick="Static00_onclick" class="sta_WFSA_label" position="absolute 326 10 389 31" anchor="left top"/>
              <Calendar id="cal_from" taborder="5" value="20180908" position="absolute 90 10 183 31" anchor="left top"/>
              <Calendar id="cal_to" taborder="6" value="20180908" position="absolute 202 10 295 31" anchor="left top"/>
              <Combo id="cbo_center" taborder="7" position="absolute 381 10 533 31" anchor="left top" innerdataset="@ds_center" codecolumn="centerCode" datacolumn="centerName" onitemchanged="divCond2_cbo_center_onitemchanged" class="cmb_WF_Essential"/>
              <Static id="Static03" text="부류" class="sta_WFSA_label" position="absolute 950 10 1013 31" anchor="left top" visible="false"/>
              <Combo id="cbo_class" taborder="8" innerdataset="ds_clsCode" codecolumn="code" datacolumn="codeName" position="absolute 997 10 1085 31" anchor="left top" visible="false"/>
              <Button id="btn_upjang" taborder="9" tabstop="false" onclick="btn_upjang_onclick" class="btn_WF_popSearch" position="absolute 858 10 879 31"/>
              <Edit id="edt_upjang" taborder="10" readonly="true" onkeydown="edt_upjang_onkeydown" class="edt_WF" position="absolute 664 10 859 31" style=":disabled {cursor:arrowwait;}" userdata=""/>
            </Layout>
          </Layouts>
        </Div>
        <WebBrowser id="web" position="absolute 1206 65 1226 85" anchor="default" taborder="16" visible="false"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="divCond1.cal_date" propid="value" datasetid="ds_search0" columnid="schDate"/>
      <BindItem id="item1" compid="divCond1.cbo_loc" propid="value" datasetid="ds_search0" columnid="schLoc"/>
      <BindItem id="item2" compid="divCond1.cho_Type" propid="value" datasetid="ds_search0" columnid="schType"/>
      <BindItem id="item3" compid="divCond1.chk_convert" propid="value" datasetid="ds_search0" columnid="schKgYn"/>
      <BindItem id="item4" compid="divCond1.cbo_gnb" propid="value" datasetid="ds_search0" columnid="schGnb"/>
      <BindItem id="item5" compid="divCond2.cal_from" propid="value" datasetid="ds_search1" columnid="schFrDt"/>
      <BindItem id="item6" compid="divCond2.cal_to" propid="value" datasetid="ds_search1" columnid="schToDt"/>
      <BindItem id="item7" compid="divCond2.cbo_center" propid="value" datasetid="ds_search1" columnid="schCenter"/>
      <BindItem id="item8" compid="divCond2.cbo_class" propid="value" datasetid="ds_search1" columnid="schClass"/>
      <BindItem id="item9" compid="divCond2.edt_upjang" propid="userdata" datasetid="ds_search" columnid="GUBUN"/>
      <BindItem id="item10" compid="divCond2.edt_upjang" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
    </Bind>
    <Objects>
      <Dataset id="ds_search0" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_search_oncolumnchanged" cancolumnchange="ds_search0_cancolumnchange">
        <ColumnInfo>
          <Column id="schDate" type="STRING" size="256"/>
          <Column id="schGnb" type="STRING" size="256"/>
          <Column id="schLoc" type="STRING" size="256"/>
          <Column id="schType" type="STRING" size="256"/>
          <Column id="schKgYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_search1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_search_oncolumnchanged">
        <ColumnInfo>
          <Column id="schFrDt" type="STRING" size="256"/>
          <Column id="schToDt" type="STRING" size="256"/>
          <Column id="schCenter" type="STRING" size="256"/>
          <Column id="schApUpjangCd" type="STRING" size="256"/>
          <Column id="schApUpjangNm" type="STRING" size="256"/>
          <Column id="schClass" type="STRING" size="256"/>
          <Column id="attr01" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_list0" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list0_onrowposchanged">
        <ColumnInfo>
          <Column id="dpr3" type="STRING" size="255"/>
          <Column id="dpr2" type="STRING" size="255"/>
          <Column id="dpr5" type="STRING" size="255"/>
          <Column id="dpr4" type="STRING" size="255"/>
          <Column id="dpr1" type="STRING" size="255"/>
          <Column id="day3" type="STRING" size="255"/>
          <Column id="day2" type="STRING" size="255"/>
          <Column id="rank" type="STRING" size="255"/>
          <Column id="day1" type="STRING" size="255"/>
          <Column id="item_name" type="STRING" size="255"/>
          <Column id="day7" type="STRING" size="255"/>
          <Column id="dpr6" type="STRING" size="255"/>
          <Column id="kind_name" type="STRING" size="255"/>
          <Column id="dpr7" type="STRING" size="255"/>
          <Column id="day6" type="STRING" size="255"/>
          <Column id="day5" type="STRING" size="255"/>
          <Column id="day4" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list1" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list1_onrowposchanged">
        <ColumnInfo>
          <Column id="itemClass4" type="STRING" size="255"/>
          <Column id="classNm" type="STRING" size="255"/>
          <Column id="20180701AvgCp" type="BIGDECIMAL" size="255"/>
          <Column id="20180701AvgSp" type="BIGDECIMAL" size="255"/>
          <Column id="20180701AvgKp" type="BIGDECIMAL" size="255"/>
          <Column id="20180716AvgCp" type="BIGDECIMAL" size="255"/>
          <Column id="20180716AvgSp" type="BIGDECIMAL" size="255"/>
          <Column id="20180716AvgKp" type="BIGDECIMAL" size="255"/>
          <Column id="20180801AvgCp" type="BIGDECIMAL" size="255"/>
          <Column id="20180801AvgSp" type="BIGDECIMAL" size="255"/>
          <Column id="20180801AvgKp" type="BIGDECIMAL" size="255"/>
          <Column id="20180816AvgCp" type="BIGDECIMAL" size="255"/>
          <Column id="20180816AvgSp" type="BIGDECIMAL" size="255"/>
          <Column id="20180816AvgKp" type="BIGDECIMAL" size="255"/>
        </ColumnInfo>
        <Dataset id="ds_list1">
          <ColumnInfo>
            <Column id="itemClass4" type="STRING" size="255"/>
            <Column id="classNm" type="STRING" size="255"/>
            <Column id="20180701AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgKp" type="BIGDECIMAL" size="255"/>
          </ColumnInfo>
          <Rows>
            <Row>
              <Col id="itemClass4">F121011</Col>
              <Col id="classNm">파</Col>
              <Col id="20180701AvgCp">3826</Col>
              <Col id="20180701AvgSp">4417</Col>
              <Col id="20180701AvgKp">2381</Col>
              <Col id="20180716AvgCp">3505</Col>
              <Col id="20180716AvgSp">3949</Col>
              <Col id="20180716AvgKp">2574</Col>
              <Col id="20180801AvgCp">4095</Col>
              <Col id="20180801AvgSp">4605</Col>
              <Col id="20180801AvgKp">2909</Col>
              <Col id="20180816AvgCp">4235</Col>
              <Col id="20180816AvgSp">4657</Col>
              <Col id="20180816AvgKp">3196</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121012</Col>
              <Col id="classNm">양파</Col>
              <Col id="20180701AvgCp">1958</Col>
              <Col id="20180701AvgSp">2466</Col>
              <Col id="20180701AvgKp">554</Col>
              <Col id="20180716AvgCp">1965</Col>
              <Col id="20180716AvgSp">2490</Col>
              <Col id="20180716AvgKp">563</Col>
              <Col id="20180801AvgCp">1772</Col>
              <Col id="20180801AvgSp">2154</Col>
              <Col id="20180801AvgKp">622</Col>
              <Col id="20180816AvgCp">1902</Col>
              <Col id="20180816AvgSp">2337</Col>
              <Col id="20180816AvgKp">669</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121111</Col>
              <Col id="classNm">얼갈이</Col>
              <Col id="20180701AvgCp">2344</Col>
              <Col id="20180701AvgSp">2598</Col>
              <Col id="20180701AvgKp">1478</Col>
              <Col id="20180716AvgCp">2071</Col>
              <Col id="20180716AvgSp">2405</Col>
              <Col id="20180716AvgKp">1884</Col>
              <Col id="20180801AvgCp">2455</Col>
              <Col id="20180801AvgSp">2721</Col>
              <Col id="20180801AvgKp">2249</Col>
              <Col id="20180816AvgCp">2286</Col>
              <Col id="20180816AvgSp">2529</Col>
              <Col id="20180816AvgKp">2526</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121112</Col>
              <Col id="classNm">양배추</Col>
              <Col id="20180701AvgCp">3459</Col>
              <Col id="20180701AvgSp">4135</Col>
              <Col id="20180701AvgKp">618</Col>
              <Col id="20180716AvgCp">3416</Col>
              <Col id="20180716AvgSp">4066</Col>
              <Col id="20180716AvgKp">1094</Col>
              <Col id="20180801AvgCp">3380</Col>
              <Col id="20180801AvgSp">4014</Col>
              <Col id="20180801AvgKp">2152</Col>
              <Col id="20180816AvgCp">3807</Col>
              <Col id="20180816AvgSp">4504</Col>
              <Col id="20180816AvgKp">1618</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121119</Col>
              <Col id="classNm">배추</Col>
              <Col id="20180701AvgCp">2984</Col>
              <Col id="20180701AvgSp">3743</Col>
              <Col id="20180701AvgKp">694</Col>
              <Col id="20180716AvgCp">3371</Col>
              <Col id="20180716AvgSp">4234</Col>
              <Col id="20180716AvgKp">1131</Col>
              <Col id="20180801AvgCp">3899</Col>
              <Col id="20180801AvgSp">4901</Col>
              <Col id="20180801AvgKp">1415</Col>
              <Col id="20180816AvgCp">4643</Col>
              <Col id="20180816AvgSp">5837</Col>
              <Col id="20180816AvgKp">2013</Col>
            </Row>
          </Rows>
        </Dataset>
        <Dataset id="ds_list1">
          <ColumnInfo>
            <Column id="itemClass4" type="STRING" size="255"/>
            <Column id="classNm" type="STRING" size="255"/>
            <Column id="20180701AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgKp" type="BIGDECIMAL" size="255"/>
          </ColumnInfo>
          <Rows>
            <Row>
              <Col id="itemClass4">F121011</Col>
              <Col id="classNm">파</Col>
              <Col id="20180701AvgCp">3826</Col>
              <Col id="20180701AvgSp">4417</Col>
              <Col id="20180701AvgKp">2381</Col>
              <Col id="20180716AvgCp">3505</Col>
              <Col id="20180716AvgSp">3949</Col>
              <Col id="20180716AvgKp">2574</Col>
              <Col id="20180801AvgCp">4095</Col>
              <Col id="20180801AvgSp">4605</Col>
              <Col id="20180801AvgKp">2909</Col>
              <Col id="20180816AvgCp">4235</Col>
              <Col id="20180816AvgSp">4657</Col>
              <Col id="20180816AvgKp">3196</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121012</Col>
              <Col id="classNm">양파</Col>
              <Col id="20180701AvgCp">1958</Col>
              <Col id="20180701AvgSp">2466</Col>
              <Col id="20180701AvgKp">554</Col>
              <Col id="20180716AvgCp">1965</Col>
              <Col id="20180716AvgSp">2490</Col>
              <Col id="20180716AvgKp">563</Col>
              <Col id="20180801AvgCp">1772</Col>
              <Col id="20180801AvgSp">2154</Col>
              <Col id="20180801AvgKp">622</Col>
              <Col id="20180816AvgCp">1902</Col>
              <Col id="20180816AvgSp">2337</Col>
              <Col id="20180816AvgKp">669</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121111</Col>
              <Col id="classNm">얼갈이</Col>
              <Col id="20180701AvgCp">2344</Col>
              <Col id="20180701AvgSp">2598</Col>
              <Col id="20180701AvgKp">1478</Col>
              <Col id="20180716AvgCp">2071</Col>
              <Col id="20180716AvgSp">2405</Col>
              <Col id="20180716AvgKp">1884</Col>
              <Col id="20180801AvgCp">2455</Col>
              <Col id="20180801AvgSp">2721</Col>
              <Col id="20180801AvgKp">2249</Col>
              <Col id="20180816AvgCp">2286</Col>
              <Col id="20180816AvgSp">2529</Col>
              <Col id="20180816AvgKp">2526</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121112</Col>
              <Col id="classNm">양배추</Col>
              <Col id="20180701AvgCp">3459</Col>
              <Col id="20180701AvgSp">4135</Col>
              <Col id="20180701AvgKp">618</Col>
              <Col id="20180716AvgCp">3416</Col>
              <Col id="20180716AvgSp">4066</Col>
              <Col id="20180716AvgKp">1094</Col>
              <Col id="20180801AvgCp">3380</Col>
              <Col id="20180801AvgSp">4014</Col>
              <Col id="20180801AvgKp">2152</Col>
              <Col id="20180816AvgCp">3807</Col>
              <Col id="20180816AvgSp">4504</Col>
              <Col id="20180816AvgKp">1618</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121119</Col>
              <Col id="classNm">배추</Col>
              <Col id="20180701AvgCp">2984</Col>
              <Col id="20180701AvgSp">3743</Col>
              <Col id="20180701AvgKp">694</Col>
              <Col id="20180716AvgCp">3371</Col>
              <Col id="20180716AvgSp">4234</Col>
              <Col id="20180716AvgKp">1131</Col>
              <Col id="20180801AvgCp">3899</Col>
              <Col id="20180801AvgSp">4901</Col>
              <Col id="20180801AvgKp">1415</Col>
              <Col id="20180816AvgCp">4643</Col>
              <Col id="20180816AvgSp">5837</Col>
              <Col id="20180816AvgKp">2013</Col>
            </Row>
          </Rows>
        </Dataset>
      </Dataset>
      <Dataset id="ds_center" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="centerCode" type="STRING" size="256"/>
          <Column id="centerName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_clsCode">
        <ColumnInfo>
          <Column id="groupCode" type="STRING" size="255"/>
          <Column id="code" type="STRING" size="255"/>
          <Column id="codeName" type="STRING" size="255"/>
          <Column id="sortSeq" type="STRING" size="255"/>
          <Column id="systemYn" type="STRING" size="255"/>
          <Column id="set1" type="STRING" size="255"/>
          <Column id="set2" type="STRING" size="255"/>
          <Column id="set3" type="STRING" size="255"/>
          <Column id="set4" type="STRING" size="255"/>
          <Column id="set5" type="STRING" size="255"/>
          <Column id="attr01" type="STRING" size="255"/>
          <Column id="attr02" type="STRING" size="255"/>
          <Column id="attr03" type="STRING" size="255"/>
          <Column id="attr04" type="STRING" size="255"/>
          <Column id="attr05" type="STRING" size="255"/>
          <Column id="attr06" type="STRING" size="255"/>
          <Column id="attr07" type="STRING" size="255"/>
          <Column id="attr08" type="STRING" size="255"/>
          <Column id="attr09" type="STRING" size="255"/>
          <Column id="attr10" type="STRING" size="255"/>
          <Column id="useYn" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_search2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_search_oncolumnchanged">
        <ColumnInfo>
          <Column id="schFrDt" type="STRING" size="256"/>
          <Column id="schToDt" type="STRING" size="256"/>
          <Column id="schCenter" type="STRING" size="256"/>
          <Column id="schApUpjangCd" type="STRING" size="256"/>
          <Column id="schApUpjangNm" type="STRING" size="256"/>
          <Column id="schClass" type="STRING" size="256"/>
          <Column id="attr01" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_list2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list1_onrowposchanged">
        <ColumnInfo>
          <Column id="resultMsg" type="STRING" size="255"/>
          <Column id="type" type="STRING" size="255"/>
          <Column id="step" type="INT" size="255"/>
        </ColumnInfo>
        <Dataset id="ds_list1">
          <ColumnInfo>
            <Column id="itemClass4" type="STRING" size="255"/>
            <Column id="classNm" type="STRING" size="255"/>
            <Column id="20180701AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgKp" type="BIGDECIMAL" size="255"/>
          </ColumnInfo>
          <Rows>
            <Row>
              <Col id="itemClass4">F121011</Col>
              <Col id="classNm">파</Col>
              <Col id="20180701AvgCp">3826</Col>
              <Col id="20180701AvgSp">4417</Col>
              <Col id="20180701AvgKp">2381</Col>
              <Col id="20180716AvgCp">3505</Col>
              <Col id="20180716AvgSp">3949</Col>
              <Col id="20180716AvgKp">2574</Col>
              <Col id="20180801AvgCp">4095</Col>
              <Col id="20180801AvgSp">4605</Col>
              <Col id="20180801AvgKp">2909</Col>
              <Col id="20180816AvgCp">4235</Col>
              <Col id="20180816AvgSp">4657</Col>
              <Col id="20180816AvgKp">3196</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121012</Col>
              <Col id="classNm">양파</Col>
              <Col id="20180701AvgCp">1958</Col>
              <Col id="20180701AvgSp">2466</Col>
              <Col id="20180701AvgKp">554</Col>
              <Col id="20180716AvgCp">1965</Col>
              <Col id="20180716AvgSp">2490</Col>
              <Col id="20180716AvgKp">563</Col>
              <Col id="20180801AvgCp">1772</Col>
              <Col id="20180801AvgSp">2154</Col>
              <Col id="20180801AvgKp">622</Col>
              <Col id="20180816AvgCp">1902</Col>
              <Col id="20180816AvgSp">2337</Col>
              <Col id="20180816AvgKp">669</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121111</Col>
              <Col id="classNm">얼갈이</Col>
              <Col id="20180701AvgCp">2344</Col>
              <Col id="20180701AvgSp">2598</Col>
              <Col id="20180701AvgKp">1478</Col>
              <Col id="20180716AvgCp">2071</Col>
              <Col id="20180716AvgSp">2405</Col>
              <Col id="20180716AvgKp">1884</Col>
              <Col id="20180801AvgCp">2455</Col>
              <Col id="20180801AvgSp">2721</Col>
              <Col id="20180801AvgKp">2249</Col>
              <Col id="20180816AvgCp">2286</Col>
              <Col id="20180816AvgSp">2529</Col>
              <Col id="20180816AvgKp">2526</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121112</Col>
              <Col id="classNm">양배추</Col>
              <Col id="20180701AvgCp">3459</Col>
              <Col id="20180701AvgSp">4135</Col>
              <Col id="20180701AvgKp">618</Col>
              <Col id="20180716AvgCp">3416</Col>
              <Col id="20180716AvgSp">4066</Col>
              <Col id="20180716AvgKp">1094</Col>
              <Col id="20180801AvgCp">3380</Col>
              <Col id="20180801AvgSp">4014</Col>
              <Col id="20180801AvgKp">2152</Col>
              <Col id="20180816AvgCp">3807</Col>
              <Col id="20180816AvgSp">4504</Col>
              <Col id="20180816AvgKp">1618</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121119</Col>
              <Col id="classNm">배추</Col>
              <Col id="20180701AvgCp">2984</Col>
              <Col id="20180701AvgSp">3743</Col>
              <Col id="20180701AvgKp">694</Col>
              <Col id="20180716AvgCp">3371</Col>
              <Col id="20180716AvgSp">4234</Col>
              <Col id="20180716AvgKp">1131</Col>
              <Col id="20180801AvgCp">3899</Col>
              <Col id="20180801AvgSp">4901</Col>
              <Col id="20180801AvgKp">1415</Col>
              <Col id="20180816AvgCp">4643</Col>
              <Col id="20180816AvgSp">5837</Col>
              <Col id="20180816AvgKp">2013</Col>
            </Row>
          </Rows>
        </Dataset>
        <Dataset id="ds_list1">
          <ColumnInfo>
            <Column id="itemClass4" type="STRING" size="255"/>
            <Column id="classNm" type="STRING" size="255"/>
            <Column id="20180701AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180701AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180716AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180801AvgKp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgCp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgSp" type="BIGDECIMAL" size="255"/>
            <Column id="20180816AvgKp" type="BIGDECIMAL" size="255"/>
          </ColumnInfo>
          <Rows>
            <Row>
              <Col id="itemClass4">F121011</Col>
              <Col id="classNm">파</Col>
              <Col id="20180701AvgCp">3826</Col>
              <Col id="20180701AvgSp">4417</Col>
              <Col id="20180701AvgKp">2381</Col>
              <Col id="20180716AvgCp">3505</Col>
              <Col id="20180716AvgSp">3949</Col>
              <Col id="20180716AvgKp">2574</Col>
              <Col id="20180801AvgCp">4095</Col>
              <Col id="20180801AvgSp">4605</Col>
              <Col id="20180801AvgKp">2909</Col>
              <Col id="20180816AvgCp">4235</Col>
              <Col id="20180816AvgSp">4657</Col>
              <Col id="20180816AvgKp">3196</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121012</Col>
              <Col id="classNm">양파</Col>
              <Col id="20180701AvgCp">1958</Col>
              <Col id="20180701AvgSp">2466</Col>
              <Col id="20180701AvgKp">554</Col>
              <Col id="20180716AvgCp">1965</Col>
              <Col id="20180716AvgSp">2490</Col>
              <Col id="20180716AvgKp">563</Col>
              <Col id="20180801AvgCp">1772</Col>
              <Col id="20180801AvgSp">2154</Col>
              <Col id="20180801AvgKp">622</Col>
              <Col id="20180816AvgCp">1902</Col>
              <Col id="20180816AvgSp">2337</Col>
              <Col id="20180816AvgKp">669</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121111</Col>
              <Col id="classNm">얼갈이</Col>
              <Col id="20180701AvgCp">2344</Col>
              <Col id="20180701AvgSp">2598</Col>
              <Col id="20180701AvgKp">1478</Col>
              <Col id="20180716AvgCp">2071</Col>
              <Col id="20180716AvgSp">2405</Col>
              <Col id="20180716AvgKp">1884</Col>
              <Col id="20180801AvgCp">2455</Col>
              <Col id="20180801AvgSp">2721</Col>
              <Col id="20180801AvgKp">2249</Col>
              <Col id="20180816AvgCp">2286</Col>
              <Col id="20180816AvgSp">2529</Col>
              <Col id="20180816AvgKp">2526</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121112</Col>
              <Col id="classNm">양배추</Col>
              <Col id="20180701AvgCp">3459</Col>
              <Col id="20180701AvgSp">4135</Col>
              <Col id="20180701AvgKp">618</Col>
              <Col id="20180716AvgCp">3416</Col>
              <Col id="20180716AvgSp">4066</Col>
              <Col id="20180716AvgKp">1094</Col>
              <Col id="20180801AvgCp">3380</Col>
              <Col id="20180801AvgSp">4014</Col>
              <Col id="20180801AvgKp">2152</Col>
              <Col id="20180816AvgCp">3807</Col>
              <Col id="20180816AvgSp">4504</Col>
              <Col id="20180816AvgKp">1618</Col>
            </Row>
            <Row>
              <Col id="itemClass4">F121119</Col>
              <Col id="classNm">배추</Col>
              <Col id="20180701AvgCp">2984</Col>
              <Col id="20180701AvgSp">3743</Col>
              <Col id="20180701AvgKp">694</Col>
              <Col id="20180716AvgCp">3371</Col>
              <Col id="20180716AvgSp">4234</Col>
              <Col id="20180716AvgKp">1131</Col>
              <Col id="20180801AvgCp">3899</Col>
              <Col id="20180801AvgSp">4901</Col>
              <Col id="20180801AvgKp">1415</Col>
              <Col id="20180816AvgCp">4643</Col>
              <Col id="20180816AvgSp">5837</Col>
              <Col id="20180816AvgKp">2013</Col>
            </Row>
          </Rows>
        </Dataset>
      </Dataset>
    </Objects>
    <InitValue/>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : SalePriceHistoryMgntKamis
  파 일 명 : SalePriceHistoryMgntKamis.xfdl
  기    능 : 식재영업 / 기준정보 / 단가관리 / 판매가격이력관리(KAMIS)

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2018.08.22   kihoon   최초 생성
  
*/

include "lib::lib_com.xjs";
include "lib::lib_prototype.xjs";

var strLayout = "";
var fv_filePath;
function form_onload(obj:Form, e:LoadEventInfo) {	
	gfn_formOnLoad(this);
	fn_init();
}


function fn_init() {
	
	if ( application.gv_runMode == "L" ) {
		tabMain.tpg02.btn_predict.visible = true;
	}
	strLayout = tabMain.tpg02.grd_list.getFormatString();
	ds_search0.setColumn(0, "schDate", gfn_addDate(gfn_today(), -1));
	ds_search0.setColumn(0, "schGnb", "02");
	ds_search0.setColumn(0, "schLoc", "");
	ds_search0.setColumn(0, "schType", "100");
	ds_search0.setColumn(0, "schKgYn", "Y");
	
	ds_search1.setColumn(0, "schFrDt", gfn_addMonth(gfn_today(), -12));
	ds_search1.setColumn(0, "schToDt", gfn_today());
	
	fn_searchCenter();
	SCDataset.bind(this, "ComCode", "ds_clsCode", {groupCode:"PRICE_INFO", useYn:"Y"}, "fn_getClass");
}

function fn_checkValid() {
	
	switch ( tabMain.tabindex ) {
		case 0 :
			
	
			break;
			
		case 1 :
			if ( divCond2.cal_from.value > divCond2.cal_from.value ) {
				gfn_alert("msg.err.validator.date.great");	// 종료일이 시작일보다 빠릅니다.
				divCond2.cal_from.setFocus();
				return false;
			}
			
			if ( gfn_isNull(ds_search1.getColumn(0, "schApUpjangCd")) ) {
				if ( gfn_getDiffMonth(divCond2.cal_from.value, divCond2.cal_from.value) > 6 ) {
					gfn_alert("단가계약업장 정보가 없을 경우 현재 월을 포함하지 않은 최대 조회기간은 최대 6개월입니다.");
					divCond2.cal_from.setFocus();
					return false;
				}
			}
			break;
	}
	return true;
}

function fn_search() {
	switch ( tabMain.tabindex ) {
		case 0 :
			fn_searchTab0();
			break;
			
		case 1 :
			fn_searchTab1();
			break;
	}
}

function fn_searchCenter() {
    var strSvcID    = "searchCenter";
    var strURL      = "fm/fms/upriceContractUpjangSet/selectCenter.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_center=ds_center";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

function fn_searchTab0() {
	
	if ( !fn_checkValid() ) {
		return;
	}
	
    gfn_clearSortMark(tabMain.tpg01.grd_list);
    
    var strSvcID    = "search0";
    var strURL      = "fm/fms/salePriceHistoryMgnt/selectListKamis.xdo";
    var strInDs     = "ds_search0=ds_search0:A";
    var strOutDs    = "ds_list0=ds_list0";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

function fn_getClass(p, ds) {
	if (p.oid == "ds_clsCode")	{
		divCond2.cbo_class.innerdataset = "ds_clsCode";
		divCond2.cbo_class.codecolumn = "code";
		divCond2.cbo_class.datacolumn = "codeName";
		divCond2.cbo_class.index = 0;
	}
}


function fn_searchTab1() {
	if ( !fn_checkValid() ) {
		return;
	}
	
    gfn_clearSortMark(tabMain.tpg01.grd_list);
    
    var strSvcID    = "search1";
    var strURL      = "fm/fms/salePriceHistoryMgnt/selectTrendList.xdo";
    var strInDs     = "ds_search1=ds_search1:A";
    var strOutDs    = "ds_list1=ds_list1";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

function fn_searchPredict() {
	
	//ds_search2.assign(ds_list1);
	
    var strSvcID    = "searchPredict";
    var strURL      = "fm/fms/salePriceHistoryMgnt/selectPredict.xdo";
    var strInDs     = "ds_search1=ds_search1:A";
    var strOutDs    = "ds_list2=ds_list2";
    var strArg      = "pItemCls="+wrapQuote(ds_list1.getColumn(ds_list1.rowposition, "itemClass4"));
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

function fn_insert() {	}

function fn_delete() {	}

function fn_save() {	}

function fn_print() {	}

function fn_help() {	}

function fn_close() {
	return true;
}


function fn_callBack(strSvcID, nErrorCode, strErrorMsg) {
	
	if ( nErrorCode < 0 ) {
		return;
	}
	
    switch( strSvcID ) {
		case "searchCenter" :
			if ( ds_center.rowcount != 0 ) {
				ds_center.deleteRow(0);
				divCond2.cbo_center.index = 0;
			}
			break;
		case "search0" :
			if ( ds_list0.rowcount == 0 ) {
				
			} else {
				tabMain.tpg01.grd_list.setCellProperty("head", 1, "text", ds_list0.getColumn(0, "day1"));	// 당일
				tabMain.tpg01.grd_list.setCellProperty("head", 2, "text", ds_list0.getColumn(0, "day2"));	// 1일전
				tabMain.tpg01.grd_list.setCellProperty("head", 3, "text", ds_list0.getColumn(0, "day3"));	// 1주일전
				tabMain.tpg01.grd_list.setCellProperty("head", 4, "text", ds_list0.getColumn(0, "day4"));	// 2주일전
				tabMain.tpg01.grd_list.setCellProperty("head", 5, "text", ds_list0.getColumn(0, "day5"));	// 1개월전
				tabMain.tpg01.grd_list.setCellProperty("head", 6, "text", ds_list0.getColumn(0, "day6"));	// 1년전
				tabMain.tpg01.grd_list.setCellProperty("head", 7, "text", ds_list0.getColumn(0, "day7"));	// 일평년
			}
            break;
            
        case "search1" :
			if ( ds_list1.rowcount != 0 ) {
				//trace(ds_list1.saveXML());
				fn_setGrid();
			}
			break;
			
		case "searchPredict" :
			trace(ds_list2.saveXML());
			if ( ds_list2.rowcount != 0 ) {
				/*
				web.url = "about:blank";
				trace(gv_webImgRoot+fv_filePath);
				web.url = "javascript:window.open('"+gv_webImgRoot+fv_filePath+"','popup','top=100px,left=100px,height=400px,width=800px')";
				*/
					// 팝업창을 호출한다	
				var strId       = "ChartPop";
				var strURL      = "X_FMS::SalePriceHistoryMgntKamisPop.xfdl";
				var objArgument = {
					//P_CHART : gv_webImgRoot+fv_filePath
					P_DATA : ds_list2
				};
				
				var nWidth      = 1000;
				var nHeight     = 720;
				var strStyle    = "";
				var nLeft       = -1;
				var nTop        = -1;
				var isModeless  = true;
				var bShowTitle  = true;
				var strAlign    = "-1";
				
				var arrRtn = gfn_dialog(strId, strURL, objArgument, nWidth, nHeight, strStyle, nLeft, nTop, isModeless, bShowTitle, strAlign);
			}
			break;
    }
}

function fn_setGrid() {
	tabMain.tpg02.grd_list.enableredraw = false;
	tabMain.tpg02.grd_list.formats = strLayout;
	var nGrp = ((ds_list1.getColCount()-2)/3);
	for ( var i=0; i<nGrp; i++ ) {
		tabMain.tpg02.grd_list.appendContentsCol();
		tabMain.tpg02.grd_list.setFormatColProperty(i+3, "size", 100);
		var hText = (ds_list1.colinfos[(i*3)+2].name).toString();
		tabMain.tpg02.grd_list.setCellProperty("head", i+2,"text", hText.substr(0, 4)+"-"+hText.substr(4, 2)+"-"+hText.substr(6, 2));
		tabMain.tpg02.grd_list.setCellProperty("head", i+2, "align", "center middle"); 
	}
	
	var k = 0;
	var g = 0;
	for ( var j=2; j<ds_list1.getColCount(); j++ ) {
		if ( k == 3 ) {
			k = 0;
			g--;
		}
		var t = k*(nGrp+1)+(j+1)-g;
		k++;
		g++;
		
		tabMain.tpg02.grd_list.setCellProperty("body", t, "text", "bind:"+ds_list1.colinfos[j].name);
		tabMain.tpg02.grd_list.setCellProperty("body", t, "displaytype", "number");
	}
	
	tabMain.tpg02.grd_list.enableredraw = true;
	tabMain.tpg02.grd_list.redraw();
}

function fn_drawChart(ds) {
	var objChart;
	var chart = '';
	switch ( ds ) {
		case "ds_list0" :
		
			var arrValues = [ds_list0.getColumn(ds_list0.rowposition, "dpr1")
							, ds_list0.getColumn(ds_list0.rowposition, "dpr2")
							,ds_list0.getColumn(ds_list0.rowposition, "dpr3")
							,ds_list0.getColumn(ds_list0.rowposition, "dpr4")
							,ds_list0.getColumn(ds_list0.rowposition, "dpr5")
							,ds_list0.getColumn(ds_list0.rowposition, "dpr6")
							,ds_list0.getColumn(ds_list0.rowposition, "dpr7")
							];
							
			arrValues.sort();
			var minYaxis = Math.round(parseInt(arrValues[arrValues.lastIndexOf("-")+1]) * 0.8);
			var maxYaxis = Math.round(parseInt(arrValues[arrValues.length-1]) * 1.2);
			
			chart += '<chart ';
			chart += 'captionFontSize="11" ';
			chart += 'captionFont="Gulim" ';
			chart += 'showvalues="1" ';
			chart += 'palettecolors="#0075c2" ';
			chart += 'usePlotGradientColor="0" ';
			chart += 'baseFontColor="#333333" ';
			chart += 'baseFont="Gulim" ';
			chart += 'baseFontSize="11" ';
			chart += 'bgColor="#ffffff" ';
			chart += 'canvasBgColor="#ffffff" ';
			chart += 'showCanvasBorder="0" ';
			chart += 'showborder="0" ';
			chart += 'formatNumberScale="0" ';
			chart += 'theme="fint" ';
			chart += 'numDivLines="3" ';
			chart += 'divlineAlpha="100" ';
			chart += 'divlineColor="#999999" ';
			chart += 'divlineThickness="1" ';
			chart += 'divLineIsDashed="1" ';
			chart += 'divLineDashLen="1" ';
			chart += 'divLineGapLen="1" ';
			chart += 'yAxisMaxValue="' + maxYaxis + '" ';
			chart += 'yAxisMinValue="' + minYaxis + '" ';
			chart += 'thousandSeparator="," ';
			chart += 'linecolor="#0075c2" ';
			chart += 'linethickness="2" >';
			chart += '    <set label="당일" value="' + ds_list0.getColumn(ds_list0.rowposition, "dpr1") +'" /> ';
			chart += '    <set label="1일전" value="' + ds_list0.getColumn(ds_list0.rowposition, "dpr2") +'" /> ';
			chart += '    <set label="1주일전" value="' + ds_list0.getColumn(ds_list0.rowposition, "dpr3") +'" /> ';
			chart += '    <set label="2주일전" value="' + ds_list0.getColumn(ds_list0.rowposition, "dpr4") +'" /> ';
			chart += '    <set label="1개월전" value="' + ds_list0.getColumn(ds_list0.rowposition, "dpr5") +'" /> ';
			chart += '    <set label="1년전" value="' + ds_list0.getColumn(ds_list0.rowposition, "dpr6") +'" /> ';
			chart += '    <trendlines> ';
			chart += '        <line startvalue="' + ds_list0.getColumn(ds_list0.rowposition, "dpr7") +'" ';
			chart += '				color="#1aaf5d" ';
			chart += '				displayvalue="일평년" ';
			chart += '				valueonright="1" ';
			chart += '				thickness="2" /> ';
			chart += '    </trendlines> ';
			chart += '</chart> ';
			
			objChart = tabMain.tpg01.atx_chart;
			
			objChart.Stop();
			objChart.Movie = gv_chartPath + "Line.swf";
			objChart.SetVariable('dataXML', chart);
			
			objChart.Rewind();
			objChart.Play();
			break;
			
		case "ds_list1" :
			var nRowPos = ds_list1.rowposition;
			var date = "";
			
			var chart = '';
				chart += '<chart ';
				chart += 'captionFontSize="11" ';
				chart += 'captionFont="Gulim" ';
				chart += 'showvalues="1" ';
				chart += 'paletteColors="#0075c2,#1aaf5d,#f2c500" ';
				chart += 'showAlternateHGridColor="0" ';
				chart += 'showPlotBorder="0" ';
				chart += 'usePlotGradientColor="0" ';
				chart += 'baseFontColor="#333333" ';
				chart += 'baseFont="Gulim" ';
				chart += 'baseFontSize="11" ';
				chart += 'bgColor="#ffffff" ';
				chart += 'canvasBgColor="#ffffff" ';
				chart += 'showCanvasBorder="0" ';
				chart += 'legendBorderAlpha="0" ';
				chart += 'legendCaptionFont="Gulim" ';
				chart += 'legendCaptionFontSize="11" ';
				chart += 'legendShadow="0" ';
				chart += 'divlineAlpha="100" ';
				chart += 'divlineColor="#999999" ';
				chart += 'divlineThickness="1" ';
				chart += 'divLineIsDashed="1" ';
				chart += 'divLineDashLen="1" ';
				chart += 'divLineGapLen="1" ';
				chart += 'flatScrollBars="1" ';
				chart += 'scrollheight="10" ';
				chart += 'numVisiblePlot="12" ';
				chart += 'showborder="0" ';
				chart += 'formatNumberScale="0" ';
				chart += 'thousandSeparator="," ';
				chart += '> \r\n';
			
			var category = '';
				category += '<categories> \r\n';
			
				for ( var i=2; i<ds_list1.getColCount(); i++ ) {
					date = ds_list1.colinfos[i].name;
					if ( date.indexOf("Cp") != -1 ) {
						category += '<category label="' + date.substr(0, 4) + '-'+ date.substr(4, 2) + '-'+ date.substr(6, 2) +'" stepskipped="false" appliedsmartlabel="true" labeltooltext="" /> \r\n';
					}
				}
				category += '</categories> \r\n';
				
			var ds1 = '';
				ds1 += '<dataset renderas="line" linethickness="3" parentyaxis="S" seriesname="구매가"> \r\n';
				for ( var i=2; i<ds_list1.getColCount(); i++ ) {
					date = ds_list1.colinfos[i].name;
					if ( date.indexOf("AvgCp") != -1 ) {
						ds1 += '<set value="' +  ds_list1.getColumn(nRowPos, date) + '" /> \r\n';
					}
				}	
				ds1 += '</dataset> \r\n';
				
			var ds2 = '';
				ds2 += '<dataset renderas="line" linethickness="3" parentyaxis="S" seriesname="판매가"> \r\n';
				for ( var i=2; i<ds_list1.getColCount(); i++ ) {	
					date = ds_list1.colinfos[i].name;
					if ( date.indexOf("AvgSp") != -1 ) {
						ds2 += '<set value="' + ds_list1.getColumn(nRowPos, date) + '" /> \r\n';
					}
				}
				ds2 += '</dataset> \r\n';
					
			var ds3 = '';
			
				ds3 += '<dataset renderas="line" linethickness="3" parentyaxis="S" seriesname="공공가" > \r\n';
				for ( var i=2; i<ds_list1.getColCount(); i++ ) {	
					date = ds_list1.colinfos[i].name;
					if ( date.indexOf("AvgKp") != -1 ) {
						//trace("Kp="+date);
						ds3 += '<set value="' + ds_list1.getColumn(nRowPos, date) + '" /> \r\n';
					}
				}
				ds3 += '</dataset> \r\n';
				
			var ds = ds1 + ds2 + ds3;
			var conf = "";
				conf = chart + category + ds + '</chart>';
			
			objChart = tabMain.tpg02.atx_chart;
			objChart.Stop();
			objChart.Movie = gv_chartPath + "ScrollCombiDY2D.swf";
			objChart.SetVariable('dataXML', conf);
			
			objChart.Rewind();
			objChart.Play();
			break;
	}
	
}

function tabMain_onchanged(obj:Tab, e:TabIndexChangeEventInfo) {
	
	switch ( e.postindex ) {
		case 0 :
			divCond2.visible = false;
			divCond1.position.x = 0;
			divCond1.position.y = 30;
			divCond1.bringToFront();
			divCond1.visible = true;
			break;
			
		case 1 :
			divCond1.visible = false;
			divCond2.position.x = 0;
			divCond2.position.y = 30;
			divCond2.bringToFront();
			divCond2.visible = true;
			break;
	}
}

function ds_list0_onrowposchanged(obj:Dataset, e:DSRowPosChangeEventInfo) {
	fn_drawChart(obj.name);
}

function SalePriceHistoryMgntKamis_onsize(obj:Form, e:SizeEventInfo) {
	try {
		var objChart = tabMain.tabpages[tabMain.tabindex].atx_chart;
		objChart.Rewind();
		objChart.Play();
	} catch (e) {
	
	}
}

function ds_search0_cancolumnchange(obj:Dataset, e:DSColChangeEventInfo) {


	switch ( e.columnid ) {
		case "schDate" :
			if ( (e.newvalue > gfn_today()) ) {
				gfn_alert("조회일자는 현재일자보다 앞선 일자를 선택할 수 없습니다.");
				return false;
			}
			break;
			
			
		default :
			break;
	}
	return true;
}

function btn_upjang_onclick(obj:Button,  e:ClickEventInfo) {
	fn_upjangPop();
}


function fn_upjangPop() {
	// 팝업창을 호출한다	
	var strId       = "FoodMaterialsUpjang";
	var strURL      = "X_FMS::FoodMaterialsUpjangPop.xfdl";
	var objArgument = {
		P_DATASET : ds_search1
	};
	
	var nWidth      = 513;
	var nHeight     = 495;
	var strStyle    = "";
	var nLeft       = -1;
	var nTop        = -1;
	var isModeless  = false;
	var bShowTitle  = true;
	var strAlign    = "-1";
	
	var arrRtn = gfn_dialog(strId, strURL, objArgument, nWidth, nHeight, strStyle, nLeft, nTop, isModeless, bShowTitle, strAlign);
	
	if (arrRtn instanceof Object) {
		divCond2.edt_upjang.value    = arrRtn["upjangNm"];
		divCond2.edt_upjang.userdata = arrRtn["upjang"];
		
		ds_search1.setColumn(0, "schApUpjangCd", divCond2.edt_upjang.userdata);
	}
}

function edt_upjang_onkeydown(obj:Edit, e:KeyEventInfo) {
	if ( e.keycode == 46 ) {
		divCond2.edt_upjang.value    = "";
		divCond2.edt_upjang.userdata = "";
	}
}

function divCond2_cbo_center_onitemchanged(obj:Combo, e:ItemChangeEventInfo) {
	divCond2.edt_upjang.value    = "";
	divCond2.edt_upjang.userdata = "";
}

function ds_list1_onrowposchanged(obj:Dataset, e:DSRowPosChangeEventInfo) {
	fn_drawChart(obj.name);
}

function tabMain_tpg02_btn_predict_onclick(obj:Button,  e:ClickEventInfo) {
	fn_searchPredict();
}

function tabMain_tpg02_btn_wordCloud_onclick(obj:Button,  e:ClickEventInfo) {
	system.execBrowser("https://kihoon.shinyapps.io/appWC/");
}
]]></Script>
  </Form>
</FDL>
