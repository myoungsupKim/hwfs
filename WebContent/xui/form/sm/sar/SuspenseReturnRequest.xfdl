<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="SuspenseReturnRequest" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="가수금 전환 신청" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="4" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Tab id="tab_main" taborder="3" tabindex="0" scrollbars="autoboth" position="absolute 0 30 1237 710" style="showextrabutton:false;" anchor="all" onchanged="fn_tabChanged" tabstop="false">
          <Tabpages>
            <Tabpage id="tab_request" text="가수금 전환 신청" position="absolute 1 27 1236 679">
              <Layouts>
                <Layout>
                  <Static id="Static60" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 0 1235 10" anchor="left top"/>
                  <Static id="Static07" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 0 10 10 695" anchor="default"/>
                  <Static id="Static15" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 10 106 460 119" anchor="left top"/>
                  <Static id="Static21" class="sta_WFSA_Labelbg01" position="absolute 10 137 1225 205" anchor="left top right"/>
                  <Static id="Static22" text="전환 요청 대상 목록 선택" class="sta_WF_Title01" position="absolute 10 119 460 137" anchor="left top"/>
                  <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 132 460 137" anchor="left top"/>
                  <Static id="Static35" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 10 667 1225 677" anchor="left top"/>
                  <Static id="Static23" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 11 137 1223 147" anchor="left top"/>
                  <Static id="Static25" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 11 173 26 194" anchor="left top"/>
                  <Static id="Static24" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 11 194 104 204" anchor="left top"/>
                  <Calendar id="cal_fromDay" taborder="12" dateformat="yyyy-MM-dd" position="absolute 3 -398 107 -377" anchor="left top" style="align:center middle;"/>
                  <Grid id="grd_list" taborder="10" binddataset="ds_list" scrollbars="autoboth" autoenter="select" useinputpanel="false" position="absolute 10 210 1225 652" anchor="all" autosizingtype="none" autofittype="col" oncellclick="grd_list_oncellclick" onexpanddown="grd_list_onexpanddown" visible="true" cellsizingtype="col">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="38"/>
                          <Column size="40"/>
                          <Column size="120"/>
                          <Column size="250"/>
                          <Column size="90"/>
                          <Column size="170"/>
                          <Column size="120"/>
                          <Column size="120"/>
                          <Column size="106"/>
                          <Column size="130"/>
                          <Column size="270"/>
                          <Column size="20"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                          <Row size="24" band="summ"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" text="NO"/>
                          <Cell col="2" text="코드"/>
                          <Cell col="3" text="계좌번호"/>
                          <Cell col="4" text="입금일자"/>
                          <Cell col="5" text="입금고객명"/>
                          <Cell col="6" text="전환가능금액"/>
                          <Cell col="7" text="전환요청금액"/>
                          <Cell col="8" text="CC코드"/>
                          <Cell col="9" text="CC명"/>
                          <Cell col="10" colspan="2" text="적요" taborder="undefined"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                          <Cell col="1" text="expr:currow+1"/>
                          <Cell col="2" displaytype="text" edittype="none" style="align:center;" text="bind:suspenseNum"/>
                          <Cell col="3" displaytype="text" style="align:center;" text="bind:bankAcctNo"/>
                          <Cell col="4" displaytype="text" style="align:center;" text="bind:receiveDate" mask="####-##-##"/>
                          <Cell col="5" style="align:left middle;" text="bind:receiveGuestNm"/>
                          <Cell col="6" displaytype="number" text="bind:suspenseBalAmt"/>
                          <Cell col="7" displaytype="number" edittype="normal" editfilter="number" style="align:right;" class="Cellgrd_WF_Point" text="bind:altAmt" displayexpdec="0" editlimit="13" editautoselect="true" editdisplay="display" editlimitbymask="integer"/>
                          <Cell col="8" style="align:center middle;" text="bind:ccCd"/>
                          <Cell col="9" style="align:left middle;" text="bind:ccNm"/>
                          <Cell col="10" style="align:left middle;" text="bind:remarks"/>
                          <Cell col="11" displaytype="image" edittype="normal" style="align:center middle;cursor:hand;" expandshow="show" expandsize="18" expandimage="URL('theme://convertImages/new/btn_WF_popSearchN.png')"/>
                        </Band>
                        <Band id="summary">
                          <Cell/>
                          <Cell col="1"/>
                          <Cell col="2"/>
                          <Cell col="3"/>
                          <Cell col="4"/>
                          <Cell col="5"/>
                          <Cell col="6" displaytype="number" expr="expr:getSum(&quot;suspenseBalAmt&quot;)"/>
                          <Cell col="7" displaytype="number" expr="expr:getSum(&quot;altAmt&quot;)"/>
                          <Cell col="8"/>
                          <Cell col="9"/>
                          <Cell col="10"/>
                          <Cell col="11"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static00" class="sta_WFSA_Labelbg01" position="absolute 10 28 1225 96" anchor="left top right"/>
                  <Static id="Static04" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 23 460 28" anchor="left top"/>
                  <Static id="Static03" text="전환 요청 정보" class="sta_WF_Title01" position="absolute 10 10 460 28" anchor="left top"/>
                  <Static id="Static53" text="전환일자" class="sta_WFSA_label" position="absolute 661 64 723 85" anchor="left top" visible="false"/>
                  <Static id="Static54" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 399 64 409 85" anchor="left top"/>
                  <Static id="Static14" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 310 64 340 85" anchor="left top"/>
                  <Static id="Static05" text="작성자" class="sta_WFSA_label" position="absolute 25 64 72 85" anchor="left top"/>
                  <Static id="Static06" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 81 64 91 85" anchor="left top"/>
                  <Static id="Static08" text="요청금액" class="sta_WFSA_label" position="absolute 340 63 426 84" anchor="left top"/>
                  <MaskEdit id="edt_altAmtSum" taborder="3" readonly="true" mask="#,###" oneditclick="MaskEdit01_oneditclick" position="absolute 405 63 628 84" style="color:red;padding:1 5 0 0;font:arial,9,bold;" anchor="default" tabstop="false"/>
                  <Edit id="edt_loginUserNm" taborder="0" oneditclick="Edit01_oneditclick" enable="false" position="absolute 91 64 311 85" anchor="default" tabstop="false"/>
                  <Calendar id="cal_nowDate" taborder="1" dateformat="yyyy-MM-dd" enable="false" position="absolute 731 64 826 85" value="null" anchor="default" tabstop="false" visible="false"/>
                  <Static id="Static12" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 10 38 25 89" anchor="left top"/>
                  <Static id="Static13" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 10 28 103 38" anchor="left top"/>
                  <Static id="Static17" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 10 96 103 106" anchor="left top"/>
                  <Static id="Static30" text="계좌번호" class="sta_WFSA_label" position="absolute 25 173 85 194" anchor="left top"/>
                  <Static id="Static32" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 84 173 94 194" anchor="left top"/>
                  <Static id="Static34" text="~" position="absolute 516 149 525 168" anchor="default"/>
                  <Static id="Static37" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 506 148 516 169" anchor="left top"/>
                  <Static id="Static40" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 525 148 535 169" anchor="left top"/>
                  <Static id="Static42" text="입금일자" class="sta_WFSA_label" position="absolute 341 147 403 168" anchor="left top"/>
                  <Static id="Static57" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 817 173 847 194" anchor="left top"/>
                  <Static id="Static58" text="고객명" class="sta_WFSA_label" position="absolute 664 173 737 194" anchor="left top"/>
                  <Edit id="edt_receiveGuestNmSch" taborder="9" position="absolute 733 173 951 194" anchor="default" imemode="hangul"/>
                  <Static id="Static61" text="코드" class="sta_WFSA_label" position="absolute 341 173 401 194" anchor="left top" style="align:left middle;"/>
                  <Edit id="edt_susNoSch" taborder="8" position="absolute 411 173 634 194" anchor="default"/>
                  <Edit id="edt_bankAcctNoSch" taborder="7" position="absolute 91 173 291 194" anchor="left top" ontextchanged="edt_bankAcctNoSch_ontextchanged" readonly="false" onkeydown="edt_bankAcctNoSch_onkeydown"/>
                  <Button id="btn_bankAcctNo" taborder="11" onclick="btn_bankAcctNo_onclick" class="btn_WF_popSearch" position="absolute 290 173 311 194" anchor="left top"/>
                  <Static id="Static01" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 1225 15 1235 672" anchor="default"/>
                  <Static id="Static19" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 168 460 173" anchor="left top"/>
                  <Static id="Static20" text="적요" class="sta_WFSA_label" position="absolute 664 147 737 168" anchor="left top" style="align:left middle;"/>
                  <Edit id="edt_remarksSch" taborder="6" position="absolute 733 147 951 168" imemode="hangul" anchor="default"/>
                  <ObjCalendar id="cal_startDtSch" titletext="캘린더" taborder="4" onclick="cal_occurDateSch_onchanged" scrollbars="none" class="cal_WF_Essential" position="absolute 411 147 506 168"/>
                  <ObjCalendar id="cal_endDtSch" titletext="캘린더" taborder="5" onclick="cal_occurDateSch_onchanged" scrollbars="none" class="cal_WF_Essential" position="absolute 535 147 630 168"/>
                  <Edit id="edt_bankAcctNoOrg" taborder="13" visible="false" position="absolute 484 114 684 135" anchor="left top" tabstop="false"/>
                  <Static id="Static02" text="BU 코드" class="sta_WFSA_label" position="absolute 25 152 85 173" anchor="left top"/>
                  <Combo id="cbo_buCd" taborder="2" innerdataset="ds_buCd" codecolumn="buCd" datacolumn="buNm" onitemchanged="cbo_slipType_onitemchanged" position="absolute 91 147 311 168" anchor="left top" class="cmb_WF_Essential" index="-1" displaynulltext="선택"/>
                  <Grid id="Grid00" taborder="14" useinputpanel="false" position="absolute 12 703 1225 887" binddataset="ds_list" visible="false">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                          <Col size="80"/>
                        </Columns>
                        <Rows>
                          <Row band="head" size="24"/>
                          <Row band="body" size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell col="0" disptype="normal" text="chk"/>
                          <Cell col="1" disptype="normal" text="buCd"/>
                          <Cell col="2" disptype="normal" text="suspenseNum"/>
                          <Cell col="3" disptype="normal" text="altBuCd"/>
                          <Cell col="4" disptype="normal" text="ccCd"/>
                          <Cell col="5" disptype="normal" text="currency"/>
                          <Cell col="6" disptype="normal" text="suspenseBalAmt"/>
                          <Cell col="7" disptype="normal" text="altAmt"/>
                          <Cell col="8" disptype="normal" text="sabun"/>
                          <Cell col="9" disptype="normal" text="bankAcctNo"/>
                          <Cell col="10" disptype="normal" text="receiveDate"/>
                          <Cell col="11" disptype="normal" text="receiveGuestNm"/>
                          <Cell col="12" disptype="normal" text="remarks"/>
                          <Cell col="13" disptype="normal" text="suspenseBalAmtOrg"/>
                          <Cell col="14" disptype="normal" text="altAmtOrg"/>
                        </Band>
                        <Band id="body">
                          <Cell col="0" disptype="normal" text="bind:chk"/>
                          <Cell col="1" disptype="normal" text="bind:buCd"/>
                          <Cell col="2" disptype="normal" text="bind:suspenseNum"/>
                          <Cell col="3" disptype="normal" text="bind:altBuCd"/>
                          <Cell col="4" disptype="normal" text="bind:ccCd"/>
                          <Cell col="5" disptype="normal" text="bind:currency"/>
                          <Cell col="6" disptype="normal" text="bind:suspenseBalAmt"/>
                          <Cell col="7" disptype="normal" text="bind:altAmt"/>
                          <Cell col="8" disptype="normal" text="bind:sabun"/>
                          <Cell col="9" disptype="normal" text="bind:bankAcctNo"/>
                          <Cell col="10" disptype="normal" text="bind:receiveDate"/>
                          <Cell col="11" disptype="normal" text="bind:receiveGuestNm"/>
                          <Cell col="12" disptype="normal" text="bind:remarks"/>
                          <Cell col="13" disptype="normal" text="bind:suspenseBalAmtOrg"/>
                          <Cell col="14" disptype="normal" text="bind:altAmtOrg"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static18" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 205 460 210" anchor="left top"/>
                  <Static id="Static51" text="W05." visible="false" position="absolute 16 59 969 64" anchor="left top" style="background:#ff000055;align:center middle;"/>
                  <Static id="Static09" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 18 85 111 95" anchor="left top"/>
                  <Static id="Static11" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 81 38 91 59" anchor="left top"/>
                  <Static id="Static55" text="사업부" class="sta_WFSA_label" position="absolute 25 38 85 58" style="background:URL('theme://images/new/sta_WFSA_label.png') left middle;align:left middle;"/>
                  <Static id="Static46" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 311 38 341 59" anchor="left top"/>
                  <Static id="Static38" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 634 38 664 59" anchor="left top"/>
                  <Static id="Static39" text="부서" class="sta_WFSA_label" position="absolute 341 38 417 58" style="background:URL('theme://images/new/sta_WFSA_label.png') left middle;align:left middle;"/>
                  <Static id="Static41" text="CC" class="sta_WFSA_label" position="absolute 664 38 734 58" style="background:URL('theme://images/new/sta_WFSA_label.png') left middle;align:left middle;"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tab_result" text="가수금 전환 결과">
              <Layouts>
                <Layout>
                  <Static id="Static60" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 0 1235 10" anchor="left top"/>
                  <Static id="Static21" class="sta_WFSA_Labelbg01" position="absolute 10 28 1225 69" anchor="left top right"/>
                  <Static id="Static23" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 11 28 104 38" anchor="left top"/>
                  <Static id="Static24" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 11 59 104 69" anchor="left top"/>
                  <Static id="Static07" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 0 10 10 675"/>
                  <Static id="Static01" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 1225 10 1235 670"/>
                  <Static id="Static35" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 10 642 1225 652" anchor="left top"/>
                  <Static id="Static25" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 11 38 26 59" anchor="left top"/>
                  <Static id="Static20" text="요청기간" class="sta_WFSA_label" position="absolute 26 38 88 59" anchor="left top"/>
                  <Static id="Static26" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 85 38 95 59" anchor="left top"/>
                  <Static id="Static38" text="요청자" class="sta_WFSA_label" position="absolute 344 38 392 59" anchor="left top"/>
                  <Static id="Static39" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 390 38 399 59" anchor="left top"/>
                  <Combo id="cmb_sapProcStatus" taborder="3" value="Y" text="예" innerdataset="ds_sapProcStatus" codecolumn="code" datacolumn="codeNm" index="0" position="absolute 590 38 669 59" anchor="left top" visible="false" onitemchanged="cmb_sapProcStatus_onitemchanged"/>
                  <Static id="Static44" text="처리상태" class="sta_WFSA_label" position="absolute 521 38 583 59" anchor="left top" visible="false"/>
                  <Static id="Static45" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 580 38 590 59" anchor="left top"/>
                  <Static id="Static46" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 490 38 520 59" anchor="left top"/>
                  <Static id="Static50" text="~" position="absolute 200 40 209 59"/>
                  <Static id="Static51" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 190 38 200 59" anchor="left top"/>
                  <Static id="Static52" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 209 38 219 59" anchor="left top"/>
                  <Static id="Static27" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 314 38 344 59" anchor="left top"/>
                  <Edit id="edt_empNm" taborder="2" value="홍길동" displaynulltext="가나다라마" enable="false" position="absolute 399 38 490 59"/>
                  <Static id="Static04" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 23 460 28" anchor="left top"/>
                  <Static id="Static03" text="가수금 전환 결과 내역" class="sta_WF_Title01" position="absolute 10 10 460 28" anchor="left top"/>
                  <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 10 69 460 74" anchor="left top"/>
                  <ObjCalendar id="cal_startDtSch" titletext="캘린더" taborder="5" onclick="cal_occurDateSch_onchanged" scrollbars="none" class="cal_WF_Essential" position="absolute 95 38 190 59"/>
                  <ObjCalendar id="cal_endDtSch" titletext="캘린더" taborder="6" onclick="cal_occurDateSch_onchanged" scrollbars="none" class="cal_WF_Essential" position="absolute 219 38 314 59"/>
                  <Button id="btn_cancel" taborder="7" text="취소요청" onclick="btn_cancel_onclick" class="btn_WF_Custom" position="absolute 1135 36 1210 61" anchor="left top" style="font:Gulim,9,bold;" visible="true"/>
                  <Button id="btn_detailPop" taborder="8" text="상세보기" onclick="btn_detailPop_onclick" class="btn_WF_CRUD" position="absolute 1047 38 1112 58" anchor="top right" style="font:Gulim,9,bold;" visible="false"/>
                  <Grid id="grd_list" taborder="9" binddataset="ds_listSuspenseAltRequest" autoenter="select" useinputpanel="false" autofittype="col" oncelldblclick="tab_main_tab_result_grd_list_oncelldblclick" onexpanddown="grd_list_onexpanddown" position="absolute 10 74 1225 642" anchor="all">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="0"/>
                          <Column size="19"/>
                          <Column size="80"/>
                          <Column size="120"/>
                          <Column size="80"/>
                          <Column size="80"/>
                          <Column size="100"/>
                          <Column size="120"/>
                          <Column size="80"/>
                          <Column size="70"/>
                        </Columns>
                        <Rows>
                          <Row size="24" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1"/>
                          <Cell col="2" text="코드"/>
                          <Cell col="3" text="신청업장"/>
                          <Cell col="4" text="신청일자"/>
                          <Cell col="5" text="대체금액"/>
                          <Cell col="6" text="요청자"/>
                          <Cell col="7" text="원계좌번호"/>
                          <Cell col="8" text="입금일"/>
                          <Cell col="9" text="처리상태"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                          <Cell col="1" displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                          <Cell col="2" displaytype="text" edittype="expand" style="align:center middle;" text="bind:sapSuspenseNum"/>
                          <Cell col="3" style="align:center middle;" text="bind:chgCcNm"/>
                          <Cell col="4" displaytype="text" style="align:center middle;" text="bind:reqDate" mask="####-##-##"/>
                          <Cell col="5" displaytype="number" text="bind:altAmt"/>
                          <Cell col="6" displaytype="text" style="align:center middle;" text="bind:empNm"/>
                          <Cell col="7" displaytype="text" style="align:center middle;" text="bind:suspenseAcctNo"/>
                          <Cell col="8" displaytype="text" style="align:center middle;" text="bind:receiveDate" mask="####-##-##"/>
                          <Cell col="9" style="align:center middle;" text="bind:sapProcStatus"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Grid id="Grid00" taborder="5" binddataset="ds_listSuspenseInquery" useinputpanel="false" position="absolute 2 851 1216 958" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="buCd"/>
                <Cell col="1" disptype="normal" text="bankAcctNo"/>
                <Cell col="2" disptype="normal" text="receiveDate"/>
                <Cell col="3" disptype="normal" text="pitime"/>
                <Cell col="4" disptype="normal" text="gubun"/>
                <Cell col="5" disptype="normal" text="muNm"/>
                <Cell col="6" disptype="normal" text="bankCd"/>
                <Cell col="7" disptype="normal" text="pidate"/>
                <Cell col="8" disptype="normal" text="remarks"/>
                <Cell col="9" disptype="normal" text="pimsgid"/>
                <Cell col="10" disptype="normal" text="ccNm"/>
                <Cell col="11" disptype="normal" text="sapSlipNum"/>
                <Cell col="12" disptype="normal" text="currencyCd"/>
                <Cell col="13" disptype="normal" text="sapSuspenseNum"/>
                <Cell col="14" disptype="normal" text="muCd"/>
                <Cell col="15" disptype="normal" text="picode"/>
                <Cell col="16" disptype="normal" text="bankNm"/>
                <Cell col="17" disptype="normal" text="ccCd"/>
                <Cell col="18" disptype="normal" text="pimsg"/>
                <Cell col="19" disptype="normal" text="receiveGuestNm"/>
                <Cell col="20" disptype="normal" text="altAmt"/>
                <Cell col="21" disptype="normal" text="pistat"/>
                <Cell col="22" disptype="normal" text="piuser"/>
                <Cell col="23" disptype="normal" text="receiveAmt"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:buCd"/>
                <Cell col="1" disptype="normal" text="bind:bankAcctNo"/>
                <Cell col="2" disptype="normal" text="bind:receiveDate"/>
                <Cell col="3" disptype="normal" text="bind:pitime"/>
                <Cell col="4" disptype="normal" text="bind:gubun"/>
                <Cell col="5" disptype="normal" text="bind:muNm"/>
                <Cell col="6" disptype="normal" text="bind:bankCd"/>
                <Cell col="7" disptype="normal" text="bind:pidate"/>
                <Cell col="8" disptype="normal" text="bind:remarks"/>
                <Cell col="9" disptype="normal" text="bind:pimsgid"/>
                <Cell col="10" disptype="normal" text="bind:ccNm"/>
                <Cell col="11" disptype="normal" text="bind:sapSlipNum"/>
                <Cell col="12" disptype="normal" text="bind:currencyCd"/>
                <Cell col="13" disptype="normal" text="bind:sapSuspenseNum"/>
                <Cell col="14" disptype="normal" text="bind:muCd"/>
                <Cell col="15" disptype="normal" text="bind:picode"/>
                <Cell col="16" disptype="normal" text="bind:bankNm"/>
                <Cell col="17" disptype="normal" text="bind:ccCd"/>
                <Cell col="18" disptype="normal" text="bind:pimsg"/>
                <Cell col="19" disptype="normal" text="bind:receiveGuestNm"/>
                <Cell col="20" disptype="normal" text="bind:altAmt"/>
                <Cell col="21" disptype="normal" text="bind:pistat"/>
                <Cell col="22" disptype="normal" text="bind:piuser"/>
                <Cell col="23" disptype="normal" text="bind:receiveAmt"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid02" taborder="6" binddataset="ds_searchSuspenseInquery" useinputpanel="false" position="absolute 0 786 749 850" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="buCd"/>
                <Cell col="1" disptype="normal" text="susNo"/>
                <Cell col="2" disptype="normal" text="startDt"/>
                <Cell col="3" disptype="normal" text="endDt"/>
                <Cell col="4" disptype="normal" text="ccCd"/>
                <Cell col="5" disptype="normal" text="muCd"/>
                <Cell col="6" disptype="normal" text="bankAcctNo"/>
                <Cell col="7" disptype="normal" text="receiveGuestNm"/>
                <Cell col="8" disptype="normal" text="closeYn"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:buCd"/>
                <Cell col="1" disptype="normal" text="bind:susNo"/>
                <Cell col="2" disptype="normal" text="bind:startDt"/>
                <Cell col="3" disptype="normal" text="bind:endDt"/>
                <Cell col="4" disptype="normal" text="bind:ccCd"/>
                <Cell col="5" disptype="normal" text="bind:muCd"/>
                <Cell col="6" disptype="normal" text="bind:bankAcctNo"/>
                <Cell col="7" disptype="normal" text="bind:receiveGuestNm"/>
                <Cell col="8" disptype="normal" text="bind:closeYn"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid01" taborder="7" binddataset="ds_list" useinputpanel="false" position="absolute 0 741 1211 800" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="chk"/>
                <Cell col="1" disptype="normal" text="buCd"/>
                <Cell col="2" disptype="normal" text="suspenseNum"/>
                <Cell col="3" disptype="normal" text="altBuCd"/>
                <Cell col="4" disptype="normal" text="ccCd"/>
                <Cell col="5" disptype="normal" text="currency"/>
                <Cell col="6" disptype="normal" text="suspenseBalAmt"/>
                <Cell col="7" disptype="normal" text="altAmt"/>
                <Cell col="8" disptype="normal" text="sabun"/>
                <Cell col="9" disptype="normal" text="bankAcctNo"/>
                <Cell col="10" disptype="normal" text="receiveDate"/>
                <Cell col="11" disptype="normal" text="receiveGuestNm"/>
                <Cell col="12" disptype="normal" text="remarks"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:chk"/>
                <Cell col="1" disptype="normal" text="bind:buCd"/>
                <Cell col="2" disptype="normal" text="bind:suspenseNum"/>
                <Cell col="3" disptype="normal" text="bind:altBuCd"/>
                <Cell col="4" disptype="normal" text="bind:ccCd"/>
                <Cell col="5" disptype="normal" text="bind:currency"/>
                <Cell col="6" disptype="normal" text="bind:suspenseBalAmt"/>
                <Cell col="7" disptype="normal" text="bind:altAmt"/>
                <Cell col="8" disptype="normal" text="bind:sabun"/>
                <Cell col="9" disptype="normal" text="bind:bankAcctNo"/>
                <Cell col="10" disptype="normal" text="bind:receiveDate"/>
                <Cell col="11" disptype="normal" text="bind:receiveGuestNm"/>
                <Cell col="12" disptype="normal" text="bind:remarks"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid03" taborder="8" binddataset="ds_listSuspenseInquery" useinputpanel="false" visible="false" position="absolute 21 528 1226 713" useselcolor="true">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="buCd"/>
                <Cell col="1" disptype="normal" text="bankAcctNo"/>
                <Cell col="2" disptype="normal" text="receiveDate"/>
                <Cell col="3" disptype="normal" text="pitime"/>
                <Cell col="4" disptype="normal" text="gubun"/>
                <Cell col="5" disptype="normal" text="muNm"/>
                <Cell col="6" disptype="normal" text="bankCd"/>
                <Cell col="7" disptype="normal" text="pidate"/>
                <Cell col="8" disptype="normal" text="remarks"/>
                <Cell col="9" disptype="normal" text="pimsgid"/>
                <Cell col="10" disptype="normal" text="ccNm"/>
                <Cell col="11" disptype="normal" text="sapSlipNum"/>
                <Cell col="12" disptype="normal" text="currencyCd"/>
                <Cell col="13" disptype="normal" text="sapSuspenseNum"/>
                <Cell col="14" disptype="normal" text="muCd"/>
                <Cell col="15" disptype="normal" text="picode"/>
                <Cell col="16" disptype="normal" text="bankNm"/>
                <Cell col="17" disptype="normal" text="ccCd"/>
                <Cell col="18" disptype="normal" text="pimsg"/>
                <Cell col="19" disptype="normal" text="receiveGuestNm"/>
                <Cell col="20" disptype="normal" text="altAmt"/>
                <Cell col="21" disptype="normal" text="pistat"/>
                <Cell col="22" disptype="normal" text="piuser"/>
                <Cell col="23" disptype="normal" text="receiveAmt"/>
                <Cell col="24" disptype="normal" text="suspenseBalAmt"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:buCd"/>
                <Cell col="1" disptype="normal" text="bind:bankAcctNo"/>
                <Cell col="2" disptype="normal" text="bind:receiveDate"/>
                <Cell col="3" disptype="normal" text="bind:pitime"/>
                <Cell col="4" disptype="normal" text="bind:gubun"/>
                <Cell col="5" disptype="normal" text="bind:muNm"/>
                <Cell col="6" disptype="normal" text="bind:bankCd"/>
                <Cell col="7" disptype="normal" text="bind:pidate"/>
                <Cell col="8" disptype="normal" text="bind:remarks"/>
                <Cell col="9" disptype="normal" text="bind:pimsgid"/>
                <Cell col="10" disptype="normal" text="bind:ccNm"/>
                <Cell col="11" disptype="normal" text="bind:sapSlipNum"/>
                <Cell col="12" disptype="normal" text="bind:currencyCd"/>
                <Cell col="13" disptype="normal" text="bind:sapSuspenseNum"/>
                <Cell col="14" disptype="normal" text="bind:muCd"/>
                <Cell col="15" disptype="normal" text="bind:picode"/>
                <Cell col="16" disptype="normal" text="bind:bankNm"/>
                <Cell col="17" disptype="normal" text="bind:ccCd"/>
                <Cell col="18" disptype="normal" text="bind:pimsg"/>
                <Cell col="19" disptype="normal" text="bind:receiveGuestNm"/>
                <Cell col="20" disptype="normal" text="bind:altAmt"/>
                <Cell col="21" disptype="normal" text="bind:pistat"/>
                <Cell col="22" disptype="normal" text="bind:piuser"/>
                <Cell col="23" disptype="normal" text="bind:receiveAmt"/>
                <Cell col="24" disptype="normal" text="bind:suspenseBalAmt"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid04" taborder="9" binddataset="ds_list" useinputpanel="false" position="absolute 0 1088 1034 1293" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="chk"/>
                <Cell col="1" disptype="normal" text="buCd"/>
                <Cell col="2" disptype="normal" text="suspenseNum"/>
                <Cell col="3" disptype="normal" text="altBuCd"/>
                <Cell col="4" disptype="normal" text="ccCd"/>
                <Cell col="5" disptype="normal" text="currency"/>
                <Cell col="6" disptype="normal" text="suspenseBalAmt"/>
                <Cell col="7" disptype="normal" text="altAmt"/>
                <Cell col="8" disptype="normal" text="sabun"/>
                <Cell col="9" disptype="normal" text="bankAcctNo"/>
                <Cell col="10" disptype="normal" text="receiveDate"/>
                <Cell col="11" disptype="normal" text="receiveGuestNm"/>
                <Cell col="12" disptype="normal" text="remarks"/>
                <Cell col="13" disptype="normal" text="suspenseBalAmtOrg"/>
                <Cell col="14" disptype="normal" text="altAmtOrg"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:chk"/>
                <Cell col="1" disptype="normal" text="bind:buCd"/>
                <Cell col="2" disptype="normal" text="bind:suspenseNum"/>
                <Cell col="3" disptype="normal" text="bind:altBuCd"/>
                <Cell col="4" disptype="normal" text="bind:ccCd"/>
                <Cell col="5" disptype="normal" text="bind:currency"/>
                <Cell col="6" disptype="normal" text="bind:suspenseBalAmt"/>
                <Cell col="7" disptype="normal" text="bind:altAmt"/>
                <Cell col="8" disptype="normal" text="bind:sabun"/>
                <Cell col="9" disptype="normal" text="bind:bankAcctNo"/>
                <Cell col="10" disptype="normal" text="bind:receiveDate"/>
                <Cell col="11" disptype="normal" text="bind:receiveGuestNm"/>
                <Cell col="12" disptype="normal" text="bind:remarks"/>
                <Cell col="13" disptype="normal" text="bind:suspenseBalAmtOrg"/>
                <Cell col="14" disptype="normal" text="bind:altAmtOrg"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_request" taborder="10" text="전환요청" onclick="btn_request_onclick" class="btn_WF_Custom" position="absolute 776 0 851 25" anchor="left top" style="font:Gulim,9,bold;"/>
        <MuSearchComponent id="MuSearchComponent01" titletext="사업부 선택 Component" taborder="0" text="MuSearchComponent00" class="cmb_WF_Essential" position="absolute 92 95 312 116" bindDataset="ds_searchSuspenseInquery" bindMuCdColumn="muCd" appendText="선택" onItemChangedEvent="fn_muChanged"/>
        <TmSearchComponent id="TmSearchComponent01" titletext="팀 검색용 Component" taborder="1" text="TmSearchComponent00" class="edt_WF_Essential" position="absolute 406 95 629 116" bindDataset="ds_searchSuspenseInquery" bindTmCdColumn="tmCd" bindTmNmColumn="tmNm" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChanged" eventBeforeTrigger="fn_tmBeforeEvent"/>
        <UpjangSearchComponent id="UpjangSearchComponent01" titletext="업장 검색용 Component" taborder="2" text="UpjangSearchComponent00" class="edt_WF_Essential" position="absolute 734 95 952 116" bindDataset="ds_searchSuspenseInquery" bindUpjangCodeColumn="ccCd" bindUpjangNameColumn="ccNm" eventBeforeTrigger="fn_upjangBeforeEvent" eventAfterTrigger="" roleSetId=""/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="tab_main.tab_request.edt_bankAcctNoSch" propid="value" datasetid="ds_searchSuspenseInquery" columnid="bankAcctNo"/>
      <BindItem id="item1" compid="tab_main.tab_request.edt_susNoSch" propid="value" datasetid="ds_searchSuspenseInquery" columnid="susNo"/>
      <BindItem id="item2" compid="tab_main.tab_request.edt_remarksSch" propid="value" datasetid="ds_searchSuspenseInquery" columnid="remarks"/>
      <BindItem id="item3" compid="tab_main.tab_request.edt_receiveGuestNmSch" propid="value" datasetid="ds_searchSuspenseInquery" columnid="receiveGuestNm"/>
      <BindItem id="item6" compid="tab_main.tab_request.cal_startDtSch" propid="text" datasetid="ds_searchSuspenseInquery" columnid="startDt"/>
      <BindItem id="item7" compid="tab_main.tab_request.cal_endDtSch" propid="text" datasetid="ds_searchSuspenseInquery" columnid="endDt"/>
      <BindItem id="item4" compid="tab_main.tab_result.cal_startDtSch" propid="text" datasetid="ds_searchSuspenseAltRequest" columnid="reqDateStart"/>
      <BindItem id="item5" compid="tab_main.tab_result.cal_endDtSch" propid="text" datasetid="ds_searchSuspenseAltRequest" columnid="reqDateEnd"/>
      <BindItem id="item8" compid="tab_main.tab_result.edt_empNm" propid="value" datasetid="ds_searchSuspenseAltRequest" columnid="sabunNm"/>
      <BindItem id="item9" compid="tab_main.tab_result.cmb_sapProcStatus" propid="value" datasetid="ds_searchSuspenseAltRequest" columnid="sapProcStatus"/>
      <BindItem id="item10" compid="tab_main.tab_request.edt_bankAcctNoOrg" propid="value" datasetid="ds_searchSuspenseInquery" columnid="bankAcctNoOrg"/>
      <BindItem id="item11" compid="tab_main.tab_request.cbo_buCd" propid="value" datasetid="ds_searchSuspenseInquery" columnid="buCd"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">1</Col>
            <Col id="insYn">0</Col>
            <Col id="delYn">0</Col>
            <Col id="savYn">0</Col>
            <Col id="prtYn">0</Col>
            <Col id="exlYn">0</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list_onrowposchanged" oncolumnchanged="ds_list_oncolumnchanged" canrowposchange="ds_list_canrowposchanged">
        <ColumnInfo>
          <Column id="chk" type="STRING" size="256"/>
          <Column id="buCd" type="STRING" size="256"/>
          <Column id="suspenseNum" type="STRING" size="256"/>
          <Column id="altBuCd" type="STRING" size="256"/>
          <Column id="ccCd" type="STRING" size="256"/>
          <Column id="currency" type="STRING" size="256"/>
          <Column id="suspenseBalAmt" type="BIGDECIMAL" size="256"/>
          <Column id="altAmt" type="BIGDECIMAL" size="256"/>
          <Column id="sabun" type="STRING" size="256"/>
          <Column id="bankAcctNo" type="STRING" size="255"/>
          <Column id="receiveDate" type="INT" size="255"/>
          <Column id="receiveGuestNm" type="STRING" size="255"/>
          <Column id="remarks" type="STRING" size="255"/>
          <Column id="suspenseBalAmtOrg" type="BIGDECIMAL" size="256"/>
          <Column id="altAmtOrg" type="BIGDECIMAL" size="256"/>
          <Column id="ccNm" type="STRING" size="256"/>
          <Column id="bankNm" type="STRING" size="256"/>
          <Column id="reqDate" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchSuspenseInquery" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onvaluechanged="ds_searchSuspenseInquery_onvaluechanged">
        <ColumnInfo>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="muNm" type="STRING" size="256"/>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="tmNm" type="STRING" size="256"/>
          <Column id="ccCd" type="STRING" size="256"/>
          <Column id="ccNm" type="STRING" size="256"/>
          <Column id="buCd" type="STRING" size="256"/>
          <Column id="susNo" type="STRING" size="256"/>
          <Column id="startDt" type="STRING" size="256"/>
          <Column id="endDt" type="STRING" size="256"/>
          <Column id="upjang" type="STRING" size="256"/>
          <Column id="upjangnm" type="STRING" size="256"/>
          <Column id="bankAcctNo" type="STRING" size="256"/>
          <Column id="receiveGuestNm" type="STRING" size="256"/>
          <Column id="closeYn" type="STRING" size="256"/>
          <Column id="remarks" type="STRING" size="256"/>
          <Column id="bankAcctNoOrg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listSuspenseInquery" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="buCd" type="STRING" size="255"/>
          <Column id="bankAcctNo" type="STRING" size="255"/>
          <Column id="receiveDate" type="STRING" size="255"/>
          <Column id="pitime" type="STRING" size="255"/>
          <Column id="gubun" type="STRING" size="255"/>
          <Column id="muNm" type="STRING" size="255"/>
          <Column id="bankCd" type="STRING" size="255"/>
          <Column id="pidate" type="STRING" size="255"/>
          <Column id="remarks" type="STRING" size="255"/>
          <Column id="pimsgid" type="STRING" size="255"/>
          <Column id="ccNm" type="STRING" size="255"/>
          <Column id="sapSlipNum" type="STRING" size="255"/>
          <Column id="currencyCd" type="STRING" size="255"/>
          <Column id="sapSuspenseNum" type="STRING" size="255"/>
          <Column id="muCd" type="STRING" size="255"/>
          <Column id="picode" type="STRING" size="255"/>
          <Column id="bankNm" type="STRING" size="255"/>
          <Column id="ccCd" type="STRING" size="255"/>
          <Column id="pimsg" type="STRING" size="255"/>
          <Column id="receiveGuestNm" type="STRING" size="255"/>
          <Column id="altAmt" type="BIGDECIMAL" size="255"/>
          <Column id="pistat" type="STRING" size="255"/>
          <Column id="piuser" type="STRING" size="255"/>
          <Column id="receiveAmt" type="BIGDECIMAL" size="255"/>
          <Column id="suspenseBalAmt" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchSuspenseAltRequest" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="sabun" type="STRING" size="256"/>
          <Column id="reqDateStart" type="STRING" size="256"/>
          <Column id="reqDateEnd" type="STRING" size="256"/>
          <Column id="sapProcStatus" type="STRING" size="256"/>
          <Column id="sabunNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listSuspenseAltRequest" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="chk" type="STRING" size="256"/>
          <Column id="buCd" type="INT" size="255"/>
          <Column id="receiveDate" type="INT" size="255"/>
          <Column id="suspenseAcctNo" type="STRING" size="255"/>
          <Column id="chgCcCd" type="STRING" size="255"/>
          <Column id="empNm" type="STRING" size="255"/>
          <Column id="chgCcNm" type="STRING" size="255"/>
          <Column id="empNo" type="STRING" size="255"/>
          <Column id="reqDate" type="INT" size="255"/>
          <Column id="currency" type="STRING" size="255"/>
          <Column id="sapSuspenseNum" type="INT" size="255"/>
          <Column id="sapProcStatus" type="STRING" size="255"/>
          <Column id="sapProcStatusNm" type="STRING" size="255"/>
          <Column id="seq" type="STRING" size="255"/>
          <Column id="altAmt" type="BIGDECIMAL" size="255"/>
          <Column id="chgBuCd" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sapProcStatus" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="codeNm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code"/>
            <Col id="codeNm">전체</Col>
          </Row>
          <Row>
            <Col id="code">R</Col>
            <Col id="codeNm">요청</Col>
          </Row>
          <Row>
            <Col id="code">A</Col>
            <Col id="codeNm">승인</Col>
          </Row>
          <Row>
            <Col id="code">C</Col>
            <Col id="codeNm">요청취소</Col>
          </Row>
          <Row>
            <Col id="code">D</Col>
            <Col id="codeNm">승인취소</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_buCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="buCd" type="STRING" size="256"/>
          <Column id="buNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchSiValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="ccCd" type="STRING" size="256"/>
          <Column id="startDt" type="STRING" size="256"/>
          <Column id="endDt" type="STRING" size="256"/>
          <Column id="buCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="muCd">title:사업부,required:true</Col>
            <Col id="tmCd">title:부서,required:true</Col>
            <Col id="ccCd">title:CC,required:true</Col>
            <Col id="startDt">title:입금시작일자,comparemin:endDt:입금종료일자,required:false</Col>
            <Col id="endDt">title:입금종료일자,comparemax:startDt:입금시작일자,required:false</Col>
            <Col id="buCd">title:BU 코드,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_searchSarValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="reqDateStart" type="STRING" size="256"/>
          <Column id="reqDateEnd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="reqDateStart">title:요청시작일자,comparemin:reqDateEnd:요청종료일자,required:false</Col>
            <Col id="reqDateEnd">title:요청종료일자,comparemax:reqDateStart:요청시작일자,required:false</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_CONTROL">
        <ColumnInfo>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : SuspenseReturnRequest
  파 일 명 : SuspenseReturnRequest.xfdl
  기    능 : 가수금 전환 신청

    수정일     수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2015.05.18   JUN      최초 생성
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";
include "lib::SMCommon.xjs";	//영업회계 공통 스크립트
include "lib::lib_date.xjs";

/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var fv_objColInfo; 		//선수금데이터셋 컬럼정보
var fv_processCd;
var bCanRowChanged = true;	// Row변경 여부

var fv_buCdYn;

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo){

	// Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
	gfn_formOnLoad(this);
	
	// 초기값 셋팅
	fn_init();

	//외식사업부가수금전환제어조회
	var v_fil_cond;
	var v_ds = fn_common_code("'SUSPENSE_RETURN_CONTROL'","","","blk","Y");
	v_fil_cond = "ATTR01 <= '" + gfn_today() + "'" + " && ATTR02 >= '" + gfn_today() + "'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_CONTROL,v_ds.name);

	if(ds_CONTROL.rowcount == 1)
	{
		fv_buCdYn = "E";
	}
	else
	{
		fv_buCdYn = "N";
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init(){
	// 업데이트여부를 체크할 DataSet, 여러개 있을 경우 ;로 구분
	v_ds_check = "ds_listSuspenseInquery;ds_listSuspenseAltRequest";
	
	fn_setSessionInfo();	//로그인정보 Setting

	//콤보조회
	fn_setCombo();
	
	fn_clearSearch();	//조회조건을 초기화한다.
	
	//사용자 버튼 위치 조정
	//role : src(조회권한), ins(입력권한), del(삭제권한), sav(저장권한), prt(출력권한), exl(엑셀권한)
	//ischange : true (공통버튼 무조건 숨김), false (공통버튼 권한에 따라 숨김)
	SCAuth.setUserButton(this, {buttons : [{id:"btn_request", role:"src", ischange:false}]});	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 닫기 전 변경 유무 체크 (필수-Frame에서 창 닫힐때 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_close(){	
	// v_ds_check 사용시 변경사항 체크
	if(gfn_length(v_ds_check) != 0){	
	
		// v_ds_check 설정기준 변경사항 체크
		if(gfn_isDataChange() == true){
			if(!gfn_confirm("confirm.before.movepage")) return false;	// 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
		}
	}
	return true;
}


/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 조회 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_search(){

	if(tab_main.tabindex == 0){
		fn_selectSuspenseInquery();		//가수금 전환 신청 조회
	}else{
		fn_selectSuspenseAltRequest();	//가수금 전환 결과 조회
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 가수금 전환 신청 조회
 *---------------------------------------------------------------------------------------------*/
 function fn_selectSuspenseInquery(){
    
 	// 조회시 Validation Check
	//if(!fn_validCheck()) return;
	if (gfn_validCheck(ds_searchSuspenseInquery, ds_searchSiValid, true) == false) return;
	
    // Grid sort 표시 초기화(필수)
    //gfn_clearSortMark(grd_list);
    //bankAcctNoOrg
    if (gfn_isNull(tab_main.tab_request.edt_bankAcctNoSch.value)){
		alert("계좌 번호 선택 또는 최소 5글자의 숫자를 입력해 주세요.");
		return;
    }
    if (tab_main.tab_request.edt_bankAcctNoSch.value.length < 5){
		alert("계좌 번호를 최소 5글자의 숫자를 입력해 주세요.");
		return;
    }
    ds_searchSuspenseInquery.setColumn(0, "bankAcctNoOrg", ds_searchSuspenseInquery.getColumn(0, "bankAcctNo"));
		
	//신청 부서가 외식인 경우 BU_CD 1000으로 변경해서 호출 
	/*
    if  (ds_searchSuspenseInquery.getColumn(0, "muCd") == "2003") {		
		ds_searchSuspenseInquery.setColumn(0, "buCd", "1000");
    } 
    */
    
	//서비스 쿼리결과로 데이터가 없는 경우 데이터셋 컬럼정보가 사라지는 현상을 복원하기 위해 현재 컬럼정보 저장
	fv_objColInfo = gfn_getDatasetInfo (ds_searchSuspenseInquery);
	
	ds_list.clearData();
	//ds_searchSuspenseInquery.clearData();

	if(gfn_isNull(tab_main.tab_request.cal_endDtSch.text)){
		tab_main.tab_request.cal_endDtSch.fn_setValue(fv_sToday);
	}
	
    gfn_transaction(this
					,"selectSuspenseInquery"
					,"sm/sar/suspenseReturnRequest/selectSuspenseInquery.xdo"
					,"ds_search=ds_searchSuspenseInquery:A"
					,"ds_listSuspenseInquery=ds_list"
					,""
					,"fn_callBack"
					,true);
 }
 
/*----------------------------------------------------------------------------------------------
 * 설명      : 가수금 전환 결과 조회
 *---------------------------------------------------------------------------------------------*/
 function fn_selectSuspenseAltRequest(){
 
	if (gfn_validCheck(ds_searchSuspenseAltRequest, ds_searchSarValid, true) == false) return;
 
	//서비스 쿼리결과로 데이터가 없는 경우 데이터셋 컬럼정보가 사라지는 현상을 복원하기 위해 현재 컬럼정보 저장
	fv_objColInfo = gfn_getDatasetInfo (ds_listSuspenseAltRequest);

	if(gfn_isNull(tab_main.tab_result.cal_endDtSch.text)){
		tab_main.tab_result.cal_endDtSch.fn_setValue(fv_sToday);
	}
	
	ds_listSuspenseAltRequest.clearData();
	
    gfn_transaction(this
					,"selectSuspenseAltRequest"
					,"sm/sar/suspenseReturnRequest/selectSuspenseAltRequest.xdo"
					,"ds_search=ds_searchSuspenseAltRequest:A"
					,"ds_listSuspenseAltRequest=ds_list"
					,""
					,"fn_callBack"
					,true);
					
 } 

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert(){	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete(){
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_save(arg){

	//전환요청
	if(arg == "I"){
	
		//전환요청 데이터 체크
		if(!fn_chkSaveInfo("전환요청")) return;
			
		//외식사업부인 경우 
		if (ds_searchSuspenseInquery.getColumn(0, "muCd") == "2003") {			
			gfn_transaction(this
							,"processSuspenseAltRequest"
							,"sm/sar/suspenseReturnRequest/processSuspenseAltRequest.xdo"
							,"ds_list=ds_list"
							,""
							,"altBuCd=1000 altCcCd="+wrapQuote(UpjangSearchComponent01.getUpjangCode())
							,"fn_callBack"
							,true);		
		} else {
			gfn_transaction(this
							,"processSuspenseAltRequest"
							,"sm/sar/suspenseReturnRequest/processSuspenseAltRequest.xdo"
							,"ds_list=ds_list"
							,""
							,"altBuCd=2000 altCcCd="+wrapQuote(UpjangSearchComponent01.getUpjangCode())
							,"fn_callBack"
							,true);
		}
	//전환취소					
	}else if(arg == "C"){
	
		//전환취소 데이터 체크
		if(!fn_chkSaveInfo("전환취소")) return;
		//trace(ds_listSuspenseAltRequest.saveXML());
		//alert(UpjangSearchComponent01.getUpjangCode());
		//외식사업부인 경우 
		if (ds_searchSuspenseInquery.getColumn(0, "muCd") == "2003") {
			gfn_transaction(this
							,"cancelSuspenseAltRequest"
							,"sm/sar/suspenseReturnRequest/processCancelSuspenseAltRequest.xdo"
							,"ds_list=ds_listSuspenseAltRequest"
							,""
							,"altBuCd=1000 altCcCd="+wrapQuote(UpjangSearchComponent01.getUpjangCode())
							,"fn_callBack"
							,true);
	
		} else {
			gfn_transaction(this
							,"cancelSuspenseAltRequest"
							,"sm/sar/suspenseReturnRequest/processCancelSuspenseAltRequest.xdo"
							,"ds_list=ds_listSuspenseAltRequest"
							,""
							,"altBuCd=2000 altCcCd="+wrapQuote(UpjangSearchComponent01.getUpjangCode())
							,"fn_callBack"
							,true);
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print(){
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help(){
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg){

	// 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
	if (nErrorCode < 0) return;

    switch(strSvcID){

		//가수금 전환 신청 조회
        case "selectSuspenseInquery" :
        
			//서비스 쿼리 결과로 데이터가 없는 경우 데이터셋 컬럼정보 복원
			if(ds_listSuspenseInquery.getRowCount() == 0){
				gfn_loadDatasetInfo (ds_listSuspenseInquery, fv_objColInfo);
				gfn_alert("msg.search.nodata");		//조건에 해당하는 자료가 없습니다.
			}else{
				fn_setRequestData(ds_listSuspenseInquery);	//전환 요청 대상 목록 Setting
			}
            break;
		
		//가수금 전환 결과 조회
        case "selectSuspenseAltRequest" :
        
			//서비스 쿼리 결과로 데이터가 없는 경우 데이터셋 컬럼정보 복원
			if(ds_listSuspenseAltRequest.getRowCount() == 0){
				//gfn_loadDatasetInfo (ds_listSuspenseAltRequest, fv_objColInfo);
				gfn_alert("msg.search.nodata");		//조건에 해당하는 자료가 없습니다.

			}else{	
				fn_setSapProcStatus();				
			}
            break;
        
        //가수금 전환 신청
        case "processSuspenseAltRequest" :

            if(fv_processCd == "Success"){
				gfn_alert("전환요청 되었습니다.");	// msg.save.success 저장 되었습니다.
				//tab_main.tabindex = 1;
				tab_main.tab_request.edt_altAmtSum.value = "";
				ds_list.clearData();
				fn_search();
            }else{
				gfn_alert("저장 실패 [ " +fv_processCd+ " ]");
            }
            break;
            
        //가수금 전환취소 신청
        case "cancelSuspenseAltRequest" :

            if(fv_processCd == "Success"){
				gfn_alert("취소요청 되었습니다.");	// msg.save.success 저장 되었습니다.
				//tab_main.tabindex = 1;
				tab_main.tab_request.edt_altAmtSum.value = "";
				ds_listSuspenseAltRequest.clearData();
				fn_search();
            }else{
				gfn_alert("저장 실패 [ " +fv_processCd+ " ]");
            }
            break;            
        //BU 코드 조회
        case "searchBuCd" :
			if(g_Mu_Cd == "2002"){
				tab_main.tab_request.cbo_buCd.index=1;
			}
            break;            
    }
}


/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 콤보/팝업조회
 *---------------------------------------------------------------------------------------------*/
function fn_setCombo(){
					
    gfn_transaction(this
					,"searchBuCd"
					,"sm/cmn/common/selectBuCd.xdo"
					,""
					,"ds_buCd=ds_combo"
					,""
					,"fn_callBack"
					,true);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 로그인정보 Setting
 *---------------------------------------------------------------------------------------------*/
function fn_setSessionInfo(){
	//tab_main.tab_request.edt_loginCcNm.value	= g_Cc_Nm;
	tab_main.tab_request.edt_loginUserNm.value	= g_Name;
	tab_main.tab_request.cal_nowDate.value		= fv_sToday;
	
	TmSearchComponent01.applyAuthLevel(MuSearchComponent01);
	UpjangSearchComponent01.setForcedRoleSet("CostCenter");
	UpjangSearchComponent01.applyAuthLevel(TmSearchComponent01);
	MuSearchComponent01.setMuCode(g_Mu_Cd);	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 조회조건 초기화
 *---------------------------------------------------------------------------------------------*/
function fn_clearSearch(){
	
	tab_main.tab_result.edt_empNm.value	= g_Name;
	
	ds_searchSuspenseInquery.clearData();
	ds_searchSuspenseInquery.addRow();
	//ds_searchSuspenseInquery.setColumn(0, "buCd",			"2000");	//회사코드 : 2000
	ds_searchSuspenseInquery.setColumn(0, "susNo", 			"");
	ds_searchSuspenseInquery.setColumn(0, "startDt", 		fv_sToday);
	ds_searchSuspenseInquery.setColumn(0, "endDt", 			fv_sToday);
    ds_searchSuspenseInquery.setColumn(0, "muCd",           g_Mu_Cd);
    ds_searchSuspenseInquery.setColumn(0, "muNm",           g_Mu_Nm);
    ds_searchSuspenseInquery.setColumn(0, "tmCd",           g_Tm_Cd);
    ds_searchSuspenseInquery.setColumn(0, "tmNm",           g_Tm_Nm);
    ds_searchSuspenseInquery.setColumn(0, "ccCd",           g_Cc_Cd);
    ds_searchSuspenseInquery.setColumn(0, "ccNm",           g_Cc_Nm);
	ds_searchSuspenseInquery.setColumn(0, "bankAcctNo", 	"");
	ds_searchSuspenseInquery.setColumn(0, "receiveGuestNm", "");
	ds_searchSuspenseInquery.setColumn(0, "closeYn", 		"");
	ds_searchSuspenseInquery.setColumn(0, "remarks", 		"");

	tab_main.tab_request.cal_startDtSch.fn_initMonthCal(this, fv_sToday, null, ds_searchSuspenseInquery, "startDt");
	tab_main.tab_request.cal_endDtSch.fn_initMonthCal(this, fv_sToday, null, ds_searchSuspenseInquery, "endDt");
	
	ds_searchSuspenseAltRequest.clearData();
	ds_searchSuspenseAltRequest.addRow();
	ds_searchSuspenseAltRequest.setColumn(0, "sabun",		g_EmpNo);
	ds_searchSuspenseAltRequest.setColumn(0, "reqDateStart",fv_sToday);
	ds_searchSuspenseAltRequest.setColumn(0, "reqDateEnd", 	fv_sToday);
	ds_searchSuspenseAltRequest.setColumn(0, "sapProcStatus","");
	ds_searchSuspenseAltRequest.setColumn(0, "sabunNm",		g_Name);
	
	tab_main.tab_result.cal_startDtSch.fn_initMonthCal(this, fv_sToday, null, ds_searchSuspenseAltRequest, "reqDateStart");
	tab_main.tab_result.cal_endDtSch.fn_initMonthCal(this, fv_sToday, null, ds_searchSuspenseAltRequest, "reqDateEnd");

	//★ 테스트 데이터 ★
	//ds_searchSuspenseInquery.setColumn(0, "buCd", "1000");
	//ds_searchSuspenseInquery.setColumn(0, "muCd", "2002");
	//ds_searchSuspenseInquery.setColumn(0, "ccCd", "");	//300052
	//ds_searchSuspenseInquery.setColumn(0, "bankAcctNo",	"=>000000000CCIQ");
	//ds_searchSuspenseAltRequest.setColumn(0, "reqDateStart","20150410");
	

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 전환 요청 대상 목록 Setting
 *---------------------------------------------------------------------------------------------*/
function fn_setRequestData(obj){
	
	//trace(obj.saveXML());
	for(var i=0; i<obj.rowcount; i++){
	//alert(obj.getColumn(i, "sapSuspenseNum"));
		ds_list.addRow();
		ds_list.setColumn(i, "chk",             	"0");
		ds_list.setColumn(i, "buCd",            	obj.getColumn(i, "buCd"));
		ds_list.setColumn(i, "suspenseNum",     	obj.getColumn(i, "sapSuspenseNum"));
		ds_list.setColumn(i, "altBuCd",         	obj.getColumn(i, "buCd"));
		ds_list.setColumn(i, "ccCd",            	obj.getColumn(i, "ccCd"));
		ds_list.setColumn(i, "currency",        	obj.getColumn(i, "currencyCd"));
		ds_list.setColumn(i, "suspenseBalAmt",  	parseFloat(obj.getColumn(i, "receiveAmt")) - parseFloat(obj.getColumn(i, "altAmt")));
		ds_list.setColumn(i, "altAmt",          	0);
		ds_list.setColumn(i, "sabun",           	g_EmpNo);
		ds_list.setColumn(i, "bankAcctNo",      	obj.getColumn(i, "bankAcctNo"));
		ds_list.setColumn(i, "receiveDate",     	obj.getColumn(i, "receiveDate"));
		ds_list.setColumn(i, "receiveGuestNm",  	obj.getColumn(i, "receiveGuestNm"));
		ds_list.setColumn(i, "remarks",         	obj.getColumn(i, "remarks"));
		ds_list.setColumn(i, "suspenseBalAmtOrg",	ds_list.getColumn(i, "suspenseBalAmt"));
		ds_list.setColumn(i, "altAmtOrg",			ds_list.getColumn(i, "altAmt"));
		ds_list.setColumn(i, "ccNm",				obj.getColumn(i, "ccNm"));
		ds_list.setColumn(i, "bankNm",				obj.getColumn(i, "bankNm"));

		//가수금 신청 일자 추가 20151208  시작
		if ( gfn_subStr(tab_main.tab_request.cal_nowDate.value,0,6) == gfn_subStr(obj.getColumn(i, "receiveDate"),0,6) ) {
			//신청월과 입금월이 동일하면 신청일자 = 입금일자
			ds_list.setColumn(i, "reqDate", obj.getColumn(i, "receiveDate")); 				
		} else {	
			
		   if ( parseInt(gfn_subStr(tab_main.tab_request.cal_nowDate.value,6,2)) < 8 ) {

		        if (gfn_addMonth(gfn_subStr(tab_main.tab_request.cal_nowDate.value,0,6)+ "01",-1) == gfn_subStr(obj.getColumn(i, "receiveDate"),0,6)+ "01") {   
	
				    //신청월과 입금월이 다르면서 입금월이 전월이고 7일 이전에 처리하면 입금일자로
				    ds_list.setColumn(i, "reqDate", obj.getColumn(i, "receiveDate")); 		
				 } else {  
		            //신청월과 입금월이 다르면서 입금월이 전월이 아니고, 7일 이전에 처리하면 전월의 1일로 세팅
			    	ds_list.setColumn(i, "reqDate", gfn_addMonth(gfn_subStr(tab_main.tab_request.cal_nowDate.value,0,6) + "01",-1) );		 			 
				 }
		   } else { 
		       //신청월과 입금월이 다르면서 8일 이후에 처리하면 신청월의 1일로 세팅
				ds_list.setColumn(i, "reqDate", gfn_subStr(tab_main.tab_request.cal_nowDate.value,0,6) + "01" );
		   }		
		}		
	
		ds_list.setRowType(i, 1);
	}
	ds_list.rowposition = 0;
	//obj.clearData();
}

/*----------------------------------------------------------------------------------------------
 * 전환요청금액 합계 계산
 *---------------------------------------------------------------------------------------------*/
function fn_setAltAmtSum(){
	var iAltAmtSum = 0;
	for(var i=0; i<ds_list.rowcount; i++){
		iAltAmtSum += Number(ds_list.getColumn(i, "altAmt"));
	}
	tab_main.tab_request.edt_altAmtSum.value = iAltAmtSum;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 전환요청 데이터 체크
 *---------------------------------------------------------------------------------------------*/
function fn_chkSaveInfo(arg){
	
	var cnt = 0;

	if ( arg == '전환요청') {

	  for(var i=0; i<ds_list.rowcount; i++){
	    	//alert(i+":"+ds_list.getColumn(i, "chk")+":"+ds_list.getColumn(i, "altAmt"));
	    	if(ds_list.getColumn(i, "altAmt") == 0){
	    		ds_list.setColumn(i, "chk", "0");
	    	}
	    	if(ds_list.getColumn(i, "chk") == "1") cnt++;
	    }
	    if(cnt == 0){
	    	gfn_alert(arg+"할 데이터가 없습니다.");
	    	return false;
	    }
	    return true;
	} else if ( arg == '전환취소') { 
	    for(var i=0; i<ds_listSuspenseAltRequest.rowcount; i++){
	    	if(ds_listSuspenseAltRequest.getColumn(i, "sapProcStatus") == "R"){
	    		gfn_alert("승인된 내역은 취소할 수 없습니다.");
	    		return false;
	    	}
	    	if(ds_listSuspenseAltRequest.getColumn(i, "chk") == "1") cnt++;
	    }
	    if(cnt == 0){
	    	gfn_alert(arg+"할 데이터가 없습니다.");
	    	return false;
	    }
	    return true;	
	
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 처리상태명
 *---------------------------------------------------------------------------------------------*/
function fn_setSapProcStatus(){

	ds_listSuspenseAltRequest.addColumn("chk","String","255");
	
	for(var i=0; i<ds_listSuspenseAltRequest.rowcount; i++){
		
		ds_listSuspenseAltRequest.setColumn(i ,"chk", "0");
		
		if(ds_listSuspenseAltRequest.getColumn(i ,"sapProcStatus") == "R"){
			ds_listSuspenseAltRequest.setColumn(i ,"sapProcStatus", "요청");
		}else if(ds_listSuspenseAltRequest.getColumn(i ,"sapProcStatus") == "A"){
			ds_listSuspenseAltRequest.setColumn(i ,"sapProcStatus", "승인");
		}else if(ds_listSuspenseAltRequest.getColumn(i ,"sapProcStatus") == "C"){
			ds_listSuspenseAltRequest.setColumn(i ,"sapProcStatus", "요청취소");
		}else if(ds_listSuspenseAltRequest.getColumn(i ,"sapProcStatus") == "D"){
			ds_listSuspenseAltRequest.setColumn(i ,"sapProcStatus", "승인취소");
		}
		ds_listSuspenseAltRequest.setRowType(i, 1);
	}
}

/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 계좌번호 검색 EVENT
 *---------------------------------------------------------------------------------------------*/
function btn_bankAcctNo_onclick(obj:Button,  e:ClickEventInfo){

	var strCcCd		= "";
	var strCcNm		= "";
	var strBuCdYn	= "N";
	if(ds_searchSuspenseInquery.getColumn(0,"muCd") == "2003" && ds_searchSuspenseInquery.getColumn(0,"buCd") == "2000")
	{
		strBuCdYn   = fv_buCdYn;
	}
	trace(strBuCdYn);
	var param = {pCcCd:strCcCd, pCcNm:strCcNm, pBuCdYn:strBuCdYn};

	var retVal = gfn_dialog("SuspenseReturnRequestPop"
							,"X_SAR::SuspenseReturnRequestPop.xfdl"
							,param	//objArgumentList
							,-1		//Width
							,-1		//Height
							,""		//Style
							,-1		//Left
							,-1		//Top
							,false	//Modeless
							,true	//ShowTitle
							,"-1"	//Align
							,true);	//Resizable
							
	if (retVal instanceof Object){
		tab_main.tab_request.edt_bankAcctNoSch.value = retVal.bankAcctNo;
		tab_main.tab_request.edt_bankAcctNoOrg.value = retVal.bankAcctNoOrg;
	}	
	//tab_main.tab_request.edt_bankAcctNoSch.value = retVal[0];
	//tab_main.tab_request.edt_bankAcctNoOrg.value = retVal[1];
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 전환요청 버튼 클릭 EVENT
 *---------------------------------------------------------------------------------------------*/
function btn_request_onclick(obj:Button,  e:ClickEventInfo){
	
	var fv_sToday = gfn_today();
	
	//12월 일자 제한
	/*
	if (MuSearchComponent01.getMuCode() == "2003") {
		//pass
	} else {
		if (fv_sToday > '20201207') {
			alert("12/8이후 과거 가수금 전환요청 처리 불가(물리적 분리로 12/21 이후 가능)");
			return;
		}
	
		for(var i=0; i<ds_list.rowcount; i++){
			if (ds_list.getColumn(i, "reqDate") > '20201200'){			
				alert("12/8이후 과거 가수금 전환요청 처리 불가(물리적 분리로 12/21 이후 가능)");
				return;
			}
		}
	
	}
	*/

	for(i=0; i < ds_list.rowcount; i++){
		if((ds_list.getColumn(i, "chk")=="1") && (gfn_replace(ds_list.getColumn(i, "ccCd"), " ", "") == gfn_replace(ds_searchSuspenseInquery.getColumn(0,"ccCd"), " ", ""))){
			alert("전환 요청 목록 중 요청할려는 CC와 같은 CC가 존재 합니다.");
			return;
		}
	}
	
	if(ds_list.rowcount > 0) fn_save("I");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 취소요청 버튼 클릭 EVENT
 *---------------------------------------------------------------------------------------------*/
function btn_cancel_onclick(obj:Button,  e:ClickEventInfo){

	if(ds_listSuspenseAltRequest.rowcount > 0) fn_save("C");
	
}

/*----------------------------------------------------------------------------------------------
 * 포커스를 가진 레코드만 입력형태로 변환 EVENT
 *---------------------------------------------------------------------------------------------*/
function ds_list_onrowposchanged(obj:Dataset, e:DSRowPosChangeEventInfo){
	//iCurrow=e.newrow;
	if(ds_list.rowcount > 0) fn_setAltAmtSum();	//전환요청금액 합계
}

/*----------------------------------------------------------------------------------------------
 * 전환요청금액 입력 후 EVENT (전환요청금액 체크/적용후전환가능금액 계산)
 *---------------------------------------------------------------------------------------------*/
function ds_list_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo){
	if(e.columnid == "altAmt"){
		var iSuspenseBalAmt		= 0;	//전환가능금액
		var iAltAmt				= 0;	//전환요청금액
		//var iBalAmt				= 0;	//적용후전환가능금액
		var iSuspenseBalAmtOrg	= 0;	//전환가능금액합계		
		var iAltAmtOrg			= 0;	//전환요청금액합계
		var iAltAmtSum			= 0;	//입력 전환요청금액합계
		var sSuspenseNum		= "";	//선수금번호
		var nRow = ds_list.rowposition;
		
		iSuspenseBalAmt		= ds_list.getColumn(nRow, "suspenseBalAmt");
		iAltAmt				= ds_list.getColumn(nRow, "altAmt");
		iSuspenseBalAmtOrg	= ds_list.getColumn(nRow, "suspenseBalAmtOrg");
		iAltAmtOrg			= ds_list.getColumn(nRow, "altAmtOrg");
		sSuspenseNum		= ds_list.getColumn(nRow, "suspenseNum");
		
		//입력 전환요청금액합계
		for(var i=0; i<ds_list.rowcount; i++){
			if(ds_list.getColumn(i, "suspenseNum") == sSuspenseNum){
				iAltAmtSum += Number(ds_list.getColumn(i, "altAmt"));
			}
		}
		
		if(iAltAmt != 0){
			//전환가능금액 < 전환요청금액
			if(iSuspenseBalAmt < iAltAmt){
				gfn_alert("전환요청금액이 전환가능금액을 초과할 수 없습니다.");
				ds_list.setColumn(nRow, "altAmt", iAltAmtOrg);
				bCanRowChanged = false;
			}
		}
		
		if(iAltAmt == 0){
			ds_list.setColumn(nRow, "chk", "0");
		}else{
			ds_list.setColumn(nRow, "chk", "1");
		}
		fn_setAltAmtSum();
	}	
}

/*----------------------------------------------------------------------------------------------
 * Row 변경불가 EVENT - (전환가능금액 < 전환요청금액 OR 전환가능금액합계 < 전환요청금액합계 + 입력 전환요청금액합계)인경우 Row 변경불가
 *---------------------------------------------------------------------------------------------*/
function ds_list_canrowposchanged(obj:Dataset, e:DSRowPosChangeEventInfo){
	if(bCanRowChanged == false){
		bCanRowChanged = true;
		return false;
	}
	return true;
}

/*----------------------------------------------------------------------------------------------
 * 전환가능금액 클릭시 전환요청금액 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function grd_list_oncellclick(obj:Grid, e:GridClickEventInfo){
	var iSuspenseBalAmt	= 0;	//전환가능금액
	var iAltAmt			= 0;	//전환요청금액

	if(e.cell == 6){	//전환요청금액 Setting
		iSuspenseBalAmt = ds_list.getColumn(ds_list.rowposition, "suspenseBalAmt");	// obj.getCellValue(e.row, e.cell);
		iAltAmt 		= ds_list.getColumn(ds_list.rowposition, "altAmt");			// obj.getCellValue(e.row, e.cell+1);
		
		if(iAltAmt == iSuspenseBalAmt){
			ds_list.setColumn(ds_list.rowposition, "altAmt", 0);
		}else{
			ds_list.setColumn(ds_list.rowposition, "altAmt", iSuspenseBalAmt);
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 상세보기 EVENT
 *---------------------------------------------------------------------------------------------*/
function grd_list_onexpanddown(obj:Grid, e:GridMouseEventInfo){
	var sBuCd			= ds_list.getColumn(ds_list.rowposition, "buCd");			// 회사코드
	var sSuspenseNum	= ds_list.getColumn(ds_list.rowposition, "suspenseNum");	// 가수금번호

	gfn_dialog("SuspenseReturnRequestLogPop"
				,"X_SAR::SuspenseReturnRequestLogPop.xfdl"
				,{buCd:sBuCd,susNo:sSuspenseNum}	//objArgumentList
				,-1		//Width
				,-1		//Height
				,""		//Style
				,-1		//Left
				,-1		//Top
				,false	//Modeless
				,true	//ShowTitle
				,"-1"	//Align
				,true);	//Resizable	
}

/*----------------------------------------------------------------------------------------------
 * 처리상태변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cmb_sapProcStatus_onitemchanged(obj:Combo, e:ItemChangeEventInfo){
	fn_selectSuspenseAltRequest();	//가수금 전환 결과 조회
}

function edt_bankAcctNoSch_ontextchanged(obj:Edit,  e:TextChangedEventInfo){
	if(gfn_isNull(tab_main.tab_request.edt_bankAcctNoSch.value)){
		tab_main.tab_request.edt_bankAcctNoOrg.value = "";
	}
}

function edt_bankAcctNoSch_onkeydown(obj:Edit, e:KeyEventInfo){
	if(e.keycode == 13){		//Enter 키
		//if(!gfn_isNull(edt_ccNm.value)) parent.fn_search();
	}else if(e.keycode == 46){	//Del 키
		tab_main.tab_request.edt_bankAcctNoSch.value = "";
		tab_main.tab_request.edt_bankAcctNoOrg.value = "";
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 팀(부서)의 팝업을 호출하기 전에 발생되는 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_tmBeforeEvent(obj)
{
	obj.qoMuCd = MuSearchComponent01.getMuCode();	//tab_main.tab_request.
	obj.qoUseYn = "Y";
	return true;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 업장의 팝업을 호출하기 전에 발생되는 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_upjangBeforeEvent(obj, cls)
{
	cls.setTmCd(TmSearchComponent01.getTmCode());	//tab_main.tab_request.
	return true;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 사업부 변경시 부서, CC 초기화 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_muChanged(){
    ds_searchSuspenseInquery.setColumn(0, "tmCd",  "");
    ds_searchSuspenseInquery.setColumn(0, "tmNm",  "");
    ds_searchSuspenseInquery.setColumn(0, "ccCd",  "");
    ds_searchSuspenseInquery.setColumn(0, "ccNm",  "");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 부서 변경시 CC 초기화 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_tmChanged(){
    ds_searchSuspenseInquery.setColumn(0, "ccCd",  "");
    ds_searchSuspenseInquery.setColumn(0, "ccNm",  "");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 탭 이동 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_tabChanged(obj:Tab, e:TabIndexChangeEventInfo){
	if(obj.tabindex == 0){
		MuSearchComponent01.visible	= true;
		TmSearchComponent01.visible	= true;
		UpjangSearchComponent01.visible	= true;
		btn_request.visible = true;
	}else{
		MuSearchComponent01.visible	= false;
		TmSearchComponent01.visible	= false;
		UpjangSearchComponent01.visible	= false;
		btn_request.visible = false;
	}
}

function btn_detailPop_onclick(obj:Button,  e:ClickEventInfo)
{
		//if(ds_listSuspenseAltRequest.rowcount > 0 ){
		var arrArg = new Array();
		
		//ds_list.setColumn(0,"sapSuspenseNum","1500000064");
		//ds_list.setColumn(1,"sapSuspenseNum","1500000050");
		
		for (i=0;i<ds_listSuspenseAltRequest.rowcount ;i++){
		  arrArg[i] = ds_listSuspenseAltRequest.getColumn(i, "sapSuspenseNum");
		}
 
		
		gfn_dialog(	"SuspenseDetailPop"
					,"X_RCM::SuspenseDetailPop.xfdl"
					,{arrSchVal:arrArg}	//objArgumentList
					,-1		//Width
					,-1		//Height
					,""		//Style
					,-1		//Left
					,-1		//Top
					,false	//Modeless
					,true	//ShowTitle
					,"-1"	//Align
					,true);	//Resizable
	//}
}

function tab_main_tab_result_grd_list_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
 
        var arrArg = new Array();
	    arrArg[0] = ds_listSuspenseAltRequest.getColumn(ds_listSuspenseAltRequest.rowposition , "sapSuspenseNum");
	
		gfn_dialog(	"SuspenseDetailPop"
					,"X_RCM::SuspenseDetailPop.xfdl"
					,{arrSchVal:arrArg}	//objArgumentList
					,-1		//Width
					,-1		//Height
					,""		//Style
					,-1		//Left
					,-1		//Top
					,false	//Modeless
					,true	//ShowTitle
					,"-1"	//Align
					,true);	//Resizable
	//}	
}

function ds_searchSuspenseInquery_onvaluechanged(obj:Dataset,  e:DSColChangeEventInfo)
{
	//전환요청정보 외식사업부일 경우 전환대상 BU코드 리조트/호텔 제어
	if(ds_CONTROL.rowcount == 1)
	{
		if(e.columnid == "muCd")
		{
			if(e.newvalue != "2003")
			{
				ds_buCd.filter("buCd == '2000'");
			}
			else
			{
				ds_buCd.filter("");
			}
		}
	}
}
]]></Script>
  </Form>
</FDL>
