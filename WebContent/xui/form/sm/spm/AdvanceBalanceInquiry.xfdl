<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="AdvanceBalanceInquiry" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="선수금잔액조회(유효일자별)" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="7" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Static id="Static05" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 98 450 111" anchor="left top"/>
        <Static id="Static33" text="선수금잔액내역" class="sta_WF_Title01" position="absolute 0 111 450 129" anchor="left top"/>
        <Static id="Static37" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 124 450 129" anchor="left top"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static24" text="h20" class="Guide01_AreaRed" visible="false" position="absolute 0 744 1252 764" anchor="left bottom"/>
        <Static id="Static26" text="w518" class="Guide01_AreaRed" visible="false" position="absolute 0 766 518 778" anchor="left bottom"/>
        <Button id="Button44" taborder="129" onclick="Button44_onclick" class="btn_WF_PagePrevious" position="absolute 537 764 552 780" anchor="left bottom" visible="false"/>
        <Button id="Button45" taborder="130" class="btn_WF_PageNext" position="absolute 728 764 743 780" anchor="left bottom" visible="false"/>
        <Button id="Button46" taborder="131" class="btn_WF_PagePreviousP" position="absolute 518 764 535 780" anchor="left bottom" visible="false"/>
        <Button id="Button47" taborder="132" class="btn_WF_PageNextP" position="absolute 745 764 762 780" anchor="left bottom" visible="false"/>
        <Static id="Static109" text="w02" visible="false" position="absolute 535 760 537 779" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Button id="Button49" taborder="133" text="1" class="btn_WF_Page" position="absolute 556 764 571 780" anchor="left bottom" visible="false"/>
        <Button id="Button50" taborder="134" text="2" class="btn_WF_Page" position="absolute 573 764 588 780" anchor="left bottom" visible="false"/>
        <Button id="Button51" taborder="135" text="3" class="btn_WF_Page" position="absolute 590 764 605 780" anchor="left bottom" visible="false"/>
        <Button id="Button52" taborder="136" text="4" class="btn_WF_Page" position="absolute 607 764 622 780" anchor="left bottom" visible="false"/>
        <Button id="Button53" taborder="137" text="5" class="btn_WF_Page" position="absolute 624 764 639 780" anchor="left bottom" visible="false"/>
        <Button id="Button54" taborder="138" text="6" class="btn_WF_Page" position="absolute 641 764 656 780" anchor="left bottom" visible="false"/>
        <Button id="Button55" taborder="139" text="7" class="btn_WF_Page" position="absolute 658 764 673 780" anchor="left bottom" visible="false"/>
        <Button id="Button56" taborder="140" text="8" class="btn_WF_Page" position="absolute 675 764 690 780" anchor="left bottom" visible="false"/>
        <Button id="Button57" taborder="141" text="9" class="btn_WF_Page" position="absolute 692 764 707 780" anchor="left bottom" visible="false"/>
        <Button id="Button61" taborder="142" text="10" class="btn_WF_Page" position="absolute 709 764 724 780" anchor="left bottom" visible="false"/>
        <Static id="Static38" text="w02" visible="false" position="absolute 571 761 573 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static40" text="w02" visible="false" position="absolute 588 761 590 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static42" text="w02" visible="false" position="absolute 605 761 607 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static49" text="w02" visible="false" position="absolute 622 761 624 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static27" text="w02" visible="false" position="absolute 639 761 641 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static134" text="w02" visible="false" position="absolute 656 761 658 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static144" text="w02" visible="false" position="absolute 673 761 675 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static146" text="w02" visible="false" position="absolute 690 761 692 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static148" text="w02" visible="false" position="absolute 707 761 709 780" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static154" text="w04" visible="false" position="absolute 552 760 556 779" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static156" text="w04" visible="false" position="absolute 724 760 728 779" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static159" text="w02" visible="false" position="absolute 743 760 745 779" anchor="left bottom" style="background:crimson;opacity:70;"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 98" anchor="left top right" onclick="Static08_onclick"/>
        <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 1 30 1238 40" anchor="left top"/>
        <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1 40 16 87" anchor="left top"/>
        <Static id="Static16" text="고객사" class="sta_WFSA_label" position="absolute 239 66 299 87" anchor="left top" style="align:left middle;"/>
        <Static id="Static51" text="W05." visible="false" position="absolute 1 61 1238 66" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static41" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1222 30 1237 97" anchor="left top"/>
        <Static id="Static01" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 1 87 1238 97" anchor="left top"/>
        <CustSearchComponent id="CustSearchComponent" titletext="고객사 검색용 Component" taborder="3" text="CustSearchComponent" position="absolute 306 66 516 87" bindDataset="ds_search" eventBeforeTrigger="" eventAfterTrigger="" bindCustCodeColumn="custCd" bindCustNameColumn="custNm"/>
        <Static id="Static28" text="기준일자" class="sta_WFSA_label" position="absolute 16 66 78 87" anchor="left top"/>
        <Edit id="edt_custCd" taborder="152" class="edt_WF_Essential" visible="false" position="absolute 1250 90 1313 111" anchor="left top"/>
        <Edit id="edt_upjungCd" taborder="153" class="edt_WF_Essential" visible="false" position="absolute 1250 110 1313 131" anchor="left top"/>
        <Grid id="grd_list" taborder="6" binddataset="ds_list" autoenter="select" useinputpanel="false" cellsizingtype="col" autofittype="none" position="absolute 0 129 1237 710" anchor="all">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="30"/>
                <Column size="90"/>
                <Column size="100"/>
                <Column size="120"/>
                <Column size="110"/>
                <Column size="80"/>
                <Column size="110"/>
                <Column size="80"/>
                <Column size="120"/>
                <Column size="60"/>
                <Column size="140"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="78"/>
                <Column size="100"/>
                <Column size="112"/>
                <Column size="70"/>
                <Column size="325"/>
                <Column size="60"/>
                <Column size="140"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell style="background:#566572ff URL('theme://convertImages/new/img_WF_Excel.png') center middle;" class="head_Excel"/>
                <Cell col="1" text="사업부"/>
                <Cell col="2" text="팀"/>
                <Cell col="3" text="업장(CC)"/>
                <Cell col="4" text="선수금번호"/>
                <Cell col="5" text="발생일자"/>
                <Cell col="6" text="선수금유형"/>
                <Cell col="7" text="계정코드"/>
                <Cell col="8" text="계정명"/>
                <Cell col="9" text="고객사"/>
                <Cell col="10" text="고객사명"/>
                <Cell col="11" text="발생금액"/>
                <Cell col="12" text="대체금액"/>
                <Cell col="13" text="환불금"/>
                <Cell col="14" text="잔액"/>
                <Cell col="15" text="잔액(부가세포함)"/>
                <Cell col="16" text="부가세여부"/>
                <Cell col="17" text="적요"/>
                <Cell col="18" text="업장"/>
                <Cell col="19" text="업장명"/>
              </Band>
              <Band id="body">
                <Cell style="align:center middle;" expr="currow+1"/>
                <Cell col="1" style="align:left;" text="bind:muNm"/>
                <Cell col="2" style="align:left;" text="bind:tmNm"/>
                <Cell col="3" style="align:left;" text="bind:ccNm"/>
                <Cell col="4" displaytype="text" text="bind:advanceNum"/>
                <Cell col="5" style="align:center middle;" text="bind:fiscalDate" mask="####-##-##"/>
                <Cell col="6" style="align:center middle;" text="bind:advanceTypeCdNm"/>
                <Cell col="7" style="align:center middle;" text="bind:acctCd"/>
                <Cell col="8" displaytype="text" style="align:center middle;" text="bind:acctNm"/>
                <Cell col="9" displaytype="text" style="align:center middle;" text="bind:custCd"/>
                <Cell col="10" displaytype="text" style="align:left;" text="bind:custNm"/>
                <Cell col="11" displaytype="number" style="align:right middle;" text="bind:occurAmt"/>
                <Cell col="12" displaytype="number" style="align:right middle;" text="bind:applyAmt"/>
                <Cell col="13" style="align:right middle;" text="bind:exchAmt"/>
                <Cell col="14" displaytype="number" style="align:right middle;" text="bind:balAmt"/>
                <Cell col="15" displaytype="number" style="align:right middle;" text="bind:balAmt2"/>
                <Cell col="16" displaytype="text" style="align:center middle;" expr="expr:iif(vatCd == '20','Y','N')"/>
                <Cell col="17" style="align:left middle;" text="bind:remark"/>
                <Cell col="18" displaytype="text" style="align:center middle;" text="bind:upjangCd"/>
                <Cell col="19" displaytype="text" style="align:left;" text="bind:upjangNm"/>
              </Band>
              <Band id="summary">
                <Cell/>
                <Cell col="1"/>
                <Cell col="2"/>
                <Cell col="3"/>
                <Cell col="4"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7"/>
                <Cell col="8"/>
                <Cell col="9"/>
                <Cell col="10" style="align:center;" text="합계"/>
                <Cell col="11" displaytype="number" text="expr:getSum('occurAmt')" mask="#,##0"/>
                <Cell col="12" displaytype="number" text="expr:getSum('applyAmt')" mask="#,##0"/>
                <Cell col="13" displaytype="number" text="expr:getSum('exchAmt')" mask="#,##0"/>
                <Cell col="14" displaytype="number" text="expr:getSum('balAmt')" mask="#,##0"/>
                <Cell col="15" displaytype="number" text="expr:getSum('balAmt2')" mask="#,##0"/>
                <Cell col="16" style="align:center middle;"/>
                <Cell col="17"/>
                <Cell col="18"/>
                <Cell col="19" style="align:center middle;" text="합계"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid00" taborder="156" binddataset="ds_search" useinputpanel="false" position="absolute 0 790 1234 865" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="altNum"/>
                <Cell col="1" disptype="normal" text="altDate"/>
                <Cell col="2" disptype="normal" text="advanceAltOccurClass"/>
                <Cell col="3" disptype="normal" text="altTypeCd"/>
                <Cell col="4" disptype="normal" text="sysClass"/>
                <Cell col="5" disptype="normal" text="muCd"/>
                <Cell col="6" disptype="normal" text="ccCd"/>
                <Cell col="7" disptype="normal" text="accCd"/>
                <Cell col="8" disptype="normal" text="altAmt"/>
                <Cell col="9" disptype="normal" text="adjustAmt"/>
                <Cell col="10" disptype="normal" text="excAmt"/>
                <Cell col="11" disptype="normal" text="payGrp"/>
                <Cell col="12" disptype="normal" text="payType"/>
                <Cell col="13" disptype="normal" text="paySchdDate"/>
                <Cell col="14" disptype="normal" text="remark"/>
                <Cell col="15" disptype="normal" text="batchId"/>
                <Cell col="16" disptype="normal" text="upjangCd"/>
                <Cell col="17" disptype="normal" text="posNum"/>
                <Cell col="18" disptype="normal" text="receiptNum"/>
                <Cell col="19" disptype="normal" text="couponNum"/>
                <Cell col="20" disptype="normal" text="custCd"/>
                <Cell col="21" disptype="normal" text="custNm"/>
                <Cell col="22" disptype="normal" text="reservNum"/>
                <Cell col="23" disptype="normal" text="journalzYn"/>
                <Cell col="24" disptype="normal" text="journalzNum"/>
                <Cell col="25" disptype="normal" text="reservDate"/>
                <Cell col="26" disptype="normal" text="inqueryStartDate"/>
                <Cell col="27" disptype="normal" text="inqueryEndDate"/>
                <Cell col="28" disptype="normal" text="inqueryMuCd"/>
                <Cell col="29" disptype="normal" text="inqueryTmCd"/>
                <Cell col="30" disptype="normal" text="inqueryCcCd"/>
                <Cell col="31" disptype="normal" text="inqueryUpjangCd"/>
                <Cell col="32" disptype="normal" text="inqueryCustCd"/>
                <Cell col="33" disptype="normal" text="inqueryAdvanceTypeCd"/>
                <Cell col="34" disptype="normal" text="inqueryAdvanceNum"/>
                <Cell col="35" disptype="normal" text="transCustCd"/>
                <Cell col="36" disptype="normal" text="transCcCd"/>
                <Cell col="37" disptype="normal" text="recdStatus"/>
                <Cell col="38" disptype="normal" text="fiscalDate"/>
                <Cell col="39" disptype="normal" text="transTypeCd"/>
                <Cell col="40" disptype="normal" text="occurDateFrom"/>
                <Cell col="41" disptype="normal" text="occurDateTo"/>
                <Cell col="42" disptype="normal" text="fiscalDateFrom"/>
                <Cell col="43" disptype="normal" text="fiscalDateTo"/>
                <Cell col="44" disptype="normal" text="muNm"/>
                <Cell col="45" disptype="normal" text="ccNm"/>
                <Cell col="46" disptype="normal" text="upjangNm"/>
                <Cell col="47" disptype="normal" text="inqueryMuNm"/>
                <Cell col="48" disptype="normal" text="inqueryTmNm"/>
                <Cell col="49" disptype="normal" text="inqueryCcNm"/>
                <Cell col="50" disptype="normal" text="inqueryUpjangNm"/>
                <Cell col="51" disptype="normal" text="inqueryCustNm"/>
                <Cell col="52" disptype="normal" text="transCustNm"/>
                <Cell col="53" disptype="normal" text="transCcNm"/>
                <Cell col="54" disptype="normal" text="advanceNum"/>
                <Cell col="55" disptype="normal" text="advanceTypeCd"/>
                <Cell col="56" disptype="normal" text="rowStatus"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:altNum"/>
                <Cell col="1" disptype="normal" text="bind:altDate"/>
                <Cell col="2" disptype="normal" text="bind:advanceAltOccurClass"/>
                <Cell col="3" disptype="normal" text="bind:altTypeCd"/>
                <Cell col="4" disptype="normal" text="bind:sysClass"/>
                <Cell col="5" disptype="normal" text="bind:muCd"/>
                <Cell col="6" disptype="normal" text="bind:ccCd"/>
                <Cell col="7" disptype="normal" text="bind:accCd"/>
                <Cell col="8" disptype="normal" text="bind:altAmt"/>
                <Cell col="9" disptype="normal" text="bind:adjustAmt"/>
                <Cell col="10" disptype="normal" text="bind:excAmt"/>
                <Cell col="11" disptype="normal" text="bind:payGrp"/>
                <Cell col="12" disptype="normal" text="bind:payType"/>
                <Cell col="13" disptype="normal" text="bind:paySchdDate"/>
                <Cell col="14" disptype="normal" text="bind:remark"/>
                <Cell col="15" disptype="normal" text="bind:batchId"/>
                <Cell col="16" disptype="normal" text="bind:upjangCd"/>
                <Cell col="17" disptype="normal" text="bind:posNum"/>
                <Cell col="18" disptype="normal" text="bind:receiptNum"/>
                <Cell col="19" disptype="normal" text="bind:couponNum"/>
                <Cell col="20" disptype="normal" text="bind:custCd"/>
                <Cell col="21" disptype="normal" text="bind:custNm"/>
                <Cell col="22" disptype="normal" text="bind:reservNum"/>
                <Cell col="23" disptype="normal" text="bind:journalzYn"/>
                <Cell col="24" disptype="normal" text="bind:journalzNum"/>
                <Cell col="25" disptype="normal" text="bind:reservDate"/>
                <Cell col="26" disptype="normal" text="bind:inqueryStartDate"/>
                <Cell col="27" disptype="normal" text="bind:inqueryEndDate"/>
                <Cell col="28" disptype="normal" text="bind:inqueryMuCd"/>
                <Cell col="29" disptype="normal" text="bind:inqueryTmCd"/>
                <Cell col="30" disptype="normal" text="bind:inqueryCcCd"/>
                <Cell col="31" disptype="normal" text="bind:inqueryUpjangCd"/>
                <Cell col="32" disptype="normal" text="bind:inqueryCustCd"/>
                <Cell col="33" disptype="normal" text="bind:inqueryAdvanceTypeCd"/>
                <Cell col="34" disptype="normal" text="bind:inqueryAdvanceNum"/>
                <Cell col="35" disptype="normal" text="bind:transCustCd"/>
                <Cell col="36" disptype="normal" text="bind:transCcCd"/>
                <Cell col="37" disptype="normal" text="bind:recdStatus"/>
                <Cell col="38" disptype="normal" text="bind:fiscalDate"/>
                <Cell col="39" disptype="normal" text="bind:transTypeCd"/>
                <Cell col="40" disptype="normal" text="bind:occurDateFrom"/>
                <Cell col="41" disptype="normal" text="bind:occurDateTo"/>
                <Cell col="42" disptype="normal" text="bind:fiscalDateFrom"/>
                <Cell col="43" disptype="normal" text="bind:fiscalDateTo"/>
                <Cell col="44" disptype="normal" text="bind:muNm"/>
                <Cell col="45" disptype="normal" text="bind:ccNm"/>
                <Cell col="46" disptype="normal" text="bind:upjangNm"/>
                <Cell col="47" disptype="normal" text="bind:inqueryMuNm"/>
                <Cell col="48" disptype="normal" text="bind:inqueryTmNm"/>
                <Cell col="49" disptype="normal" text="bind:inqueryCcNm"/>
                <Cell col="50" disptype="normal" text="bind:inqueryUpjangNm"/>
                <Cell col="51" disptype="normal" text="bind:inqueryCustNm"/>
                <Cell col="52" disptype="normal" text="bind:transCustNm"/>
                <Cell col="53" disptype="normal" text="bind:transCcNm"/>
                <Cell col="54" disptype="normal" text="bind:advanceNum"/>
                <Cell col="55" disptype="normal" text="bind:advanceTypeCd"/>
                <Cell col="56" disptype="normal" text="bind:rowStatus"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <ObjCalendar id="cal_occurDateFromSch" titletext="캘린더" taborder="4" scrollbars="none" class="cal_WF_Essential" position="absolute 83 66 209 87"/>
        <Static id="Static00" text="잔액 0포함여부" class="sta_WFSA_label" position="absolute 546 66 649 87" anchor="left top"/>
        <Combo id="cbo_zeroIncludeYn" taborder="5" innerdataset="ds_zeroIncludeYn" codecolumn="code" datacolumn="codeName" onitemchanged="Combo00_onitemchanged" position="absolute 650 66 856 87" anchor="left top" index="-1"/>
        <Static id="Static02" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1 40 16 61" anchor="left top"/>
        <Static id="Static55" text="사업부" class="sta_WFSA_label" position="absolute 16 40 76 60" style="background:URL('theme://images/new/sta_WFSA_label.png') left middle;align:left middle;"/>
        <Static id="Static46" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 209 40 239 61" anchor="left top"/>
        <Static id="Static03" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 516 40 546 61" anchor="left top"/>
        <Static id="Static10" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 802 40 832 61" anchor="left top"/>
        <Static id="Static11" text="CC" class="sta_WFSA_label" position="absolute 546 40 616 60" style="background:URL('theme://images/new/sta_WFSA_label.png') left middle;align:left middle;"/>
        <TmSearchComponent id="TmSearchComponent01" titletext="팀 검색용 Component" taborder="1" text="TmSearchComponent00" position="absolute 306 40 516 61" bindDataset="ds_search" bindTmCdColumn="tmCd" bindTmNmColumn="tmNm" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChanged" eventBeforeTrigger="fn_tmBeforeEvent"/>
        <UpjangSearchComponent id="UpjangSearchComponent01" titletext="업장 검색용 Component" taborder="2" text="UpjangSearchComponent00" position="absolute 650 40 856 61" bindDataset="ds_search" bindUpjangCodeColumn="ccCd" bindUpjangNameColumn="ccNm" eventBeforeTrigger="fn_upjangBeforeEvent" eventAfterTrigger="" roleSetId=""/>
        <MuSearchComponent id="MuSearchComponent01" titletext="사업부 선택 Component" taborder="0" text="MuSearchComponent00" class="cmb_WF_Essential" position="absolute 83 40 209 61" bindDataset="ds_search" bindMuCdColumn="muCd" appendText="선택" onItemChangedEvent="fn_muChanged"/>
        <Static id="Static13" text="부서" class="sta_WFSA_label" position="absolute 239 39 291 60" anchor="left top"/>
        <Static id="Static09" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 209 66 239 87" anchor="left top"/>
        <Static id="Static12" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 516 66 546 87" anchor="left top"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item4" compid="edt_custCd" propid="value" datasetid="ds_search" columnid="custCd"/>
      <BindItem id="item14" compid="edt_upjungCd" propid="value" datasetid="ds_search" columnid="upjangCd"/>
      <BindItem id="item7" compid="cal_occurDateFromSch" propid="text" datasetid="ds_search" columnid="occurDateFrom"/>
      <BindItem id="item0" compid="cbo_zeroIncludeYn" propid="value" datasetid="ds_search" columnid="zeroIncludeYn"/>
    </Bind>
    <Objects>
      <Dataset id="ds_search" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="muNm" type="STRING" size="256"/>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="tmNm" type="STRING" size="256"/>
          <Column id="ccCd" type="STRING" size="256"/>
          <Column id="ccNm" type="STRING" size="256"/>
          <Column id="upjang" type="STRING" size="256"/>
          <Column id="upjangnm" type="STRING" size="256"/>
          <Column id="custCd" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="occurDateFrom" type="STRING" size="256"/>
          <Column id="occurDateTo" type="STRING" size="256"/>
          <Column id="fiscalDateFrom" type="STRING" size="256"/>
          <Column id="fiscalDateTo" type="STRING" size="256"/>
          <Column id="advanceNum" type="STRING" size="256"/>
          <Column id="advanceOccurClass" type="STRING" size="256"/>
          <Column id="advanceTypeCd" type="STRING" size="256"/>
          <Column id="remark" type="STRING" size="256"/>
          <Column id="zeroIncludeYn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="custCd" type="INT" size="256"/>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="occurDateFrom" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="custCd">title:고객사,required:true</Col>
            <Col id="muCd">title:사업부,required:true</Col>
            <Col id="tmCd">title:팀,required:false</Col>
            <Col id="occurDateFrom">title:발생시작일자,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="advanceNum" type="STRING" size="18"/>
          <Column id="seq" type="BIGDECIMAL" size="22"/>
          <Column id="occurDate" type="STRING" size="8"/>
          <Column id="fiscalDate" type="STRING" size="8"/>
          <Column id="advanceOccurClass" type="STRING" size="4"/>
          <Column id="advanceTypeCd" type="STRING" size="18"/>
          <Column id="custCd" type="BIGDECIMAL" size="22"/>
          <Column id="sysClass" type="STRING" size="18"/>
          <Column id="muCd" type="STRING" size="4"/>
          <Column id="ccCd" type="STRING" size="6"/>
          <Column id="acctCd" type="STRING" size="12"/>
          <Column id="occurAmt" type="BIGDECIMAL" size="22"/>
          <Column id="applyAmt" type="BIGDECIMAL" size="22"/>
          <Column id="remark" type="STRING" size="300"/>
          <Column id="batchId" type="STRING" size="10"/>
          <Column id="occurSupplyAmt" type="BIGDECIMAL" size="22"/>
          <Column id="occurVatAmt" type="BIGDECIMAL" size="22"/>
          <Column id="applySupplyAmt" type="BIGDECIMAL" size="22"/>
          <Column id="applyVatAmt" type="BIGDECIMAL" size="22"/>
          <Column id="vatCd" type="STRING" size="1"/>
          <Column id="newhghtUpjang" type="STRING" size="12"/>
          <Column id="reservNum" type="STRING" size="15"/>
          <Column id="reservDate" type="STRING" size="8"/>
          <Column id="custNm" type="STRING" size="50"/>
          <Column id="guestTelNum" type="STRING" size="20"/>
          <Column id="journalzYn" type="STRING" size="1"/>
          <Column id="journalzNum" type="STRING" size="18"/>
          <Column id="upjangCd" type="STRING" size="12"/>
          <Column id="receiptNum" type="STRING" size="18"/>
          <Column id="mngmvAdvanceNum" type="STRING" size="18"/>
          <Column id="refNum" type="STRING" size="18"/>
          <Column id="couponProcNum" type="STRING" size="18"/>
          <Column id="recdStatus" type="STRING" size="1"/>
          <Column id="cuser" type="STRING" size="10"/>
          <Column id="cdate" type="DATETIME" size="7"/>
          <Column id="uuser" type="STRING" size="10"/>
          <Column id="udate" type="DATETIME" size="7"/>
          <Column id="advanceOccurClassNm" type="STRING" size="254"/>
          <Column id="advanceTypeCdNm" type="STRING" size="254"/>
          <Column id="sysClassNm" type="STRING" size="254"/>
          <Column id="muNm" type="STRING" size="254"/>
          <Column id="tmNm" type="STRING" size="254"/>
          <Column id="ccNm" type="STRING" size="254"/>
          <Column id="acctNm" type="STRING" size="256"/>
          <Column id="upjangNm" type="STRING" size="256"/>
          <Column id="exchAmt" type="STRING" size="256"/>
          <Column id="balAmt2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_muCdSch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="muNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tmCdSch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="tmNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">1</Col>
            <Col id="insYn">0</Col>
            <Col id="delYn">0</Col>
            <Col id="savYn">0</Col>
            <Col id="prtYn">0</Col>
            <Col id="exlYn">0</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_zeroIncludeYn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="codeName" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="code">Y</Col>
            <Col id="codeName">예</Col>
          </Row>
          <Row>
            <Col id="code">N</Col>
            <Col id="codeName">아니오</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : AdvanceBalanceInquiry
  파 일 명 : AdvanceBalanceInquiry.xfdl
  기    능 : 선수금잔액조회(유효일자별)

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2015.05.13   JUN   최초 생성
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";
include "lib::SMCommon.xjs";	//영업회계 공통 스크립트

/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var fv_objColInfo; 		//선수금데이터셋 컬럼정보
var v_ds_check = "";
var iCurrow = 0;

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo){

	// Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
	gfn_formOnLoad(this);

	// 초기값 셋팅
	fn_init();
	
	//외식사업부 필드 20200608 요청자:김유나
	var idx01   = grd_list.getBindCellIndex("body","balAmt2");	//90
	var idx02   = grd_list.getBindCellIndex("body","exchAmt");	//90
	var mucd = MuSearchComponent01.getMuCode();
	if(mucd == "2003"){
		grd_list.setFormatColProperty(idx01, "size", 112);
		grd_list.setFormatColProperty(idx02, "size", 78);
	} else {
		grd_list.setFormatColProperty(idx01, "size", 0);
		grd_list.setFormatColProperty(idx02, "size", 0);
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init(){

	// 업데이트여부를 체크할 DataSet, 여러개 있을 경우 ;로 구분
	v_ds_check = "ds_list";

	TmSearchComponent01.applyAuthLevel(MuSearchComponent01);
	UpjangSearchComponent01.setForcedRoleSet("CostCenter");
	UpjangSearchComponent01.applyAuthLevel(TmSearchComponent01);
	
	//콤보조회
	fn_setCombo();
	
	//조회조건 초기화
	fn_clearSearch();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 닫기 전 변경 유무 체크 (필수-Frame에서 창 닫힐때 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_close(){	
	// v_ds_check 사용시 변경사항 체크
	if(gfn_length(v_ds_check) != 0){	
	
		// v_ds_check 설정기준 변경사항 체크
		if(gfn_isDataChange() == true){
			if(!gfn_confirm("confirm.before.movepage")) return false;	// 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
		}
	}
	return true;
}

/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수-공통버튼)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 조회 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 * gfn_transaction(
 * 		@param objForm         - Form Object(this)
 * 		@param strSvcID        - 트랜잭션을 구분하기 위한 ID
 * 		@param strURL          - 트랜잭션을 요청할 주소
 * 		@param strInDatasets   - 트랜잭션을 요청할 때 입력값으로 보낼 데이터셋의 ID
 * 		@param strOutDatasets  - 트랜잭션을 처리 결과를 받을 데이터셋의 ID
 * 		@param strArgument     - 트랜잭션을 위한 인자값
 * 		@param strCallbackFunc - 트랜잭션의 결과를 돌려줄 함수의 이름
 * 		@param bAsync          - 비동기 여부(true: Async, false : Sync)
 * 		@param bProgress       - Wait Cursor 표시여부 (true : 사용, false : 사용안함)
 * )
 *---------------------------------------------------------------------------------------------*/
function fn_search(){

	// 조회시 Validation Check
	if(gfn_validCheck(ds_search, ds_searchValid, true) == false) return;

    // Grid sort 표시 초기화(필수)
    gfn_clearSortMark(grd_list);
    
    
		
	if(gfn_isNull(ds_search.getColumn(0,"tmCd"))){
		if(gfn_isNull(ds_search.getColumn(0,"custCd"))){
			if(ds_search.getColumn(0,"zeroIncludeYn") == "Y"){
				alert("잔액 0포함여부가 예인 경우 부서/CC 미선택 시 고객사는 필수입니다. ");
				return;
			}
		}
	}

	//서비스 쿼리결과로 데이터가 없는 경우 데이터셋 컬럼정보가 사라지는 현상을 복원하기 위해 현재 컬럼정보 저장
	fv_objColInfo = gfn_getDatasetInfo (ds_list);

	//com.hwfs.sm.spm.dao.AdvanceBalanceInquiryDAO.selectList
    gfn_transaction(this
					,"search"
					,"sm/spm/advanceBalanceInquiry/selectList.xdo"
					,"ds_search=ds_search:A"
					,"ds_list=ds_list"
					,""
					,"fn_callBack"
					,true);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert(){
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete(){	//대체취소 처리
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_save(){		//대체 처리
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print(){
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help(){
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg){

	// 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
	if (nErrorCode < 0){
		return;
	}
	
    switch(strSvcID){
            
        //조회
        case "search" :
			
			//서비스 쿼리 결과로 데이터가 없는 경우 데이터셋 컬럼정보 복원
			if(ds_list.getRowCount() == 0) gfn_loadDatasetInfo (ds_list, fv_objColInfo);
            break;      
            
	}
}

/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 콤보/팝업조회
 *---------------------------------------------------------------------------------------------*/
function fn_setCombo(){

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 조회조건 초기화
 *---------------------------------------------------------------------------------------------*/
function fn_clearSearch(){

	ds_search.clearData();
	var nRow = ds_search.addRow();
	
	ds_search.setColumn(nRow, "occurDateFrom",  fv_sToday);
    ds_search.setColumn(nRow, "muCd",           g_Mu_Cd);
    ds_search.setColumn(nRow, "muNm",           g_Mu_Nm);
    ds_search.setColumn(nRow, "tmCd",           g_Tm_Cd);
    ds_search.setColumn(nRow, "tmNm",           g_Tm_Nm);
    ds_search.setColumn(nRow, "ccCd",           g_Cc_Cd);
    ds_search.setColumn(nRow, "ccNm",           g_Cc_Nm);
    //ds_search.setColumn(nRow, "upjang",         g_Upjang);
    //ds_search.setColumn(nRow, "upjangnm",       g_UpjangNm);
//	ds_search.setColumn(nRow, "advanceNum",     "");
//	ds_search.setColumn(nRow, "custCd",         "");
//	ds_search.setColumn(nRow, "custNm",         "");
//	ds_search.setColumn(nRow, "remark",         "");
	ds_search.setColumn(nRow, "zeroIncludeYn",  "N");
	
	cal_occurDateFromSch.fn_initMonthCal(this, fv_sToday, null, ds_search, "occurDateFrom", "Y");
}

/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 발생일자 From 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cal_occurDateFromSch_onchanged(obj:Calendar, e:ChangeEventInfo){
	//if(!gfn_isNull(cal_occurDateFromSch.value)) fn_search();
}

/*----------------------------------------------------------------------------------------------
 * 발생일자 To 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cal_occurDateToSch_onchanged(obj:Calendar, e:ChangeEventInfo){
	//if(!gfn_isNull(cal_occurDateToSch.value)) fn_search();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 팀(부서)의 팝업을 호출하기 전에 발생되는 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_tmBeforeEvent(obj)
{
	obj.qoMuCd = MuSearchComponent01.getMuCode();	//cbo_mu.value;
	obj.qoUseYn = "Y";
	
	return true;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 업장의 팝업을 호출하기 전에 발생되는 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_upjangBeforeEvent(obj, cls)
{
	cls.setTmCd(TmSearchComponent01.getTmCode());	//cls.setTmCd(edt_tm.getTmCode());
	
	return true;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 사업부 변경시 부서, CC 초기화 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_muChanged(){
    ds_search.setColumn(0, "tmCd",  "");
    ds_search.setColumn(0, "tmNm",  "");
    ds_search.setColumn(0, "ccCd",  "");
    ds_search.setColumn(0, "ccNm",  "");
    
    //외식사업부 필드 20200608 요청자:김유나 : 환불금, 잔액(부가세포함)
	var idx01   = grd_list.getBindCellIndex("body","balAmt2");	//90
	var idx02   = grd_list.getBindCellIndex("body","exchAmt");	//90
	var mucd = MuSearchComponent01.getMuCode();
	if(mucd == "2003"){
		grd_list.setFormatColProperty(idx01, "size", 112);
		grd_list.setFormatColProperty(idx02, "size", 78);
	} else {
		grd_list.setFormatColProperty(idx01, "size", 0);
		grd_list.setFormatColProperty(idx02, "size", 0);
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 부서 변경시 CC 초기화 이벤트
 *---------------------------------------------------------------------------------------------*/
function fn_tmChanged(){
    ds_search.setColumn(0, "ccCd",  "");
    ds_search.setColumn(0, "ccNm",  "");
}
]]></Script>
  </Form>
</FDL>
