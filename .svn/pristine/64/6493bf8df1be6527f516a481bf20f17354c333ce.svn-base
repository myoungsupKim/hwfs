<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="../../../default_typedef.xml"/>
  <Form id="form" onkeydown="form_OnKeyDown" onload="form_onload" titletext="식재료율실적조회" userdata="FormLink='Y'" position="absolute 0 0 1252 725" scrollbars="none">
    <Layouts>
      <Layout>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 71" anchor="left top right"/>
        <Grid scrollbars="autovert" binddataset="ds_list" cellsizingtype="both" enable="true" id="Grid1" useinputpanel="false" oncelldblclick="Grid1_OnCellDblClick" onheadclick="grd_OnHeadClick" taborder="10" tabstop="true" usecontextmenu="true" userdata="식재료율실적조회" useselcolor="true" visible="true" wheelscrollrow="1" position="absolute 0 246 1237 710" readonly="true" selecttype="row" autofittype="col" anchor="all">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="25"/>
                <Column size="50"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="50"/>
                <Column size="50"/>
                <Column size="50"/>
                <Column size="110"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell rowspan="2" displaytype="text" class="head_Excel"/>
                <Cell col="1" rowspan="2" displaytype="text" text="일자"/>
                <Cell col="2" colspan="5" displaytype="text" text="매출액"/>
                <Cell col="7" colspan="4" displaytype="text" text="식재료비실적"/>
                <Cell col="11" colspan="3" displaytype="text" text="식재료율(%)"/>
                <Cell col="14" rowspan="2" displaytype="text" text="재고금액"/>
                <Cell row="1" col="2" displaytype="text" text="전망"/>
                <Cell row="1" col="3" displaytype="text" text="예상"/>
                <Cell row="1" col="4" displaytype="text" text="실적"/>
                <Cell row="1" col="5" displaytype="text" text="전망달성률(%)"/>
                <Cell row="1" col="6" displaytype="text" text="예상달성률(%)"/>
                <Cell row="1" col="7" displaytype="text" text="계"/>
                <Cell row="1" col="8" displaytype="text" text="전산구매"/>
                <Cell row="1" col="9" displaytype="text" text="현지구매"/>
                <Cell row="1" col="10" displaytype="text" text="직원식대(예상)"/>
                <Cell row="1" col="11" displaytype="text" text="전망"/>
                <Cell row="1" col="12" displaytype="text" text="예상"/>
                <Cell row="1" col="13" displaytype="text" text="실적"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" style="align:right;" expr="expr:currow+1"/>
                <Cell col="1" displaytype="text" style="align:center;" text="bind:DD"/>
                <Cell col="2" displaytype="number" style="align: ;" text="bind:PROSPECT_TRX_AMT"/>
                <Cell col="3" displaytype="number" style="align: ;" text="bind:EXPECT_SALE"/>
                <Cell col="4" displaytype="number" style="align: ;" text="bind:RESULT_TRX_AMT"/>
                <Cell col="5" displaytype="number" style="align: ;" text="bind:AMT_PLAN_COMP_RATE" mask="#,##0.0"/>
                <Cell col="6" displaytype="number" style="align: ;" text="bind:AMT_EXPECT_COMP_RATE" mask="#,##0.0"/>
                <Cell col="7" displaytype="number" style="align: ;" text="bind:TOTAL_COST"/>
                <Cell col="8" displaytype="number" style="align: ;" text="bind:TRANS_COST_AMT"/>
                <Cell col="9" displaytype="number" style="align: ;" text="bind:LOCAL_COST_AMT"/>
                <Cell col="10" displaytype="number" style="align: ;" text="bind:EMP_COST_AMT"/>
                <Cell col="11" displaytype="number" style="align: ;" text="bind:PROSPECT_RATE" mask="#,##0.0"/>
                <Cell col="12" displaytype="number" style="align: ;" text="bind:EXPECT_RATE" mask="#,##0.0"/>
                <Cell col="13" displaytype="number" style="align: ;" text="bind:RESULT_RATE" mask="#,##0.0"/>
                <Cell col="14" displaytype="number" style="align: ;" expr="expr:ds_list.getSum(&quot;STOCK_AMT&quot;,0,currow+1)"/>
              </Band>
              <Band id="summary">
                <Cell displaytype="text" style="align:left;"/>
                <Cell col="1" displaytype="text" style="align:center;" text="합계"/>
                <Cell col="2" displaytype="number" style="align:right;" expr="expr:getSum(&quot;PROSPECT_TRX_AMT&quot;)"/>
                <Cell col="3" displaytype="number" style="align:right;" expr="expr:getSum(&quot;EXPECT_SALE&quot;)"/>
                <Cell col="4" displaytype="number" style="align:right;" expr="expr:getSum(&quot;RESULT_TRX_AMT&quot;)"/>
                <Cell col="5" displaytype="number" style="align: ;" expr="expr:fn_clearNaN(Math.round(getSum(&quot;RESULT_TRX_AMT&quot;)/getSum(&quot;PROSPECT_TRX_AMT&quot;)*100,1))" mask="#,##0.0"/>
                <Cell col="6" displaytype="number" style="align: ;" expr="expr:fn_clearNaN(Math.round(getSum(&quot;RESULT_TRX_AMT&quot;)/getSum(&quot;EXPECT_SALE&quot;)*100,1))" mask="#,##0.0"/>
                <Cell col="7" displaytype="number" style="align: ;" expr="expr:getSum(&quot;TOTAL_COST&quot;)"/>
                <Cell col="8" displaytype="number" style="align: ;" expr="expr:getSum(&quot;TRANS_COST_AMT&quot;)"/>
                <Cell col="9" displaytype="number" style="align: ;" expr="expr:getSum(&quot;LOCAL_COST_AMT&quot;)"/>
                <Cell col="10" displaytype="number" style="align: ;" expr="expr:getSum(&quot;EMP_COST_AMT&quot;)"/>
                <Cell col="11" displaytype="number" style="align: ;" expr="expr:fn_clearNaN(Math.round(getSum(&quot;PROSPECT_COST&quot;)/getSum(&quot;PROSPECT_TRX_AMT&quot;)*100,1))" mask="#,##0.0"/>
                <Cell col="12" displaytype="number" style="align: ;" expr="expr:fn_clearNaN(Math.round(getSum(&quot;EXPECT_COST&quot;)/getSum(&quot;EXPECT_SALE&quot;)*100,1))" mask="#,##0.0"/>
                <Cell col="13" displaytype="number" style="align: ;" expr="expr:fn_clearNaN(Math.round(getSum(&quot;TOTAL_COST&quot;)/getSum(&quot;RESULT_TRX_AMT&quot;)*100,1))" mask="#,##0.0"/>
                <Cell col="14" displaytype="number" style="align: ;" expr="expr:ds_list.getSum(&quot;STOCK_AMT&quot;)"/>
              </Band>
            </Format>
            <Format id="Default0">
              <Columns>
                <Column size="20"/>
                <Column size="125"/>
                <Column size="85"/>
                <Column size="85"/>
                <Column size="85"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="85"/>
                <Column size="85"/>
                <Column size="85"/>
                <Column size="85"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="85"/>
              </Columns>
              <Rows>
                <Row size="20" band="head"/>
                <Row size="20" band="head"/>
                <Row size="18"/>
                <Row size="20" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell col="0" displaytype="text" rowspan="2"/>
                <Cell col="1" displaytype="text" rowspan="2" text="운영부서"/>
                <Cell col="2" colspan="5" displaytype="text" text="매출액"/>
                <Cell col="7" colspan="4" displaytype="text" text="식재료비실적"/>
                <Cell col="11" colspan="6" displaytype="text" text="식재료율(%)"/>
                <Cell col="17" displaytype="text" rowspan="2" text="재고금액"/>
                <Cell col="2" displaytype="text" row="1" text="당월계획"/>
                <Cell col="3" displaytype="text" row="1" text="기간전망"/>
                <Cell col="4" displaytype="text" row="1" text="기간실적"/>
                <Cell col="5" displaytype="text" row="1" text="계획대비"/>
                <Cell col="6" displaytype="text" row="1" text="전망대비"/>
                <Cell col="7" displaytype="text" row="1" text="계"/>
                <Cell col="8" displaytype="text" row="1" text="전산구매"/>
                <Cell col="9" displaytype="text" row="1" text="현지구매"/>
                <Cell col="10" displaytype="text" row="1" text="직원식대(예상)"/>
                <Cell col="11" displaytype="text" row="1" text="당월계획"/>
                <Cell col="12" displaytype="text" row="1" text="기간전망"/>
                <Cell col="13" displaytype="text" row="1" text="기간예상"/>
                <Cell col="14" displaytype="text" row="1" text="기간실적"/>
                <Cell col="15" displaytype="text" row="1" text="계획대비"/>
                <Cell col="16" displaytype="text" row="1" text="전망대비"/>
              </Band>
              <Band id="body">
                <Cell col="0" displaytype="text" expr="expr:currow+1" style="align:left;"/>
                <Cell col="1" displaytype="text" style="align:left;"/>
                <Cell col="2" displaytype="text" style="align:left;"/>
                <Cell col="3" displaytype="text" style="align:left;"/>
                <Cell col="4" displaytype="text" style="align:left;"/>
                <Cell col="5" displaytype="text" style="align:left;"/>
                <Cell col="6" displaytype="text" style="align:left;"/>
                <Cell col="7" displaytype="text" style="align:left;"/>
                <Cell col="8" displaytype="text" style="align:left;"/>
                <Cell col="9" displaytype="text" style="align:left;"/>
                <Cell col="10" displaytype="text" style="align:left;"/>
                <Cell col="11" displaytype="text" style="align:left;"/>
                <Cell col="12" displaytype="text" style="align:left;"/>
                <Cell col="13" displaytype="text" style="align:left;"/>
                <Cell col="14" displaytype="text" style="align:left;"/>
                <Cell col="15" displaytype="text" style="align:left;"/>
                <Cell col="16" displaytype="text" style="align:left;"/>
                <Cell col="17" displaytype="text" style="align:left;"/>
              </Band>
              <Band id="summary">
                <Cell col="0" displaytype="text" style="align:left;"/>
                <Cell col="1" displaytype="text" style="align:left;"/>
                <Cell col="2" displaytype="text" style="align:left;"/>
                <Cell col="3" displaytype="text" style="align:left;"/>
                <Cell col="4" displaytype="text" style="align:left;"/>
                <Cell col="5" displaytype="text" style="align:left;"/>
                <Cell col="6" displaytype="text" style="align:left;"/>
                <Cell col="7" displaytype="text" style="align:left;"/>
                <Cell col="8" displaytype="text" style="align:left;"/>
                <Cell col="9" displaytype="text" style="align:left;"/>
                <Cell col="10" displaytype="text" style="align:left;"/>
                <Cell col="11" displaytype="text" style="align:left;"/>
                <Cell col="12" displaytype="text" style="align:left;"/>
                <Cell col="13" displaytype="text" style="align:left;"/>
                <Cell col="14" displaytype="text" style="align:left;"/>
                <Cell col="15" displaytype="text" style="align:left;"/>
                <Cell col="16" displaytype="text" style="align:left;"/>
                <Cell col="17" displaytype="text" style="align:left;"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static4" text="사업장" position="absolute 16 41 132 62" class="sta_WFSA_label"/>
        <Edit autoselect="true" id="ed_UpjangNm" ontextchanged="ed_UpjangNm_OnChanged" onkeydown="ed_UpjangNm_OnKeyDown" readonly="true" taborder="1" tooltiptext="사업장" position="absolute 72 40 266 61"/>
        <Button id="btn_Upjang" onclick="btn_Upjang_OnClick" taborder="2" tabstop="false" text="" userdata="ed_UpjangNm" position="absolute 265 40 287 61" class="btn_WF_popSearch" image=""/>
        <Static id="Static1" text="기간" position="absolute 317 41 395 62" class="sta_WFSA_label"/>
        <MaskEdit id="me_START_DATE" mask="####-##-##" oneditclick="g_Date_OnFocus" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" taborder="3" tooltiptext="시작일" type="string" position="absolute 360 40 439 61" style="align:center;"/>
        <Button id="btn_FromDate" onclick="g_CalButton_OnClick" taborder="4" tabstop="false" userdata="me_START_DATE" position="absolute 438 40 460 61" class="btn_WF_cal" text="" image=""/>
        <Static id="Static8" text="~" position="absolute 461 40 470 61"/>
        <MaskEdit id="me_END_DATE" mask="####-##-##" oneditclick="g_Date_OnFocus" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" taborder="5" tooltiptext="종료일" type="string" position="absolute 472 40 551 61" style="align:center;"/>
        <Button id="btn_ToDate" onclick="g_CalButton_OnClick" taborder="6" tabstop="false" userdata="me_END_DATE" position="absolute 550 40 572 61" class="btn_WF_cal" text="" image=""/>
        <Static id="Static6" text="단위: 원(VAT 별도)" position="absolute 1000 40 1133 61" style="border:0 none transparent transparent;" anchor="top right"/>
        <Button id="btn_Graph" onclick="btn_Graph_OnClick" taborder="8" tabstop="false" text="그 래 프" position="absolute 1127 40 1226 61" class="btn_WF_Custom" image="" anchor="top right"/>
        <Radio id="rdo_PRICE_TYPE" index="0" taborder="7" tabstop="false" value="0" position="absolute 602 41 698 62" codecolumn="codecolumn" datacolumn="datacolumn" columncount="2">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">관리</Col>
                <Col id="datacolumn">관리</Col>
              </Row>
              <Row>
                <Col id="codecolumn">재무</Col>
                <Col id="datacolumn">재무</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="Static0" position="absolute 0 84 1237 233" class="sta_WF_GridBg"/>
        <Static id="Static2" position="absolute 0 84 121 141" class="sta_WF_GridLabel"/>
        <Static id="Static3" text="월계획" position="absolute 120 84 280 141" class="sta_WF_GridLabel"/>
        <Static id="Static5" text="기간전망" position="absolute 279 84 439 141" class="sta_WF_GridLabel"/>
        <Static id="Static7" text="실적누계" position="absolute 438 84 598 141" class="sta_WF_GridLabel"/>
        <Static id="Static9" text="계획대비" position="absolute 597 84 916 113" class="sta_WF_GridLabel"/>
        <Static id="Static10" text="전망대비" position="absolute 915 84 1237 113" class="sta_WF_GridLabel"/>
        <Static id="Static11" text="차이" position="absolute 597 112 757 141" class="sta_WF_GridLabel"/>
        <Static id="Static12" text="달성율(%)" position="absolute 756 112 916 141" class="sta_WF_GridLabel"/>
        <Static id="Static13" text="달성율(%)" position="absolute 1074 112 1237 141" class="sta_WF_GridLabel"/>
        <Static id="Static14" text="차이" position="absolute 915 112 1075 141" class="sta_WF_GridLabel"/>
        <Static id="Static15" text="매출액" position="absolute 0 140 121 164" class="sta_WF_GridLabel"/>
        <Static id="Static16" text="식재료비" position="absolute 0 163 121 187" class="sta_WF_GridLabel"/>
        <Static id="Static17" text="식재료율(%)" position="absolute 0 186 121 210" class="sta_WF_GridLabel"/>
        <Static id="Static18" text="재고비율(%)" position="absolute 0 209 121 233" class="sta_WF_GridLabel"/>
        <MaskEdit enable="false" id="MaskEdit0" mask="#,##0.00" taborder="11" value="MaskEdit0" position="absolute 120 140 280 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit1" mask="#,##0.00" taborder="12" value="MaskEdit0" position="absolute 120 163 280 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit2" taborder="13" value="MaskEdit0" position="absolute 120 186 280 210" style="background:#ffffffff;align:right middle;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit3" taborder="14" position="absolute 120 209 280 233" style="background:#ffffffff;align:right middle;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit4" mask="#,##0.00" taborder="15" value="MaskEdit0" position="absolute 279 140 439 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit5" mask="#,##0.00" taborder="16" value="MaskEdit0" position="absolute 438 140 598 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="ed_PLAN_AMT_DIFF" mask="#,##0.00" taborder="17" position="absolute 597 140 757 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit7" mask="#,##0.0" taborder="18" value="MaskEdit0" position="absolute 756 140 916 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="ed_PROSPECT_AMT_DIFF" mask="#,##0.0" taborder="19" position="absolute 915 140 1075 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit9" mask="#,##0.0" taborder="20" value="MaskEdit0" position="absolute 1074 140 1237 164" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="ed_PLAN_COST_DIFF" mask="#,##0.0" taborder="21" position="absolute 597 163 757 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit11" mask="#,##0.0" taborder="22" value="MaskEdit0" position="absolute 756 163 916 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="ed_PROSPECT_COST_DIFF" mask="#,##0.0" taborder="23" position="absolute 915 163 1075 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit13" mask="#,##0.0" taborder="24" value="MaskEdit0" position="absolute 1074 163 1237 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <Edit enable="false" id="ed_PLAN_RATE_DIFF" taborder="25" position="absolute 597 186 757 210" style="background:#ffffffff;align:right middle;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <Edit enable="false" id="ed_PROSPECT_RATE_DIFF" taborder="26" position="absolute 915 186 1075 210" style="background:#ffffffff;align:right middle;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <Edit enable="false" id="ed_PLAN_STOCK_DIFF" taborder="27" position="absolute 597 209 757 233" style="background:#ffffffff;align:right middle;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit17" mask="#,##0.00" taborder="28" value="MaskEdit0" position="absolute 279 163 439 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit18" mask="#,##0.00" taborder="29" value="MaskEdit0" position="absolute 438 163 598 187" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit19" mask="#,##0.0" taborder="30" value="MaskEdit0" position="absolute 279 186 439 210" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit20" mask="#,##0.0" taborder="31" value="MaskEdit0" position="absolute 438 186 598 210" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit21" mask="#,##0.0" taborder="32" value="MaskEdit0" position="absolute 438 209 598 233" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit22" mask="#,##0.00" taborder="33" value="MaskEdit0" position="absolute 279 209 439 233" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit23" mask="#,##0.00" taborder="34" value="MaskEdit0" position="absolute 756 186 916 210" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit24" mask="#,##0.00" taborder="35" value="MaskEdit0" position="absolute 756 209 916 233" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit25" mask="#,##0.00" taborder="36" value="MaskEdit0" position="absolute 915 209 1075 233" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit26" mask="#,##0.00" taborder="37" value="MaskEdit0" position="absolute 1074 186 1237 210" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <MaskEdit enable="false" id="MaskEdit27" mask="#,##0.00" taborder="38" value="MaskEdit0" position="absolute 1074 209 1237 233" style="background:#ffffffff;font:gulim,9,bold; :disabled {background:white;font:gulim,9,bold;}" readonly="true"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="39" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30"/>
        <Static id="Static19" text="h06" onclick="Static03_onclick" class="Guide01_AreaRed" visible="false" position="absolute 0 71 144 84" anchor="top right"/>
        <Static id="Static23" text="W15" onclick="Static23_onclick" visible="false" position="absolute 1 40 16 61" style="background:#ff000055;align:center middle;"/>
        <Static id="Static22" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 62 40 72 61"/>
        <Static id="Static24" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 287 40 317 61"/>
        <Static id="Static25" text="W10" visible="false" position="absolute 0 30 1237 40" style="background:#ff000055;align:center middle;"/>
        <Static id="Static05" text="W10" visible="false" position="absolute 0 61 1237 71" style="background:#ff000055;align:center middle;"/>
        <Static id="Static28" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 350 40 360 61"/>
        <Static id="Static29" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 572 40 602 61"/>
        <Static id="Static31" text="w15" onclick="Static06_onclick" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" onclick="Static71_onclick" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static26" text="h06" onclick="Static03_onclick" class="Guide01_AreaRed" visible="false" position="absolute 0 233 144 246" anchor="top right"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_input">
        <ColumnInfo>
          <Column id="UPJANG" size="256" type="STRING"/>
          <Column id="UPJANG_NM" size="256" type="STRING"/>
          <Column id="START_DATE" size="256" type="STRING"/>
          <Column id="END_DATE" size="256" type="STRING"/>
          <Column id="PRICE_TYPE" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="END_DATE"/>
            <Col id="PRICE_TYPE">관리</Col>
            <Col id="START_DATE"/>
            <Col id="UPJANG"/>
            <Col id="UPJANG_NM"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_list" keystring="S:+DD">
        <ColumnInfo>
          <Column id="EXPECT_SALE" size="22" type="BIGDECIMAL"/>
          <Column id="AMT_EXPECT_COMP_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="AMT_PLAN_COMP_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="DD" size="4" type="STRING"/>
          <Column id="EMP_COST_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="EXPECT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="LOCAL_COST_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="PROSPECT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PROSPECT_TRX_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="RESULT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="RESULT_TRX_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="STOCK_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="TOTAL_COST" size="22" type="BIGDECIMAL"/>
          <Column id="TRANS_COST_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="TRX_GAP" size="22" type="BIGDECIMAL"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list2">
        <ColumnInfo>
          <Column id="PLAN_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="PLAN_AMT_DIFF" size="22" type="STRING"/>
          <Column id="PLAN_AMT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PLAN_COST" size="22" type="BIGDECIMAL"/>
          <Column id="PLAN_COST_DIFF" size="22" type="STRING"/>
          <Column id="PLAN_COST_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PLAN_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PLAN_RATE_DIFF" size="22" type="STRING"/>
          <Column id="PLAN_STOCK" size="22" type="BIGDECIMAL"/>
          <Column id="PLAN_STOCK_DIFF" size="22" type="STRING"/>
          <Column id="PROSPECT_AMT_DIFF" size="22" type="STRING"/>
          <Column id="PROSPECT_AMT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PROSPECT_COST" size="22" type="BIGDECIMAL"/>
          <Column id="PROSPECT_COST_DIFF" size="22" type="STRING"/>
          <Column id="PROSPECT_COST_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PROSPECT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="PROSPECT_RATE_DIFF" size="22" type="STRING"/>
          <Column id="PROSPECT_TRX_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="RESULT_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="RESULT_TRX_AMT" size="22" type="BIGDECIMAL"/>
          <Column id="STOCK_RATE" size="22" type="BIGDECIMAL"/>
          <Column id="TOTAL_COST" size="22" type="BIGDECIMAL"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="PLAN_AMT"/>
            <Col id="PLAN_AMT_DIFF"/>
            <Col id="PLAN_AMT_RATE"/>
            <Col id="PLAN_COST"/>
            <Col id="PLAN_COST_DIFF"/>
            <Col id="PLAN_COST_RATE"/>
            <Col id="PLAN_RATE"/>
            <Col id="PLAN_RATE_DIFF"/>
            <Col id="PLAN_STOCK"/>
            <Col id="PLAN_STOCK_DIFF"/>
            <Col id="PROSPECT_AMT_DIFF"/>
            <Col id="PROSPECT_AMT_RATE"/>
            <Col id="PROSPECT_COST"/>
            <Col id="PROSPECT_COST_DIFF"/>
            <Col id="PROSPECT_COST_RATE"/>
            <Col id="PROSPECT_RATE"/>
            <Col id="PROSPECT_RATE_DIFF"/>
            <Col id="PROSPECT_TRX_AMT"/>
            <Col id="RESULT_RATE"/>
            <Col id="RESULT_TRX_AMT"/>
            <Col id="STOCK_RATE"/>
            <Col id="TOTAL_COST"/>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="ed_UpjangNm_value" compid="ed_UpjangNm" propid="value" datasetid="ds_Input" columnid="UPJANG_NM"/>
      <BindItem id="me_START_DATE_value" compid="me_START_DATE" propid="value" datasetid="ds_input" columnid="START_DATE"/>
      <BindItem id="me_END_DATE_value" compid="me_END_DATE" propid="value" datasetid="ds_input" columnid="END_DATE"/>
      <BindItem id="rdo_PRICE_TYPE_value" compid="rdo_PRICE_TYPE" propid="value" datasetid="ds_input" columnid="PRICE_TYPE"/>
      <BindItem id="MaskEdit0_value" compid="MaskEdit0" propid="value" datasetid="ds_list2" columnid="PLAN_AMT"/>
      <BindItem id="MaskEdit1_value" compid="MaskEdit1" propid="value" datasetid="ds_list2" columnid="PLAN_COST"/>
      <BindItem id="MaskEdit2_value" compid="MaskEdit2" propid="value" datasetid="ds_list2" columnid="PLAN_RATE"/>
      <BindItem id="MaskEdit3_value" compid="MaskEdit3" propid="value" datasetid="ds_list2" columnid="PLAN_STOCK"/>
      <BindItem id="MaskEdit4_value" compid="MaskEdit4" propid="value" datasetid="ds_list2" columnid="PROSPECT_TRX_AMT"/>
      <BindItem id="MaskEdit5_value" compid="MaskEdit5" propid="value" datasetid="ds_list2" columnid="RESULT_TRX_AMT"/>
      <BindItem id="ed_PLAN_AMT_DIFF_value" compid="ed_PLAN_AMT_DIFF" propid="value" datasetid="ds_list2" columnid="PLAN_AMT_DIFF"/>
      <BindItem id="MaskEdit7_value" compid="MaskEdit7" propid="value" datasetid="ds_list2" columnid="PLAN_AMT_RATE"/>
      <BindItem id="ed_PROSPECT_AMT_DIFF_value" compid="ed_PROSPECT_AMT_DIFF" propid="value" datasetid="ds_list2" columnid="PROSPECT_AMT_DIFF"/>
      <BindItem id="MaskEdit9_value" compid="MaskEdit9" propid="value" datasetid="ds_list2" columnid="PROSPECT_AMT_RATE"/>
      <BindItem id="ed_PLAN_COST_DIFF_value" compid="ed_PLAN_COST_DIFF" propid="value" datasetid="ds_list2" columnid="PLAN_COST_DIFF"/>
      <BindItem id="MaskEdit11_value" compid="MaskEdit11" propid="value" datasetid="ds_list2" columnid="PLAN_COST_RATE"/>
      <BindItem id="ed_PROSPECT_COST_DIFF_value" compid="ed_PROSPECT_COST_DIFF" propid="value" datasetid="ds_list2" columnid="PROSPECT_COST_DIFF"/>
      <BindItem id="MaskEdit13_value" compid="MaskEdit13" propid="value" datasetid="ds_list2" columnid="PROSPECT_COST_RATE"/>
      <BindItem id="MaskEdit17_value" compid="MaskEdit17" propid="value" datasetid="ds_list2" columnid="PROSPECT_COST"/>
      <BindItem id="MaskEdit18_value" compid="MaskEdit18" propid="value" datasetid="ds_list2" columnid="TOTAL_COST"/>
      <BindItem id="MaskEdit19_value" compid="MaskEdit19" propid="value" datasetid="ds_list2" columnid="PROSPECT_RATE"/>
      <BindItem id="MaskEdit20_value" compid="MaskEdit20" propid="value" datasetid="ds_list2" columnid="RESULT_RATE"/>
      <BindItem id="MaskEdit21_value" compid="MaskEdit21" propid="value" datasetid="ds_list2" columnid="STOCK_RATE"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";
/*
 ******************************************************************************************
 * 시스템구분   : IFIS/메뉴관리/ 공통/기본템플릿  
 * 프로그램명   : 공통 기본 템플릿
 * 기      능   : 공통 기본 템플릿 제공
 * 작  성  자   : 한화 S&C SI 사업부 프로젝트 팀 박종세
 * 작성  일자   : 2007-12-04
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//========================================================================================= 
//@@컨버터에서 주석처리 #include "lib::sc_comon.js"
//@@컨버터에서 주석처리 #include "lib::tit_comm_0001.js"
//@@컨버터에서 주석처리 #include "lib::lib_comm_0001.js"
//@@컨버터에서 주석처리 #include "lib::sc_sql_common.js"
//@@컨버터에서 주석처리 #include "lib::fs_common.js"
//@@컨버터에서 주석처리 #include "lib::po_common.js"

//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================
//var P_UPJANG; //팝업을 위한 전역변수

//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(obj, false);

	   //폼 초기화
		fn_InitForm(obj);
		
}	

//폼 초기화
function fn_InitForm(obj)
{
	// action 정보 생성 초기화 
	fsp_init(this);		
	
	// 폼 데이터 초기화
	fn_InitData(false);
	
	
	// 업장권한
	//----------업장권한설정---------------------------
	// 2008.06.24 업장팝업 권한설정을 위한 주석 제거 
	fn_SetAuth("","","ed_UpjangNm", "btn_Upjang");
	
	
	//----------권한이 99가 아니면 관리재무 라이오버튼 Hidden
	//if(g_AuthLevel<>99)
	if(g_AuthLevel<99)
	{
		this.rdo_PRICE_TYPE.visible=false;
	}
	
	
}

// 폼데이터 초기화 
function fn_InitData(blnAllClear)
{

	//if(gfn_length(p_UPJANG)>0)
	if(parent.name == "U_FSM::FSM00371V.xfdl")
	{
	
		ed_UpjangNm.userdata = p_UPJANG;
		ed_UpjangNm.value     = p_UPJANG_NM;
		me_START_DATE.value  = p_START_DATE;
		me_END_DATE.value    = p_END_DATE;
		rdo_PRICE_TYPE.value = p_PRICE_TYPE;
		
		//데이터를 조회한다.
		fn_search();
	}
	else
	{
		
		ed_UpjangNm.userdata = g_Upjang;
		ed_UpjangNm.value     = g_UpjangNm;
		//날짜 초기화
		this.me_START_DATE.value = gfn_left(gfn_today(),6)+"01";
		this.me_END_DATE.value   = gfn_today();	
	}
}

//초기화 콜백함수
function fn_After_InitData()
{
	
}

//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,인쇄,도움말,form닫기)
//
//=========================================================================================
/*------------------------------------------------------------
	1. Function ID : fn_Search()
	2. 개       요 : 업무프로세스에 따른 조회작업
	3. 기       능 : 검색버튼 입력 시 처리되는 작업
	4. 인 수 설 명:
*------------------------------------------------------------*/
function fn_search()
{
	//업장
	if(!mfn_Chk_Obj_MustInput(ed_UpjangNm)) return false;   	
	
	//시작일
	if(!mfn_Chk_Obj_MustInput(me_START_DATE)) return false;   	
	
	//종료일
	if(!mfn_Chk_Obj_MustInput(me_END_DATE)) return false;   
	

	//시작일과 종료일이 다른 달일 경우 에러발생
	if(gfn_left(me_START_DATE.value,6)<>gfn_left(me_END_DATE.value,6))
	{
		g_Message("EE", "시작일과 종료일은 같은 달이어야 합니다.");
		return false;
	}

	//ds_input 데이터 수집
	ds_input.setColumn(0, "UPJANG",     ed_UpjangNm.userdata);
	ds_input.setColumn(0, "UPJANG_NM",  ed_UpjangNm.value);
	ds_input.setColumn(0, "START_DATE", me_START_DATE.value);
	ds_input.setColumn(0, "END_DATE",   me_END_DATE.value);
	ds_input.setColumn(0, "PRICE_TYPE", rdo_PRICE_TYPE.value);

		
	//하단표 조회
	//초기화
	ds_list.clearData();
	var actionName, cmdName, inData, outData, otherArg, callBackFnc;
	
	actionName		= "FSM00371V_S001";
	cmdName			= "U_svc::" + "fs/fsm/FSM00371V_S001.jsp";
	inData			= "ds_input=ds_input";
	outData			= "ds_list=ds_list";
	callBackFnc		= "fn_After_Search1";
	
	http.Sync = true;
	jsp_transaction(this, actionName, cmdName ,inData ,outData,otherArg,callBackFnc,true,false,false);
	http.Sync = false;
		

	
		
}

// 조회 후 콜백 함수 
function fn_After_Search1()
{
	//상단표 조회
	//초기화
	ds_list2.clearData();
	var actionName, cmdName, inData, outData, otherArg, callBackFnc;
	
	
	//trace(ds_input.saveXML());
	
	actionName		= "FSM00371V_S002";
	cmdName			= "U_svc::" + "fs/fsm/FSM00371V_S002.jsp";
	inData			= "ds_input=ds_input";
	outData			= "ds_list2=ds_list2";
	callBackFnc		= "fn_After_Search";
	
	http.Sync = true;
	jsp_transaction(this, actionName, cmdName ,inData ,outData,otherArg,callBackFnc,true,false,false);
	http.Sync = false;
}

// 조회 후 콜백 함수 
function fn_After_Search()
{
 

	//데이터를 계산한다. 

	//1.기간전망 매출액
	var PROSPECT_TRX_AMT = ds_list.getSum("PROSPECT_TRX_AMT");	
	ds_list2.setColumn(0, "PROSPECT_TRX_AMT" ,PROSPECT_TRX_AMT);
	
	//2.기간전망 식재료율 
	var PROSPECT_RATE = Math.round(ds_list2.getColumn(0,"PROSPECT_COST")/ds_list2.getColumn(0, "PROSPECT_TRX_AMT")*100,1);
	ds_list2.setColumn(0, "PROSPECT_RATE", PROSPECT_RATE);
		
	//3.실적누계 매출액
	var RESULT_TRX_AMT = ds_list.getSum("RESULT_TRX_AMT");
	ds_list2.setColumn(0, "RESULT_TRX_AMT", RESULT_TRX_AMT);
	
	//4.실적누계 식재료비 
	var TOTAL_COST = ds_list.getSum("TOTAL_COST");
	ds_list2.setColumn(0, "TOTAL_COST", TOTAL_COST);
	
	//5.실적누계 식재료율
	var RESULT_RATE  = Math.round(ds_list2.getColumn(0,"TOTAL_COST")/ds_list2.getColumn(0, "RESULT_TRX_AMT")*100,1);
	ds_list2.setColumn(0, "RESULT_RATE", RESULT_RATE);
	
	//6.실적누계 재고비율
	var STOCK_RATE  = Math.round(ds_list.getSum("STOCK_AMT")/ds_list.getSum("TOTAL_COST")*100,1);
	ds_list2.setColumn(0, "STOCK_RATE", STOCK_RATE);
	
	
//-------------------------------------------------------------------------------------------------
	//7.매출액 계획대비 차이   ==> 실적누계 매출액    - 월계획매출액
	var PLAN_AMT_DIFF =            RESULT_TRX_AMT    - ds_list2.getColumn(0, "PLAN_AMT");
	ds_list2.setColumn(0, "PLAN_AMT_DIFF", PLAN_AMT_DIFF);
	//ed_PLAN_AMT_DIFF.text = fn_make_updown_str(PLAN_AMT_DIFF);
	
	//8.식재료비 계획대비 차이 ==> 실적누계 식재료비  - 월계획식재료비
	var PLAN_COST_DIFF =         TOTAL_COST        - ds_list2.getColumn(0, "PLAN_COST");
	ds_list2.setColumn(0, "PLAN_COST_DIFF", PLAN_COST_DIFF);
	//ed_PLAN_COST_DIFF.Text = fn_make_updown_str(PLAN_COST_DIFF);
	
	//9.계획대비 식재료율 차이 ==> 실적누계 식재료율 - 월계획 식재료율
	var PLAN_RATE_DIFF =      RESULT_RATE       - ds_list2.getColumn(0, "PLAN_RATE");
	ds_list2.setColumn(0, "PLAN_RATE_DIFF", PLAN_RATE_DIFF);
	ed_PLAN_RATE_DIFF.value = fn_make_updown_str(ed_PLAN_RATE_DIFF, PLAN_RATE_DIFF);
	
	//10.계획대비 재고비율차이 ==> 실적누계 재고비율 - 월계획 재고비율 
    var PLAN_STOCK_DIFF =      STOCK_RATE       - ds_list2.getColumn(0, "PLAN_STOCK");
	ds_list2.setColumn(0, "PLAN_STOCK_DIFF", PLAN_STOCK_DIFF);
	ed_PLAN_STOCK_DIFF.value = fn_make_updown_str(ed_PLAN_STOCK_DIFF, PLAN_STOCK_DIFF);
	
//-------------------------------------------------------------------------------------------------	
	
    //11.계획대비 매출액 달성율==> 실적누계매출액/월계획매출액 * 100, Round(2)
    var PLAN_AMT_RATE   =   Math.round((RESULT_TRX_AMT/ds_list2.getColumn(0, "PLAN_AMT"))*100,1); 
    ds_list2.setColumn(0, "PLAN_AMT_RATE", PLAN_AMT_RATE);
	
    //12.계획대비 식재료비 달성율 ==> 실적누계 식재료비/월계획 식재료비 * 100, Round(2)
    var PLAN_COST_RATE  =   Math.round((TOTAL_COST/ds_list2.getColumn(0, "PLAN_COST")*100),1);  
    ds_list2.setColumn(0, "PLAN_COST_RATE", PLAN_COST_RATE);
	
	   
//-------------------------------------------------------------------------------------------------	
       
    //13.전망대비 매출액 차이   ==> 실적누계 매출액 - 기간전망 매출액
    var PROSPECT_AMT_DIFF  =       RESULT_TRX_AMT - PROSPECT_TRX_AMT;
    ds_list2.setColumn(0, "PROSPECT_AMT_DIFF", PROSPECT_AMT_DIFF);
	//ed_PROSPECT_AMT_DIFF.Text = fn_make_updown_str(PROSPECT_AMT_DIFF);
	    
    //14.전망대비 식재료비 차이 ==> 실적누계 식재료비 - 기간전망 식재료비
    var PROSPECT_COST_DIFF =       TOTAL_COST     -  ds_list2.getColumn(0,"PROSPECT_COST");
    ds_list2.setColumn(0, "PROSPECT_COST_DIFF", PROSPECT_COST_DIFF);
	//ed_PROSPECT_COST_DIFF.Text = fn_make_updown_str(PROSPECT_COST_DIFF);

    //15.전망대비 식재료율 차이 ==> 실적누계 식재료율 - 기간전망 식재료율
    var PROSPECT_RATE_DIFF =       RESULT_RATE    -  PROSPECT_RATE;
    ds_list2.setColumn(0, "PROSPECT_RATE_DIFF", PROSPECT_RATE_DIFF);
	ed_PROSPECT_RATE_DIFF.value = fn_make_updown_str(ed_PROSPECT_RATE_DIFF, PROSPECT_RATE_DIFF);

//-------------------------------------------------------------------------------------------------	

	
    //16.전망대비 매출액 달성율 => 실적누계 매출액/기간전망 매출액 *100,  Round(2)
    var PROSPECT_AMT_RATE  = Math.round(RESULT_TRX_AMT/PROSPECT_TRX_AMT*100,1);
    ds_list2.setColumn(0, "PROSPECT_AMT_RATE", PROSPECT_AMT_RATE);
	
    //17.전망대비 식재료비 달성율=> 실적누계 식재료비/기간전망 식재료비*100,  Round(2)
	var PROSPECT_COST_RATE = Math.round(TOTAL_COST/ds_list2.getColumn(0, "PLAN_COST")*100,1);
	ds_list2.setColumn(0, "PROSPECT_COST_RATE", PROSPECT_COST_RATE);  
	
	
}
	

// 조회 조건 검색
function fn_Chk_SearchKey()
{
   //체크로직- 틀리면 return false;    
   return true;
}



/*------------------------------------------------------------
	1. Function ID : fn_Insert()
	2. 개       요 : 업무프로세스에 따른 입력작업
	3. 기       능 : 입력버튼 입력 시 처리되는 작업
	4. 인 수 설 명:
*------------------------------------------------------------*/
function fn_insert()
{
   //데이터셋 로우 추가
   //ds_template_obj.AddRow();				   

   //신규추가시 기본값 설정
   //fn_SetDefaultNewRow();
}

// 신규추가시 기본값 설정
function fn_SetDefaultNewRow()
{   
}



/*------------------------------------------------------------
	1. Function ID : fn_Delete()
	2. 개       요 : 업무프로세스에 따른 정보 삭제작업
	3. 기       능 : 삭제버튼 입력 시 처리되는 작업
	4. 인 수 설 명 : 
*------------------------------------------------------------*/
function fn_delete()
{
    // 삭제 확인메세지 호출
	//if (!fn_Call_DeleteMsg()){ return false; }							
	
    // 데이터셋이 Insert일 경우는 DeleteRow만 실행한다. 
    //if(fn_chk_rowtypeInsert_deleteRow(ds_template_obj)){return false;}

	// TO DO 식당마스터를 삭제하기전에  지울수 있는지 확인한다.				
	//if(!fn_chk_canDeleteRow(ds_template_obj)){return false;}				
	
	// 데이터셋 삭제
	//ds_template_obj.DeleteRow(ds_template_obj.row);
				
	// 트랜잭션 시작 
	//tit_clearActionInfo(this);
				
	//삭제
	//tit_addSaveActionInfo(this, "", "","fs/fsa:FSA00050E_D003", "", "", "", "");
					
	// 서버 호출 
	//tit_callService(this, "", "", "ds_in=ds_template_obj:U", "", "", "fn_After_Delete()");
	// 트랜잭션 종료 
	
	//}
}

//삭제 후 콜백 함수 
function fn_After_Delete()
{

}

//삭제 가능여부 체크
function fn_chk_canDeleteRow(ds_template_obj)
{
	//체크로직- 틀리면 return false;
	return true;
}



/*------------------------------------------------------------
	1. Function ID : fn_Save()
	2. 개       요 : 업무프로세스에 따른 정보 저장작업
	3. 기       능 : 저장버튼 입력 시 처리되는 작업
	4. 인 수 설 명 : 
*------------------------------------------------------------*/
function fn_save()
{
 	// 데이터 유효성 검사
	 if (!fn_DataValidation()){	return false; }
			
	// action 정보 초기화 
	//tit_clearActionInfo(this);
			
	/*tit_addSaveActionInfo(this
			, "fs/fsa:FSA00050E_I001"
			, "fs/fsa:FSA00050E_U001"
			, ""
			, ""
			, ""
			, ""
			, ""
			);
				
	  */
	 // 서버 호출 후 조회 
	 //tit_callService(this, "", "", "ds_in=ds_template_obj:U", "" , "", "fn_After_Save()");
	 // 트랜잭션 종료 
}

//저장 후 콜백 함수 
function fn_After_Save()
{

}

//데이터 유효성검사
function fn_DataValidation()
{
    //체크로직- 틀리면 return false;

    //변경데이터 검사
	//if(!ds_template_obj.GetUpdate())   {alert("변경된 데이터가 없습니다."); return false;}
	
	//입력값 검사 - 컴포넌트 
	//if(!fn_DataValidation_Component()) {return false;}	
	
	//입력값 검사 - 데이터셋
	//if(!fn_DataValidation_DataSet())   {return false;}

    return true;
}

function fn_DataValidation_Component()
{
	//체크로직 - 틀리면 return false;
	return true;
}

function fn_DataValidation_DataSet()
{
	//체크로직 - 틀리면 return false;
	return true;
}
        


/*------------------------------------------------------------
	1. Function ID : fn_Print()
	2. 개       요 : 업무프로세스에 따른 인쇄 처리
	3. 기       능 : 인쇄버튼 입력 시 처리되는 작업
	4. 인 수 설 명 : 
*------------------------------------------------------------*/
function fn_print()
{
}

/*------------------------------------------------------------
	1. Function ID : fn_Close()
	2. 개       요 : 업무프로세스에 따른 폼 종료 
	3. 기       능 : 닫기버튼 입력 시 처리되는 작업
	4. 인 수 설 명 : 
*------------------------------------------------------------*/
 

function fn_close()
{

     if(parent.name == 'WorkFrame') {
         parent.close();
     } else {
        this.close();
     }
	 
}

/*------------------------------------------------------------
	1. Function ID : fn_Help()
	2. 개       요 : 업무프로세스에 따른 도움말 
	3. 기       능 : 도움말버튼 입력 시 처리되는 작업
	4. 인 수 설 명 : 
*------------------------------------------------------------*/
function fn_help()
{
}

//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================


//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 기요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================

/*------------------------------------------------------------
	1. Function    : btn_Upjang_OnClick(obj)
	2. Description : 사업장 조회 팝업
	3. Arguments   : 
	4. History     : 2008. 02. 05 - 최초작성
*------------------------------------------------------------*/
function btn_Upjang_OnClick(obj:Button, e:ClickEventInfo)
{

// 2008.06.24 김동표 업장팝업 권한설정 기능 수정(시작)
	 fn_sql_common_setup(fn_MakeUpjangSQL(),
						 "UPJANG",
						 "UPJANGNM",
						 "업장코드",
						 "업장명",
						 "",
						 "",
						 "",
						 "사업장조회",
						 "UPJANG;UPJANGNM");

     if( gds_sql_common.getColumn(0, "ret_code") != "" ) {
		
		
		 ds_input.setColumn(0, "UPJANG",   gds_sql_common.getColumn(0, "ret_code"));
		 ds_input.setColumn(0, "UPJANG_NM", gds_sql_common.getColumn(0, "ret_name"));
		
		 ed_UpjangNm.userdata = gds_sql_common.getColumn(0, "ret_code");
		 ed_UpjangNm.value     = gds_sql_common.getColumn(0, "ret_name");
				
//		 btn_Upjang.SetFocus();
    
     } else {
		 ds_input.setColumn(0, "UPJANG",   "");
		 ds_input.setColumn(0, "UPJANG_NM", "");
		
		 ed_UpjangNm.userdata = "";
		 ed_UpjangNm.value     = "";
     }
    
// 2008.06.24 김동표 업장팝업 권한설정 기능 수정(끝)

/*    
	var v_Query = " SELECT UPJANG, UPJANGNM "
				+ " FROM FSA_UPJANG_V "
				+ " WHERE (1=1) ";
				
	//alert(g_Authlevel);
	
	switch (g_Authlevel)
	{
		case "16": 
			v_Query 	+= "   AND TM_CD = '"+trim(g_Tm_Cd)+"' -- 운영부서 ";
			break;
		case "14": 
			v_Query 	+= "   AND SUBTEAM_MST_SABUN = '"+trim(g_EmpNo)+"' --소팀장 ";
			break;
		case "12": 
			v_Query 	+= "   AND LEADER_SABUN = '"+trim(g_EmpNo)+"' -- 리더 ";
			break;
		default:
			v_Query 	+= "   AND UPJANG = '"+trim(g_Upjang)+"' -- 리더 ";
	}
				
				
	//alert(v_Query);
	
	fn_sql_common_setup(v_Query,
						"UPJANG",
						"UPJANGNM",
						"업장코드",
						"업장명",
						"",
						"",
						"",
						"사업장조회");
						
	object(obj.UserData).UserData		= gds_sql_common.GetColumn(0, "ret_code");
	object(obj.UserData).Text			= gds_sql_common.GetColumn(0, "ret_name");
*/		
    
}

/*------------------------------------------------------------
	1. Function    : ed_UpjangNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
	2. Description : 사업장 EditBox 엔터키 입력시 사업장 조회 팝업 호출
	3. Arguments   : 
	4. History     : 2008. 02. 05 - 최초작성
*------------------------------------------------------------*/
function ed_UpjangNm_OnKeyDown(obj:Edit, e:KeyEventInfo)
{
	if( e.keycode == "13" ) btn_Upjang.click();
	ed_UpjangNm.setFocus();
}

//업장이름이 없으면.... 데이터넷도 지운다.
function ed_UpjangNm_OnChanged(obj:Edit, e:TextChangedEventInfo)
{
	if(gfn_length(e.posttext)==0)
	{
		ds_input.setColumn(0,"UPJANG","");
		ds_input.setColumn(0,"UPJANG_NM","");
	}
}


function btn_Graph_OnClick(obj:Button, e:ClickEventInfo)
{
	var strURL="U_FSM::FSM00372P.xfdl";
	var strInArgument;
		
	gfn_dialog("", strURL,strInArgument);
}


//////////////////////
// 위아래 표시함수
//////////////////////
function fn_make_updown_str(obj, strValue)
{
	if(strValue>0)
	{
		strValue = "↑" + strValue + "%P";
		obj.style.color= "#FF0000";
		obj
	//	obj.style.disabled.color= "#FF0000";
	
	}
	else if(strValue==0)
	{
		strValue = "0%P";
		obj.style.color= "#000000";
	//	obj.style.disabled.color= "#000000";
	}
	else
	{
		strValue = "↓" + gfn_replace(strValue,"-","")+ "%P";
		obj.style.color= "#0000FF"; 
//		obj.style.disabled.color= "#0000FF";
	}

	
	return strValue;
}

function form_OnKeyDown(obj:Form, e:KeyEventInfo)
{
	gfn_formKeyDown(obj, e); //(obj,e.fromreferenceobject,e.keycode,e.shiftKey,e.ctrlKey,e.altKey,-1,-1);
	if ( (e.keycode == 13) && (e.fromreferenceobject == me_END_DATE) ) fn_search();
}

function fn_clearNaN(inVal)
 {
     var outVal = 0;
     
     if(isFinite(inVal)) {
        outVal = inVal;
     } else if(isNaN(inVal)) {
        outVal = 0;
     } else {
        outVal = 0;
     }
     
     return outVal;
 }
function grd_OnHeadClick(obj:Grid, e:GridClickEventInfo)
{
	gfn_gridSort(obj, e);
}


]]></Script>
  </Form>
</FDL>
