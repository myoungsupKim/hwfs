<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="FMR00130V" onload="form_onload" titletext="식재레시피통계" position="absolute 0 0 1252 725" scrollbars="none">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="21" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30"/>
        <Tab id="tab_Main" anchor="all" taborder="22" preload="true" onchanged="tab_Main_OnChanged" tabindex="0" position="absolute 0 138 1237 710">
          <Tabpages>
            <Tabpage id="tab1" text="사용횟수" url="U_FMR::FMR00131V.xfdl" scrollbars="none"/>
            <Tabpage id="tab2" text="상품평균소요량" url="U_FMR::FMR00132V.xfdl" scrollbars="none"/>
          </Tabpages>
        </Tab>
        <Static id="Static15" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 123 450 138"/>
        <Static id="Static0" text="상세직군" class="sta_WFSA_label" visible="false" position="absolute 204 40 285 61"/>
        <Combo id="cbo_JOB" taborder="24" innerdataset="ds_JOB" displayrowcount="20" visible="false" position="absolute 122 40 225 61"/>
        <Static id="Static02" text="직     군" class="sta_WFSA_label" visible="false" position="absolute 17 40 98 61"/>
        <Static id="Static58" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 123" anchor="left top right"/>
        <Static id="st10" text="사 업 장" class="sta_WFSA_label" position="absolute 17 40 98 61"/>
        <Edit id="ed_UPJANG_NM" taborder="25" readonly="true" autoselect="true" onkeydown="fn_Pop_OnKeyDown" position="absolute 137 40 332 61" userdata="btn_upjang"/>
        <Button id="btn_upjang" taborder="26" onclick="btn_upjang_OnClick" class="btn_WF_popSearch" position="absolute 331 40 353 61"/>
        <MaskEdit id="me_FROM_DT" taborder="27" type="string" mask="####-##-##" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" onkeydown="fn_Pop_OnKeyDown" oneditclick="g_Date_OnFocus" position="absolute 137 92 216 113" userdata="btn_FROM_DT"/>
        <Button id="btn_FROM_DT" taborder="28" onclick="g_CalButton_OnClick" class="btn_WF_cal" position="absolute 215 92 236 113" userdata="me_FROM_DT"/>
        <MaskEdit id="me_TO_DT" taborder="29" type="string" mask="####-##-##" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" onkeydown="fn_Pop_OnKeyDown" oneditclick="g_Date_OnFocus" position="absolute 254 92 333 113" userdata="btn_TO_DT"/>
        <Button id="btn_TO_DT" taborder="30" onclick="g_CalButton_OnClick" class="btn_WF_cal" position="absolute 332 92 353 113" userdata="me_TO_DT"/>
        <Static id="Static2" text="제 공 일" class="sta_WFSA_label" position="absolute 17 66 98 87"/>
        <Static id="Static7" text="~" position="absolute 242 92 250 113"/>
        <Combo id="cbo_MEAL" taborder="32" innerdataset="ds_MEAL" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="20" position="absolute 467 66 575 87"/>
        <Static id="Static4" text="끼     니" class="sta_WFSA_label" position="absolute 386 65 462 86"/>
        <Combo id="cbo_RECIPE_CLASS" taborder="34" innerdataset="ds_RecipeClass" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="20" position="absolute 701 66 808 87"/>
        <Combo id="cbo_RECIPE_TYPE" taborder="35" innerdataset="ds_RECIPE_TYPE" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="20" position="absolute 931 66 1038 87"/>
        <Combo id="cbo_CUISINE_TYPE" taborder="36" innerdataset="ds_CUISINE_TYPE" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="20" position="absolute 930 40 1037 61"/>
        <Static id="Static5" text="레시피분류" class="sta_WFSA_label" position="absolute 611 66 692 87"/>
        <Static id="Static6" text="레시피유형" class="sta_WFSA_label" position="absolute 841 66 922 87"/>
        <Static id="Static8" text="레시피명" class="sta_WFSA_label" position="absolute 386 93 467 114"/>
        <Static id="Static9" text="조리법유형" class="sta_WFSA_label" position="absolute 841 41 917 62"/>
        <Edit id="ed_RECIPE_NAME" taborder="37" position="absolute 467 92 575 113"/>
        <MaskEdit id="med_FROM_MENU_DATE" taborder="38" type="string" mask="####-##-##" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" onkeydown="fn_Pop_OnKeyDown" oneditclick="g_Date_OnFocus" position="absolute 137 66 216 87" userdata="btn_FROM_MENU_DATE" class="msk_WF_CalEssential"/>
        <Button id="btn_FROM_MENU_DATE" taborder="39" onclick="g_CalButton_OnClick" class="btn_WF_calEssential" position="absolute 215 66 236 87" userdata="med_FROM_MENU_DATE"/>
        <Static id="Static10" text="~" position="absolute 241 66 249 87"/>
        <MaskEdit id="med_TO_MENU_DATE" taborder="40" type="string" mask="####-##-##" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" onkeydown="fn_Pop_OnKeyDown" oneditclick="g_Date_OnFocus" position="absolute 254 66 333 87" userdata="btn_TO_MENU_DATE" class="msk_WF_CalEssential"/>
        <Button id="btn_TO_MENU_DATE" taborder="41" onclick="g_CalButton_OnClick" class="btn_WF_calEssential" position="absolute 332 66 353 87" userdata="med_TO_MENU_DATE"/>
        <Static id="Static11" text="레시피최초개발일" class="sta_WFSA_label" position="absolute 17 92 149 113"/>
        <Static id="Static70" text="W10" visible="false" position="absolute 14 30 277 40" style="background:#ff000055;align:center middle;"/>
        <Static id="Static12" text="W10" visible="false" position="absolute 15 113 1200 123" style="background:#ff000055;align:center middle;"/>
        <Static id="Static72" text="W15" visible="false" position="absolute 0 30 15 123" style="background:#ff000055;align:center middle;"/>
        <Static id="Static82" text="W05." visible="false" position="absolute 962 61 1195 66" style="background:#ff000055;align:center middle;"/>
        <Static id="Static94" text="W05." visible="false" position="absolute 29 61 1000 66" style="background:#ff000055;align:center middle;"/>
        <Static id="Static19" text="W10" visible="false" position="absolute 691 66 701 87" style="background:#ff000055;align:center middle;"/>
        <Static id="Static22" text="W10" visible="false" position="absolute 127 40 137 116" style="background:#ff000055;align:center middle;"/>
        <Static id="Static23" text="W10" visible="false" position="absolute 921 66 931 87" style="background:#ff000055;align:center middle;"/>
        <Static id="Static25" text="W30" visible="false" position="absolute 353 31 383 121" style="background:#ff000055;align:center middle;"/>
        <Static id="Static27" text="W10" visible="false" position="absolute 920 40 930 61" style="background:#ff000055;align:center middle;"/>
        <Static id="Static28" text="W30" visible="false" position="absolute 575 40 605 113" style="background:#ff000055;align:center middle;"/>
        <Static id="Static29" text="W10" visible="false" position="absolute 457 66 467 87" style="background:#ff000055;align:center middle;"/>
        <Static id="Static30" text="W10" visible="false" position="absolute 457 92 468 113" style="background:#ff000055;align:center middle;"/>
        <Static id="Static16" text="W05." visible="false" position="absolute 27 87 1200 92" style="background:#ff000055;align:center middle;"/>
        <Static id="Static18" text="W30" visible="false" position="absolute 808 40 838 113" style="background:#ff000055;align:center middle;"/>
        <Static id="Static26" text="W10" visible="false" position="absolute 457 40 467 61" style="background:#ff000055;align:center middle;"/>
        <Static id="Static14" text="W10" visible="false" position="absolute 691 42 702 63" style="background:#ff000055;align:center middle;"/>
        <Static id="Static3" text="코     너" class="sta_WFSA_label" position="absolute 612 42 693 63"/>
        <Combo id="cbo_CORNER" taborder="42" innerdataset="ds_CORNER" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="20" position="absolute 701 42 808 63"/>
        <Combo id="cbo_HALL_CLASS" taborder="43" innerdataset="ds_UP_HALL_CLASS" codecolumn="CODE" datacolumn="CODE_NAME" displayrowcount="20" position="absolute 467 40 575 61"/>
        <Static id="Static1" text="식 당 군" class="sta_WFSA_label" position="absolute 386 40 467 61"/>
        <Grid id="Grid01" taborder="46" binddataset="ds_RecipeClass1" useinputpanel="false" position="absolute 218 945 899 1096" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="GROUP_NAME"/>
                <Cell col="1" disptype="normal" text="GROUP_CODE"/>
                <Cell col="2" disptype="normal" text="CODE"/>
                <Cell col="3" disptype="normal" text="CODE_NAME"/>
                <Cell col="4" disptype="normal" text="CONTENTS"/>
                <Cell col="5" disptype="normal" text="SORT_SEQ"/>
                <Cell col="6" disptype="normal" text="SYSTEM_YN"/>
                <Cell col="7" disptype="normal" text="SET1"/>
                <Cell col="8" disptype="normal" text="SET2"/>
                <Cell col="9" disptype="normal" text="SET3"/>
                <Cell col="10" disptype="normal" text="SET4"/>
                <Cell col="11" disptype="normal" text="SET5"/>
                <Cell col="12" disptype="normal" text="REMARK"/>
                <Cell col="13" disptype="normal" text="USE_YN"/>
                <Cell col="14" disptype="normal" text="ATTR01"/>
                <Cell col="15" disptype="normal" text="ATTR02"/>
                <Cell col="16" disptype="normal" text="ATTR03"/>
                <Cell col="17" disptype="normal" text="ATTR04"/>
                <Cell col="18" disptype="normal" text="ATTR05"/>
                <Cell col="19" disptype="normal" text="ATTR06"/>
                <Cell col="20" disptype="normal" text="ATTR07"/>
                <Cell col="21" disptype="normal" text="ATTR08"/>
                <Cell col="22" disptype="normal" text="ATTR09"/>
                <Cell col="23" disptype="normal" text="ATTR10"/>
                <Cell col="24" disptype="normal" text="CUSER"/>
                <Cell col="25" disptype="normal" text="CDATE"/>
                <Cell col="26" disptype="normal" text="UUSER"/>
                <Cell col="27" disptype="normal" text="UDATE"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:GROUP_NAME"/>
                <Cell col="1" disptype="normal" text="bind:GROUP_CODE"/>
                <Cell col="2" disptype="normal" text="bind:CODE"/>
                <Cell col="3" disptype="normal" text="bind:CODE_NAME"/>
                <Cell col="4" disptype="normal" text="bind:CONTENTS"/>
                <Cell col="5" disptype="normal" text="bind:SORT_SEQ"/>
                <Cell col="6" disptype="normal" text="bind:SYSTEM_YN"/>
                <Cell col="7" disptype="normal" text="bind:SET1"/>
                <Cell col="8" disptype="normal" text="bind:SET2"/>
                <Cell col="9" disptype="normal" text="bind:SET3"/>
                <Cell col="10" disptype="normal" text="bind:SET4"/>
                <Cell col="11" disptype="normal" text="bind:SET5"/>
                <Cell col="12" disptype="normal" text="bind:REMARK"/>
                <Cell col="13" disptype="normal" text="bind:USE_YN"/>
                <Cell col="14" disptype="normal" text="bind:ATTR01"/>
                <Cell col="15" disptype="normal" text="bind:ATTR02"/>
                <Cell col="16" disptype="normal" text="bind:ATTR03"/>
                <Cell col="17" disptype="normal" text="bind:ATTR04"/>
                <Cell col="18" disptype="normal" text="bind:ATTR05"/>
                <Cell col="19" disptype="normal" text="bind:ATTR06"/>
                <Cell col="20" disptype="normal" text="bind:ATTR07"/>
                <Cell col="21" disptype="normal" text="bind:ATTR08"/>
                <Cell col="22" disptype="normal" text="bind:ATTR09"/>
                <Cell col="23" disptype="normal" text="bind:ATTR10"/>
                <Cell col="24" disptype="normal" text="bind:CUSER"/>
                <Cell col="25" disptype="normal" text="bind:CDATE"/>
                <Cell col="26" disptype="normal" text="bind:UUSER"/>
                <Cell col="27" disptype="normal" text="bind:UDATE"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid00" taborder="47" binddataset="ds_RecipeClass" useinputpanel="false" position="absolute 224 767 905 918" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="GROUP_NAME"/>
                <Cell col="1" disptype="normal" text="GROUP_CODE"/>
                <Cell col="2" disptype="normal" text="CODE"/>
                <Cell col="3" disptype="normal" text="CODE_NAME"/>
                <Cell col="4" disptype="normal" text="CONTENTS"/>
                <Cell col="5" disptype="normal" text="SORT_SEQ"/>
                <Cell col="6" disptype="normal" text="SYSTEM_YN"/>
                <Cell col="7" disptype="normal" text="SET1"/>
                <Cell col="8" disptype="normal" text="SET2"/>
                <Cell col="9" disptype="normal" text="SET3"/>
                <Cell col="10" disptype="normal" text="SET4"/>
                <Cell col="11" disptype="normal" text="SET5"/>
                <Cell col="12" disptype="normal" text="REMARK"/>
                <Cell col="13" disptype="normal" text="USE_YN"/>
                <Cell col="14" disptype="normal" text="ATTR01"/>
                <Cell col="15" disptype="normal" text="ATTR02"/>
                <Cell col="16" disptype="normal" text="ATTR03"/>
                <Cell col="17" disptype="normal" text="ATTR04"/>
                <Cell col="18" disptype="normal" text="ATTR05"/>
                <Cell col="19" disptype="normal" text="ATTR06"/>
                <Cell col="20" disptype="normal" text="ATTR07"/>
                <Cell col="21" disptype="normal" text="ATTR08"/>
                <Cell col="22" disptype="normal" text="ATTR09"/>
                <Cell col="23" disptype="normal" text="ATTR10"/>
                <Cell col="24" disptype="normal" text="CUSER"/>
                <Cell col="25" disptype="normal" text="CDATE"/>
                <Cell col="26" disptype="normal" text="UUSER"/>
                <Cell col="27" disptype="normal" text="UDATE"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:GROUP_NAME"/>
                <Cell col="1" disptype="normal" text="bind:GROUP_CODE"/>
                <Cell col="2" disptype="normal" text="bind:CODE"/>
                <Cell col="3" disptype="normal" text="bind:CODE_NAME"/>
                <Cell col="4" disptype="normal" text="bind:CONTENTS"/>
                <Cell col="5" disptype="normal" text="bind:SORT_SEQ"/>
                <Cell col="6" disptype="normal" text="bind:SYSTEM_YN"/>
                <Cell col="7" disptype="normal" text="bind:SET1"/>
                <Cell col="8" disptype="normal" text="bind:SET2"/>
                <Cell col="9" disptype="normal" text="bind:SET3"/>
                <Cell col="10" disptype="normal" text="bind:SET4"/>
                <Cell col="11" disptype="normal" text="bind:SET5"/>
                <Cell col="12" disptype="normal" text="bind:REMARK"/>
                <Cell col="13" disptype="normal" text="bind:USE_YN"/>
                <Cell col="14" disptype="normal" text="bind:ATTR01"/>
                <Cell col="15" disptype="normal" text="bind:ATTR02"/>
                <Cell col="16" disptype="normal" text="bind:ATTR03"/>
                <Cell col="17" disptype="normal" text="bind:ATTR04"/>
                <Cell col="18" disptype="normal" text="bind:ATTR05"/>
                <Cell col="19" disptype="normal" text="bind:ATTR06"/>
                <Cell col="20" disptype="normal" text="bind:ATTR07"/>
                <Cell col="21" disptype="normal" text="bind:ATTR08"/>
                <Cell col="22" disptype="normal" text="bind:ATTR09"/>
                <Cell col="23" disptype="normal" text="bind:ATTR10"/>
                <Cell col="24" disptype="normal" text="bind:CUSER"/>
                <Cell col="25" disptype="normal" text="bind:CDATE"/>
                <Cell col="26" disptype="normal" text="bind:UUSER"/>
                <Cell col="27" disptype="normal" text="bind:UDATE"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_input" oncolumnchanged="ds_input_OnColumnChanged">
        <ColumnInfo>
          <Column id="JOB_CD" size="256" type="STRING"/>
          <Column id="SUB_JOB" size="256" type="STRING"/>
          <Column id="UPJANG" size="256" type="STRING"/>
          <Column id="UPJANG_NM" size="256" type="STRING"/>
          <Column id="HALL_CLASS" size="256" type="STRING"/>
          <Column id="MEAL" size="256" type="STRING"/>
          <Column id="CORNER" size="256" type="STRING"/>
          <Column id="RECIPE_CLASS" size="256" type="STRING"/>
          <Column id="RECIPE_TYPE" size="256" type="STRING"/>
          <Column id="CUISINE_TYPE" size="256" type="STRING"/>
          <Column id="RECIPE_NAME" size="256" type="STRING"/>
          <Column id="FROM_MENU_DATE" size="256" type="STRING"/>
          <Column id="TO_MENU_DATE" size="256" type="STRING"/>
          <Column id="FROM_DT" size="256" type="STRING"/>
          <Column id="TO_DT" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_JOB"/>
      <Dataset id="ds_SUB_JOB"/>
      <Dataset id="ds_UP_HALL_CLASS"/>
      <Dataset id="ds_MEAL2">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_CORNER2">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_MEAL1">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_CORNER1">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_CORNER">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_MEAL">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_RecipeClass">
        <ColumnInfo>
          <Column id="GROUP_NAME" type="STRING" size="100"/>
          <Column id="GROUP_CODE" type="STRING" size="50"/>
          <Column id="CODE" type="STRING" size="50"/>
          <Column id="CODE_NAME" type="STRING" size="500"/>
          <Column id="CONTENTS" type="STRING" size="300"/>
          <Column id="SORT_SEQ" type="BIGDECIMAL" size="39"/>
          <Column id="SYSTEM_YN" type="STRING" size="1"/>
          <Column id="SET1" type="STRING" size="100"/>
          <Column id="SET2" type="STRING" size="100"/>
          <Column id="SET3" type="STRING" size="100"/>
          <Column id="SET4" type="STRING" size="100"/>
          <Column id="SET5" type="STRING" size="100"/>
          <Column id="REMARK" type="STRING" size="300"/>
          <Column id="USE_YN" type="STRING" size="1"/>
          <Column id="ATTR01" type="STRING" size="300"/>
          <Column id="ATTR02" type="STRING" size="300"/>
          <Column id="ATTR03" type="STRING" size="300"/>
          <Column id="ATTR04" type="STRING" size="300"/>
          <Column id="ATTR05" type="STRING" size="300"/>
          <Column id="ATTR06" type="STRING" size="300"/>
          <Column id="ATTR07" type="STRING" size="300"/>
          <Column id="ATTR08" type="STRING" size="300"/>
          <Column id="ATTR09" type="STRING" size="300"/>
          <Column id="ATTR10" type="STRING" size="300"/>
          <Column id="CUSER" type="STRING" size="20"/>
          <Column id="CDATE" type="DATETIME" size="7"/>
          <Column id="UUSER" type="STRING" size="20"/>
          <Column id="UDATE" type="DATETIME" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_RecipeClass1">
        <ColumnInfo>
          <Column id="GROUP_NAME" type="STRING" size="100"/>
          <Column id="GROUP_CODE" type="STRING" size="50"/>
          <Column id="CODE" type="STRING" size="50"/>
          <Column id="CODE_NAME" type="STRING" size="500"/>
          <Column id="CONTENTS" type="STRING" size="300"/>
          <Column id="SORT_SEQ" type="BIGDECIMAL" size="39"/>
          <Column id="SYSTEM_YN" type="STRING" size="1"/>
          <Column id="SET1" type="STRING" size="100"/>
          <Column id="SET2" type="STRING" size="100"/>
          <Column id="SET3" type="STRING" size="100"/>
          <Column id="SET4" type="STRING" size="100"/>
          <Column id="SET5" type="STRING" size="100"/>
          <Column id="REMARK" type="STRING" size="300"/>
          <Column id="USE_YN" type="STRING" size="1"/>
          <Column id="ATTR01" type="STRING" size="300"/>
          <Column id="ATTR02" type="STRING" size="300"/>
          <Column id="ATTR03" type="STRING" size="300"/>
          <Column id="ATTR04" type="STRING" size="300"/>
          <Column id="ATTR05" type="STRING" size="300"/>
          <Column id="ATTR06" type="STRING" size="300"/>
          <Column id="ATTR07" type="STRING" size="300"/>
          <Column id="ATTR08" type="STRING" size="300"/>
          <Column id="ATTR09" type="STRING" size="300"/>
          <Column id="ATTR10" type="STRING" size="300"/>
          <Column id="CUSER" type="STRING" size="20"/>
          <Column id="CDATE" type="DATETIME" size="7"/>
          <Column id="UUSER" type="STRING" size="20"/>
          <Column id="UDATE" type="DATETIME" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_RecipeClass2">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_RECIPE_TYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_CUISINE_TYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_SUB_JOB1"/>
      <Dataset id="ds_UP_HALL_CLASS1"/>
    </Objects>
    <Bind>
      <BindItem id="cbo_HALL_CLASS_value" compid="cbo_HALL_CLASS" propid="value" datasetid="ds_input" columnid="HALL_CLASS"/>
      <BindItem id="cbo_CORNER_value" compid="cbo_CORNER" propid="value" datasetid="ds_input" columnid="CORNER"/>
      <BindItem id="med_TO_MENU_DATE_value" compid="med_TO_MENU_DATE" propid="value" datasetid="ds_input" columnid="TO_MENU_DATE"/>
      <BindItem id="med_FROM_MENU_DATE_value" compid="med_FROM_MENU_DATE" propid="value" datasetid="ds_input" columnid="FROM_MENU_DATE"/>
      <BindItem id="ed_RECIPE_NAME_value" compid="ed_RECIPE_NAME" propid="value" datasetid="ds_input" columnid="RECIPE_NAME"/>
      <BindItem id="cbo_CUISINE_TYPE_value" compid="cbo_CUISINE_TYPE" propid="value" datasetid="ds_input" columnid="CUISINE_TYPE"/>
      <BindItem id="cbo_RECIPE_TYPE_value" compid="cbo_RECIPE_TYPE" propid="value" datasetid="ds_input" columnid="RECIPE_TYPE"/>
      <BindItem id="cbo_RECIPE_CLASS_value" compid="cbo_RECIPE_CLASS" propid="value" datasetid="ds_input" columnid="RECIPE_CLASS"/>
      <BindItem id="cbo_MEAL_value" compid="cbo_MEAL" propid="value" datasetid="ds_input" columnid="MEAL"/>
      <BindItem id="me_TO_DT_value" compid="me_TO_DT" propid="value" datasetid="ds_input" columnid="TO_DT"/>
      <BindItem id="me_FROM_DT_value" compid="me_FROM_DT" propid="value" datasetid="ds_input" columnid="FROM_DT"/>
      <BindItem id="ed_UPJANG_NM_value" compid="ed_UPJANG_NM" propid="value" datasetid="ds_input" columnid="UPJANG_NM"/>
      <BindItem id="cbo_JOB_value" compid="cbo_JOB" propid="value" datasetid="ds_input" columnid="JOB_CD"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[/*
 ******************************************************************************************
 * 시스템구분   : 메뉴관리/레시피관리/레시피 통계
 * 프로그램명   : FSR00130V
 * 기      능   : 레시피 통계
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 * 비      고   : 
 * ----------------------------------------------------------------------------------------
 * HISTORY    : 박용대 2014-09-12 CH201409_00125 요청자:서비스1팀
 *              시스템 과부하로 인해 조회조건 15일로 제한
 ******************************************************************************************
 */
//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//=========================================================================================
include "U_lib::lib_conversionCom.xjs";
//@@컨버터에서 주석처리 #include "lib::sc_comon.js"
//@@컨버터에서 주석처리 #include "lib::tit_comm_0001.js"
//@@컨버터에서 주석처리 #include "lib::lib_comm_0001.js"
//@@컨버터에서 주석처리 #include "lib::sc_sql_common.js"
//@@컨버터에서 주석처리 #include "lib::fs_common.js"
//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================
var v_form_load = "N";
//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	if ( v_form_load == "Y" ) {
		return;
	} else {
		v_form_load = "Y";
	}
	
	gfn_formOnLoad(obj, false);
	
	// 업데이트 DS
	//v_ds_check = "ds_list";
	
	// X-Framework : Action 정보 생성 
	fsp_init(this);
	
	// 공통코드조회
	fn_InitSearch();
	
	// 초기값 셋팅
	var strDt = fn_CurrDateWeek();
	ds_input.setColumn(0,"FROM_MENU_DATE",SubStr(strDt,0,6)+"01");				// 일자
	ds_input.setColumn(0,"TO_MENU_DATE",SubStr(strDt,0,6)+GetLastDay(strDt));	// 일자
	ds_input.setColumn(0,"FROM_DT",'')
	ds_input.setColumn(0,"TO_DT",'')
	//콤보초기화
	gfn_initCombo(ds_input, "HALL_CLASS", cbo_HALL_CLASS);
	gfn_initCombo(ds_input, "MEAL", cbo_MEAL);
	gfn_initCombo(ds_input, "CORNER", cbo_CORNER);
	gfn_initCombo(ds_input, "RECIPE_CLASS", cbo_RECIPE_CLASS);
	gfn_initCombo(ds_input, "RECIPE_TYPE", cbo_RECIPE_TYPE);
	gfn_initCombo(ds_input, "CUISINE_TYPE", cbo_CUISINE_TYPE);
}

function frm_OnKeyDown(obj:Form, e:KeyEventInfo)
{
	gfn_formKeyDown(obj, e); //(obj,e.fromreferenceobject,e.keycode,e.shiftKey,e.ctrlKey,e.altKey,-1,-1);
}
//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,인쇄,도움말,form닫기)
//
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : fn_Search()
 * 기      능   : [조회버튼] 검색조건에 해당하는 정보를 조회
 ******************************************************************************************
 */
function fn_search()
{
	if(!fn_checkSearch())
	{
		return;
	}
	/*============================================================================================
	(2014-09-12 추가) 시작
	박용대 2014-09-12 CH201409_00125 요청자:서비스1팀
	
	조건없는 조회기간으로 인해 서버의 과부하 발생
	쿼리가 원인인지 확인하기 위해 잠시 막아놓았다가
	파트장님 승인을 받고 형광매니저의 지시로 조회기간 15일 이상 제한함.
	또 변경시에는 파트장님 승인을 득할 것!
	참고로 아직 이 쿼리가 서버 과부하의 원인인지 100% 확인되진 않음
	참고로 해당 쿼리는 tab3의 fn_Search()함수임.
	============================================================================================*/
	var nDiffDays = gfn_getDiffDay(med_FROM_MENU_DATE.value,med_TO_MENU_DATE.value);
	if (  nDiffDays > 30)
	{
		gfn_alert("용량 문제로 인해 조회기간을 30일 이상 제한합니다.");
		return;
	}
	/*============================================================================================
	(2014-09-12 추가) 끝
	============================================================================================*/

	if(tab_Main.tabindex == 0)			// 사용횟수
	{
		tab_Main.tab1.fn_search();
	}
	else if(tab_Main.tabindex == 1)		// 상품평균소요량
	{
		tab_Main.tab2.fn_search();
	}
	else								// 상품평균소요량(업장표준레시피)
	{
		tab_Main.tab3.fn_search();
	}
}
/*
 ******************************************************************************************
 * 함  수  명   : fn_Insert()
 * 기      능   : [입력버튼] 입력 시 처리되는 작업
 * 비      고	: 팝업사용
 ******************************************************************************************
 */
function fn_insert()
{
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Save()
 * 기      능   : [저장버튼] 저장 시 처리되는 작업
 ******************************************************************************************
 */
function fn_save()
{
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_close()
 * 기      능   : [닫기버튼] 화면을 닫을때 처리되는 작업
 ******************************************************************************************
 */
function fn_close()
{
	return true;
}
//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : fn_InitSearch()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 초기 공통코드조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function fn_InitSearch()
{
	
	// 공통코드 조회
	var v_fil_cond;
	var v_ds = fn_common_code("'FS0001','FS0002','FS0003','FS0019','FS0023','FS0022'","","","all","Y");
	
	// 끼니(ds_MEAL, GROUP_CODE : 'FS0023')
	v_fil_cond = "GROUP_CODE == 'FS0023'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_MEAL,v_ds.name);
	CopyF(ds_MEAL1,v_ds.name);
	
	// 코너(ds_CORNER, GROUP_CODE : 'FS0022')
	v_fil_cond = "GROUP_CODE == 'FS0022'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_CORNER,v_ds.name);
	CopyF(ds_CORNER1,v_ds.name);
	
	// 식당군(ds_CORNER, GROUP_CODE : 'FS0019')
	v_fil_cond = "GROUP_CODE == 'FS0019'";
	v_ds.filter(v_fil_cond);
	v_ds.deleteRow(12);	//  HMR 삭제
	CopyF(ds_UP_HALL_CLASS,v_ds.name);
	CopyF(ds_UP_HALL_CLASS1,v_ds.name);
	
	
	// 레시피분류(ds_RecipeClass, GROUP_CODE : 'FS0001')
	v_fil_cond = "GROUP_CODE == 'FS0001'  && SET1 != 'H'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_RecipeClass,v_ds.name);
	CopyF(ds_RecipeClass1,v_ds.name);
	
	// 레시피유형(ds_RECIPE_TYPE, GROUP_CODE : 'FS0002')
	v_fil_cond = "GROUP_CODE == 'FS0002'  && SET1 != 'Y'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_RECIPE_TYPE,v_ds.name);
	
	// 조리법유형(ds_CUISINE_TYPE, GROUP_CODE : 'FS0003')
	v_fil_cond = "GROUP_CODE == 'FS0003'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_CUISINE_TYPE,v_ds.name);
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_SearchCommon(sqlId,inDS,outDS,otherArg)
 * 입      력   : sqlId = 실행할 sqlID
				  inDS	= input DS
				  outDS	= out DS
				  otherArg = arg
 * 반      환   : 없음
 * 기      능   : 코드조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function fn_SearchCommon(sqlId,inDS,outDS,otherArg)
{
	fsp_clear(this);
	fsp_addSearch(this, sqlId);
	http.Sync = true;
	fsp_callService(this, "", "", inDS, outDS ,otherArg, "");
	http.Sync = false;
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_SearchCheck()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 조회시 필수조회조건 체크
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function fn_SearchCheck()
{
	// 기간 - from
	if (gfn_length(ds_in.getColumn(0,"FROM_DT"))==0)
	{
		g_Message("EE", "기간을 입력하세요.");
		me_FROM_DT.setFocus();
		return false;
	}

	// 기간 -  to
	if (gfn_length(ds_in.getColumn(0,"TO_DT"))==0)
	{
		g_Message("EE", "기간을 입력하세요.");
		me_TO_DT.setFocus();
		return false;
	}

    return true;
}

//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 기요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : grd_List_OnHeadClick(obj,nCell,nX,nY,nPivotIndex)
 * 기      능   : 그리드헤드 더블클릭시 Sort
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function grd_OnHeadClick(obj,nCell,nX,nY,nPivotIndex)
{
	gfn_gridSort(obj, e); //(eval(obj.Binddataset), obj, nCell);
}

/*
 ******************************************************************************************
 * 함  수  명   : btn_upjang_OnClick(obj)
 * 기      능   : 팝업버튼 클릭 -> 사업장 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function btn_upjang_OnClick(obj:Button, e:ClickEventInfo)
{
	var strWhere;
		
	fn_sql_common_setup( "SELECT A.UPJANG, A.UPJANGNM FROM MAC_UPJANG_V A WHERE (1=1)"
						,strQuery_UpjangKeyField
						,strQuery_UpjangValueField
						,strQuery_UpjangKeyFieldNM
						,strQuery_UpjangValueFieldNM
						,""
						,""
						,strWhere
						,strQuery_UpjangCaption
						,strQuery_UpjangAllField
						);
	if(gds_sql_common.getColumn(0, "ret_code") != "")					
	{
		ds_input.setColumn(0,"UPJANG_NM",gds_sql_common.getColumn(0, "ret_name"));
		ds_input.setColumn(0,"UPJANG",gds_sql_common.getColumn(0, "ret_code"));
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Pop_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
 * 기      능   : 팝업edit키입력시
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function fn_Pop_OnKeyDown(obj, e:KeyEventInfo)
{
	if( e.keycode == 13 ) {
		if( gfn_length(gfn_trim(obj.value))== 0 ) {
			var objme = eval(obj.userdata);
			objme.click();
		}
	} else if( e.keycode == 46 ) {
		switch(obj.name) {
			case "ed_UPJANG_NM" :
				ds_input.setColumn(0, "UPJANG",    "");
				ds_input.setColumn(0, "UPJANG_NM", "");
				break;
			default :
				break;
		}
	}
}
/*
 ******************************************************************************************
 * 함  수  명   : tab_Main_OnChanged(obj,nOldIndex,nNewindex)
 * 기      능   : 텝변경시 조회조건 셋팅
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function tab_Main_OnChanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	var btp;
	
	if (e.postindex == 2)
	{
		btp = false;
	}
	else
	{
		btp = true;
	}
	
	med_FROM_MENU_DATE.enable = btp;
	btn_FROM_MENU_DATE.enable = btp;
	med_TO_MENU_DATE.enable = btp;
	btn_TO_MENU_DATE.enable = btp;
	cbo_MEAL.enable = btp;
	cbo_CORNER.enable = btp;
}

/*
 ******************************************************************************************
 * 함  수  명   : ds_input_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
 * 기      능   : 조회조건 변경시 조회조건 셋팅
 * 작  성  자   : 박지영
 * 작성  일자   : 2015-04-06
 ******************************************************************************************
 */
function ds_input_OnColumnChanged(obj:Dataset, e:DSColChangeEventInfo)
{
	if (e.columnid == "JOB_CD")	// 직군변경시
	{
		if (gfn_length(e.newvalue)==0)
		{
			Copy(ds_SUB_JOB,ds_SUB_JOB1);
			cbo_SubJob.index = 0;
		}
		else
		{
			//SUB 직군코드
			fn_sql_common("C", strMAQuery_MASUBJOB,"","AND JOB_CD = '" + e.newvalue + "'ORDER BY SUB_JOB_CD","",cbo_SubJob,-1,ds_SUB_JOB);
			ds_SUB_JOB.insertRow(0);
			ds_SUB_JOB.setColumn(0,"SUB_JOB_NAME","전체");
			cbo_SubJob.index = 0;
		}
	}
	/* FMM_MENU 조회 업장 검색(O)   FSA_HALL_MST 조회된 업장이 존재하지 않아 ds_RecipeClass값이 없어 그래프 목록이 안보임
	if (e.columnid == "UPJANG")	// 사업장변경시
	{
		if (gfn_length(e.newvalue)==0)
		{
			Copy(ds_UP_HALL_CLASS,ds_UP_HALL_CLASS1);
			Copy(ds_MEAL,ds_MEAL1);
			Copy(ds_CORNER,ds_CORNER1);
			Copy(ds_RecipeClass,ds_RecipeClass1);
		}
		else
		{
			fn_SearchCommon("fs/fsc:FSC_UPJANG_HALL_CLASS_S001","","ds_UP_HALL_CLASS=ds_UP_HALL_CLASS","BLANK='A' UPJANG='" + e.newvalue + "'");
			fn_SearchCommon("fs/fsc:FSA_HALL_DTL_S001","","ds_MEAL=gds_Csqlout","nullyn='N' UPJANG='" + e.newvalue + "'");
			fn_SearchCommon("fs/fsc:FSA_HALL_DTL_S003","","ds_CORNER=gds_Csqlout","nullyn='N' UPJANG='" + e.newvalue + "'");
			fn_SearchCommon("fs/fsc:FSA_UPJANG_RECIPE_LINK_S002","","ds_RecipeClass=gds_Csqlout","nullyn='N' UPJANG='" + e.newvalue + "'");
		}
	}
	*/
	
	if (e.columnid == "MEAL")	// 끼니변경시
	{
		var strWhere,strUpjang;
		
		strUpjang = ds_input.getColumn(e.row,"UPJANG");
		
		if (gfn_length(strUpjang)== 0)
		{
			Copy(ds_CORNER,ds_CORNER1);
		}
		else
		{
			strWhere += "nullyn='N'";
			strWhere += " UPJANG='" + strUpjang + "'";
			
			if (gfn_length(e.newvalue)!=0)
			{
				strWhere += " MEAL='" + e.newvalue + "'";
			}
			
			fn_SearchCommon("fs/fsc:FSA_HALL_DTL_S003","","ds_CORNER=gds_Csqlout",strWhere);
		}
	}
	
	if (e.columnid == "RECIPE_TYPE")	// 레시피유형변경시
	{
		if (gfn_length(e.newvalue)==0)
		{
			ds_CUISINE_TYPE.filter("");
		}
		else
		{
			ds_CUISINE_TYPE.filter("gfn_length(CODE)==0 || SET1==" + wrapQuote(e.newvalue));
		}
	}
}


 /******************************************************************************************
 * 기      능   : 조회조건 체크
 ******************************************************************************************/
function fn_checkSearch()
{
	if(ds_input.getColumn(0,"FROM_MENU_DATE").length == 0 || ds_input.getColumn(0,"TO_MENU_DATE").length == 0 )
	{
		g_Message("EE", "제공일은 필수 입니다.");
		return false;
	}
	if(ds_input.getColumn(0,"FROM_MENU_DATE") > ds_input.getColumn(0,"TO_MENU_DATE"))
	{
		g_Message("EE", "제공일 시작일이 종료일보다 큽니다.");
		return false;
	}
	if(ds_input.getColumn(0,"FROM_DT").length != 0 && ds_input.getColumn(0,"TO_DT").length == 0)
	{
		g_Message("EE", "레시피최초개발일 시작일이 있으면 종료일도 있어야 합니다.");
		return false;
	}
	if(ds_input.getColumn(0,"FROM_DT").length == 0 && ds_input.getColumn(0,"TO_DT").length != 0)
	{
		g_Message("EE", "레시피최초개발일 종료일이 있으면 시작일도 있어야 합니다.");
		return false;
	}
	if(ds_input.getColumn(0,"FROM_DT") > ds_input.getColumn(0,"TO_DT"))
	{
		g_Message("EE", "레시피최초개발일 시작일이 종료일보다 큽니다.");
		return false;
	}
	return true;
}
]]></Script>
  </Form>
</FDL>
