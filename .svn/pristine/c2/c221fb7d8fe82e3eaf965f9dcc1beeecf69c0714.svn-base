<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="../../../default_typedef.xml"/>
  <Form id="form" onkeydown="fn_form_OnKeyDown" onload="form_onload" titletext="구매신청내역" position="absolute 0 0 1252 725" scrollbars="none" onsize="form_onsize">
    <Layouts>
      <Layout>
        <Static id="Static29" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 97" anchor="left top right"/>
        <Grid binddataset="ds_grdList2" id="Grid0" useinputpanel="false" onheadclick="Grid0_OnHeadClick" taborder="16" usecontextmenu="true" useselcolor="true" position="absolute 0 482 1237 710" autofittype="col" anchor="all" class="grd_WF_LineNone" oncelldblclick="Grid0_oncelldblclick" onexpandup="Grid0_onexpandup" autoenter="select" cellsizingtype="col" tabstop="false">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="30" band="left"/>
                <Column size="80"/>
                <Column size="110"/>
                <Column size="60"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="47"/>
                <Column size="320"/>
                <Column size="320"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="23"/>
                <Row size="23"/>
              </Rows>
              <Band id="head">
                <Cell rowspan="2" displaytype="text" class="head_Excel"/>
                <Cell col="1" rowspan="2" displaytype="text" text="자재코드"/>
                <Cell col="2" colspan="4" displaytype="text" text="자재명" taborder="undefined"/>
                <Cell col="6" colspan="4" displaytype="text" text="규격" taborder="undefined"/>
                <Cell col="10" rowspan="2" text="D-Day" taborder="undefined"/>
                <Cell col="11" displaytype="text" text="창고(검수부서)"/>
                <Cell col="12" displaytype="text" text="진행상황"/>
                <Cell row="1" col="2" displaytype="text" text="확정일시"/>
                <Cell row="1" col="3" text="구매단위"/>
                <Cell row="1" col="4" text="면세/과세"/>
                <Cell row="1" col="5" text="입고일자"/>
                <Cell row="1" col="6" displaytype="text" text="단가"/>
                <Cell row="1" col="7" displaytype="text" text="신청수량"/>
                <Cell row="1" col="8" displaytype="text" text="발주수량"/>
                <Cell row="1" col="9" displaytype="text" text="신청금액"/>
                <Cell row="1" col="11" displaytype="text" text="납품업체"/>
                <Cell row="1" col="12" displaytype="text" text="비고(반려시 반려사유)"/>
              </Band>
              <Band id="body">
                <Cell rowspan="2" displaytype="text" style="align:center;background: ;" expr="expr:currow+1"/>
                <Cell col="1" rowspan="2" displaytype="text" style="align:center;padding:0 5 0 5;background: ;" text="bind:ITEM_CODE"/>
                <Cell col="2" colspan="4" displaytype="normal" edittype="expr:IMG_YN == 'Y' ? 'expand' : 'none'" style="align:left middle;padding:EXPR(expr:gfn_isNull(FEATURE_NAME) ? '0 0 0 5' : '0 0 0 46');backgroundimage:EXPR(FEATURE_NAME);" text="bind:ITEM_NAME" taborder="undefined" expandshow="expr:IMG_YN == 'Y' ? 'show' : 'hide'" expandsize="24" expandimage="URL('theme://Images/new/grd_WF_Camerabtn.png')"/>
                <Cell col="6" colspan="4" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:ITEM_SIZE" taborder="undefined"/>
                <Cell col="10" rowspan="2" text="bind:D_DAY" taborder="undefined"/>
                <Cell col="11" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:SUBINV_NAME"/>
                <Cell col="12" displaytype="combo" style="align:left;padding:0 5 0 5;background: ;" text="bind:LINE_STATUS" combodataset="ds_line_status" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell row="1" col="2" displaytype="text" style="align:center;padding:0 5 0 5;" text="bind:PR_TIME"/>
                <Cell row="1" col="3" style="background: ;" text="bind:PO_UOM"/>
                <Cell row="1" col="4" displaytype="normal" style="background: ;" text="bind:TAX_CODE"/>
                <Cell row="1" col="5" displaytype="date" style="background: ;" text="bind:NEED_DATE"/>
                <Cell row="1" col="6" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:MARGIN_PRICE" mask="#,##0.##"/>
                <Cell row="1" col="7" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:PR_QTY" mask="#,##0.##"/>
                <Cell row="1" col="8" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:PO_QTY" mask="#,##0.##"/>
                <Cell row="1" col="9" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:MARGIN_PR_PRICE" mask="#,##0.##"/>
                <Cell row="1" col="11" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:CUSTNM"/>
                <Cell row="1" col="12" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:PR_REMARK"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid scrollbars="autoboth" binddataset="ds_grdList1" cellsizingtype="both" enable="true" id="Grid1" useinputpanel="false" oncelldblclick="Grid1_OnCellDblClick" onheadclick="Grid0_OnHeadClick" taborder="13" tabstop="false" usecontextmenu="true" useselcolor="true" visible="true" wheelscrollrow="1" position="absolute 0 128 1237 407" readonly="true" selecttype="row" autofittype="col" anchor="left top right" autoenter="select" class="grd_WF_LineNone">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="30" band="left"/>
                <Column size="100"/>
                <Column size="80"/>
                <Column size="150"/>
                <Column size="200"/>
                <Column size="94"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="70"/>
                <Column size="150"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="23"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text" class="head_Excel"/>
                <Cell col="1" displaytype="text" text="구매신청번호"/>
                <Cell col="2" displaytype="text" text="신청일자"/>
                <Cell col="3" displaytype="text" text="사업장"/>
                <Cell col="4" displaytype="text" text="제목"/>
                <Cell col="5" displaytype="text" text="구매유형"/>
                <Cell col="6" displaytype="text" text="구매금액"/>
                <Cell col="7" displaytype="text" text="부가세"/>
                <Cell col="8" displaytype="text" text="구매총액"/>
                <Cell col="9" displaytype="text" text="진행상황"/>
                <Cell col="10" displaytype="text" text="입고처"/>
                <Cell col="11" displaytype="text" text="입고일"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" style="align:center;background: ;" expr="expr:currow+1"/>
                <Cell col="1" displaytype="text" edittype="readonly" style="align:center;padding:0 5 0 5;background: ;" text="bind:PR_NUM"/>
                <Cell col="2" displaytype="date" style="align:center;padding:0 5 0 5;background: ;" text="bind:PR_DATE" calendardisplaynulltype="none"/>
                <Cell col="3" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:TM_CC_NM"/>
                <Cell col="4" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:TITLE"/>
                <Cell col="5" displaytype="combo" style="align:left;padding:0 5 0 5;background: ;" text="bind:PO_TYPE" combodataset="ds_cboPoType" combocodecol="PO_TYPE" combodatacol="PO_TYPE_NM"/>
                <Cell col="6" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:AMT" mask="#,##0.##"/>
                <Cell col="7" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:VAT" mask="#,##0.##"/>
                <Cell col="8" displaytype="number" style="align:right;padding:0 5 0 5;background: ;" text="bind:TOT" mask="#,##0.##"/>
                <Cell col="9" displaytype="combo" style="align:center;padding:0 5 0 5;background: ;" text="bind:LINE_STATUS" combodataset="ds_line_status" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell col="10" displaytype="text" style="align:left;padding:0 5 0 5;background: ;" text="bind:SUBINV_NAME"/>
                <Cell col="11" displaytype="date" style="align:center;padding:0 5 0 5;background: ;" text="bind:NEED_DATE" calendardisplaynulltype="none"/>
              </Band>
              <Band id="summary">
                <Cell displaytype="text" style="align:right;padding:0 50 0 0;" text="합   계" taborder="undefined"/>
                <Cell col="1" colspan="5" displaytype="text" style="align:right;padding:0 50 0 0;" text="합   계" taborder="undefined"/>
                <Cell col="6" displaytype="number" style="align:right;" expr="expr:ds_grdList1.getSum(&quot;AMT&quot;)" mask="#,##0.##"/>
                <Cell col="7" displaytype="number" style="align:right;" expr="expr:ds_grdList1.getSum(&quot;VAT&quot;)" mask="#,##0.##"/>
                <Cell col="8" displaytype="number" style="align:right;" expr="expr:ds_grdList1.getSum(&quot;TOT&quot;)" mask="#,##0.##"/>
                <Cell col="9" colspan="3" displaytype="text" style="align:left;" taborder="undefined"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_Print1" onclick="btn_Print1_OnClick" taborder="9" text="신청서(건별)" position="absolute 1043 102 1139 123" class="btn_WF_Print" image="" anchor="top right" tabstop="false"/>
        <Button id="btn_Print2" onclick="btn_Print2_OnClick" taborder="10" text="신청서(일별)" position="absolute 1141 102 1237 123" class="btn_WF_Print" image="" anchor="top right" tabstop="false"/>
        <Button id="btn_Print3" onclick="btn_Print3_OnClick" taborder="11" text="거래명세서(중고업장)" position="absolute 1269 76 1412 97" class="btn_WF_Print" image="" anchor="top right" visible="false"/>
        <Button id="btn_Print4" onclick="btn_Print4_OnClick" taborder="12" text="업장검수서(중고업장)" position="absolute 1414 76 1557 97" class="btn_WF_Print" image="" anchor="top right" visible="false"/>
        <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 123 1170 128"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static13" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 30 15 97" anchor="left top"/>
        <Static id="Static09" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 363 40 393 61" anchor="left top"/>
        <Static id="st_UPJANG" text="사업장" class="sta_WFSA_label" position="absolute 393 40 466 61" anchor="left top" userdata=""/>
        <Static id="Static14" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 608 40 618 61" anchor="left top"/>
        <Static id="Static17" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 682 40 712 61" anchor="left top"/>
        <Static id="Static18" text="구매유형" class="sta_WFSA_label" position="absolute 716 40 786 61" anchor="left top"/>
        <Static id="Static19" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 945 40 955 61" anchor="left top"/>
        <Static id="Static20" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 363 66 393 87" anchor="left top"/>
        <Static id="Static8" text="~" position="absolute 256 70 264 83"/>
        <Button id="btn_ToDate" onclick="g_CalButton_OnClick" taborder="15" tabstop="false" userdata="cal_dtTo" position="absolute 342 66 363 87" class="btn_WF_calEssential" text="" image=""/>
        <MaskEdit id="cal_dtTo" mask="####-##-##" oneditclick="g_Date_OnFocus" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" taborder="5" tooltiptext="제공종료일" type="string" position="absolute 269 66 343 87" class="msk_WF_Essential" autoselect="true"/>
        <Button id="btn_FromDate" onclick="g_CalButton_OnClick" taborder="14" tabstop="false" userdata="cal_dtFr" position="absolute 230 66 251 87" class="btn_WF_calEssential" text="" image=""/>
        <MaskEdit id="cal_dtFr" mask="####-##-##" oneditclick="g_Date_OnFocus" onsetfocus="g_Date_OnFocus" onkillfocus="g_Date_OnKillFocus" taborder="4" tooltiptext="제공시작일" type="string" position="absolute 157 66 231 87" class="msk_WF_Essential" autoselect="true"/>
        <Radio id="rdo_dateType" index="0" taborder="7" tabstop="false" value="0" position="absolute 14 67 149 88" codecolumn="codecolumn" datacolumn="datacolumn" columncount="2">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">0</Col>
                <Col id="datacolumn">신청일</Col>
              </Row>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">입고일</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Combo codecolumn="PO_TYPE" datacolumn="PO_TYPE_NM" id="cbo_poType" imemode="native" innerdataset="@ds_cboPoType" type="filter" taborder="3" position="absolute 783 40 955 61" readonly="false"/>
        <CheckBox id="chk_deptType" onclick="chk_deptType_OnClick" taborder="8" text="검수부서" value="false" position="absolute 716 67 813 88"/>
        <Static id="Static03" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 469 1330 482" anchor="left top"/>
        <Div id="Div00" taborder="17" text="Div00" position="absolute 0 428 1237 469" scrollbars="none" anchor="left top right">
          <Layouts>
            <Layout>
              <Static id="Static00" class="sta_WFSA_Labelbg01" position="absolute 0 0 1237 41" anchor="left top right"/>
              <Static id="Static22" text="신청번호" class="sta_WFSA_label01" position="absolute 16 10 78 31" anchor="left top"/>
              <Static id="Static02" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 1 0 94 10" anchor="left top"/>
              <Static id="Static25" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 1 31 94 41" anchor="left top"/>
              <Static id="Static26" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1 10 16 31" anchor="left top"/>
              <Static id="Static27" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 74 10 84 31" anchor="left top"/>
              <Static id="Static28" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 497 10 527 31" anchor="left top"/>
              <Static id="Static29" text="구매유형" class="sta_WFSA_label01" position="absolute 246 10 308 31" anchor="left top"/>
              <Static id="Static30" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 319 10 329 31" anchor="left top"/>
              <Static id="Static32" text="신청자" class="sta_WFSA_label01" position="absolute 733 10 795 31" anchor="left top"/>
              <Static id="Static33" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 770 10 780 31" anchor="left top"/>
              <Static id="Static34" text="신청일" class="sta_WFSA_label01" position="absolute 527 10 589 31" anchor="left top"/>
              <Static id="Static35" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 573 10 583 31" anchor="left top"/>
              <Static id="Static36" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 703 10 733 31" anchor="left top"/>
              <Static id="Static38" text="신청금액" class="sta_WFSA_label01" position="absolute 954 10 1016 31" anchor="left top"/>
              <Static id="Static39" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 1003 10 1013 31" anchor="left top"/>
              <Static id="Static40" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 916 10 946 31" anchor="left top"/>
              <Edit id="edt_pr_num" taborder="1" tabstop="false" readonly="true" position="absolute 84 10 216 32" tooltiptext="업장" anchor="default" style="padding:1 5 0 5;align:center middle; :disabled {padding:0 0 0 0;align:center middle;}" enable="false"/>
              <Edit id="edt_pr_user" taborder="4" tabstop="false" readonly="true" enable="false" position="absolute 788 10 924 32" tooltiptext="업장" anchor="default" style=":disabled {padding:0 0 0 0;align:center middle;}"/>
              <MaskEdit id="msk_pr_amt" taborder="5" mask="###,##0" enable="true" position="absolute 1021 10 1144 32" anchor="default" readonly="true"/>
              <Combo id="cbo_poType" taborder="8" innerdataset="@ds_cboPoType" codecolumn="PO_TYPE" datacolumn="PO_TYPE_NM" position="absolute 312 10 497 32" readonly="true" tabstop="false"/>
              <Static id="Static01" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 495 -417 525 -396" anchor="left top"/>
              <Static id="Static03" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 776 -841 806 -820" anchor="left top"/>
              <Static id="Static04" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 497 -414 527 -393" anchor="left top"/>
              <Calendar id="cal_pr_date" taborder="9" position="absolute 583 10 703 32" readonly="true" enable="false"/>
            </Layout>
          </Layouts>
        </Div>
        <Splitter id="sp_line" position="absolute 0 412 1237 422" type="vertical" min="187" max="605" anchor="left top right" class="spt_WF_2">
          <Formats>
            <Format id="default">
              <SplitterItems id="items">
                <SplitterItem id="item00" bindtype="resize" position="leftortop" offset="6" componentid="Grid1"/>
                <SplitterItem id="item01" bindtype="move" position="rightorbottom" offset="6" componentid="Div00"/>
                <SplitterItem id="item02" bindtype="resize" position="rightorbottom" offset="55" componentid="Grid0"/>
              </SplitterItems>
            </Format>
          </Formats>
        </Splitter>
        <UpjangSearchComponent id="edt_upjang" titletext="업장 검색용 Component" taborder="2" text="UpjangSearchComponent00" position="absolute 462 40 683 61" bindDataset="ds_input" bindUpjangCodeColumn="UPJANG" bindUpjangNameColumn="UPJANGNM" eventBeforeTrigger="" eventAfterTrigger="" roleSetId="ScoAuthLevel01" tooltiptext="입고업장"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="18" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30"/>
        <Static id="Static43" text="W10" visible="false" position="absolute 14 30 1237 40" style="background:#ff000055;align:center middle;"/>
        <Static id="Static44" text="W10" visible="false" position="absolute 14 87 1077 97" style="background:#ff000055;align:center middle;"/>
        <Static id="Static00" text="W05." visible="false" position="absolute 14 61 1223 66" style="background:#ff000055;align:center middle;"/>
        <Static id="Static25" text="사업부" class="sta_WFSA_label" position="absolute 15 41 85 62"/>
        <MuSearchComponent id="cbo_mu" titletext="사업부 선택 Component" taborder="0" text="MuSearchComponent00" position="absolute 69 40 183 61" bindDataset="ds_input" bindMuCdColumn="MU_CD" appendText="" onItemChangedEvent="fn_muChange" class="cmb_WF_Essential"/>
        <Static id="Static04" text="팀" class="sta_WFSA_label" position="absolute 213 40 233 61"/>
        <TmSearchComponent id="edt_tm" titletext="팀 검색용 Component" taborder="1" text="TmSearchComponent00" position="absolute 241 40 363 61" bindDataset="ds_input" bindTmCdColumn="TM_CD" bindTmNmColumn="" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChange" eventBeforeTrigger=""/>
        <Static id="Static01" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 231 40 241 61" anchor="left top"/>
        <Static id="Static02" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 183 40 213 61" anchor="left top"/>
        <Static id="Static10" text="h06" class="Guide01_AreaRed" visible="false" position="absolute 1088 97 1232 103" anchor="top right"/>
        <Static id="st_UPJANG00" text="진행상황" class="sta_WFSA_label" position="absolute 393 67 466 88" anchor="left top" userdata=""/>
        <Combo id="cbo_line_status" taborder="6" innerdataset="@ds_line_status" codecolumn="CODE" datacolumn="CODE_NAME" position="absolute 462 66 683 87" onkeydown="cbo_line_status_onkeydown"/>
        <Static id="Static22" text="구매신청집계" class="sta_WF_Title01" position="absolute 0 110 98 128"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_input" oncolumnchanged="ds_input_oncolumnchanged">
        <ColumnInfo>
          <Column id="MU_CD" type="STRING" size="256"/>
          <Column id="TM_CD" type="STRING" size="256"/>
          <Column id="LINE_STATUS" type="STRING" size="256"/>
          <Column id="DATE_TYPE" size="256" type="STRING"/>
          <Column id="START_DATE" size="256" type="STRING"/>
          <Column id="END_DATE" size="256" type="STRING"/>
          <Column id="UPJANG" size="256" type="STRING"/>
          <Column id="UPJANGNM" size="256" type="STRING"/>
          <Column id="DEPT_TYPE" size="256" type="STRING"/>
          <Column id="PR_NUM" size="256" type="STRING"/>
          <Column id="RC_DEPT_ID" size="256" type="STRING"/>
          <Column id="PO_TYPE" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="DATE_TYPE">0</Col>
            <Col id="DEPT_TYPE"/>
            <Col id="END_DATE"/>
            <Col id="PO_TYPE"/>
            <Col id="PR_NUM"/>
            <Col id="RC_DEPT_ID"/>
            <Col id="START_DATE"/>
            <Col id="UPJANG"/>
            <Col id="UPJANGNM"/>
            <Col id="LINE_STATUS"> </Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_grdList1">
        <ColumnInfo>
          <Column id="PR_NUM" type="string" size="18"/>
          <Column id="PR_DATE" type="string" size="8"/>
          <Column id="TM_CC_NM" type="string" size="100"/>
          <Column id="TITLE" type="string" size="544"/>
          <Column id="PO_TYPE" type="string" size="20"/>
          <Column id="AMT" type="bigdecimal" size="39"/>
          <Column id="VAT" type="bigdecimal" size="39"/>
          <Column id="TOT" type="bigdecimal" size="39"/>
          <Column id="CUUSER" type="string" size="69"/>
          <Column id="PR_DEPT_ID" type="string" size="10"/>
          <Column id="RC_TM_CC_NM" type="string" size="100"/>
          <Column id="NEED_DATE" type="string" size="8"/>
          <Column id="RC_DEPT_ID" type="string" size="18"/>
          <Column id="SUBINV_NAME" type="string" size="100"/>
          <Column id="LINE_STATUS" type="string" size="18"/>
          <Column id="PR_SABUN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_grdList2">
        <ColumnInfo>
          <Column id="LINE_STATUS" size="100" type="STRING"/>
          <Column id="CUSTNM" size="50" type="STRING"/>
          <Column id="ITEM_CODE" size="12" type="STRING"/>
          <Column id="ITEM_NAME" size="200" type="STRING"/>
          <Column id="ITEM_SIZE" size="100" type="STRING"/>
          <Column id="FEATURE_NAME" type="STRING" size="256"/>
          <Column id="MARGIN_PR_PRICE" size="22" type="BIGDECIMAL"/>
          <Column id="MARGIN_PRICE" size="22" type="BIGDECIMAL"/>
          <Column id="NEED_DATE" size="8" type="STRING"/>
          <Column id="PO_QTY" size="22" type="BIGDECIMAL"/>
          <Column id="PO_UOM" size="10" type="STRING"/>
          <Column id="PR_QTY" size="22" type="BIGDECIMAL"/>
          <Column id="PR_REMARK" size="300" type="STRING"/>
          <Column id="PR_TIME" size="16" type="STRING"/>
          <Column id="SCHOOL_YN" size="1" type="STRING"/>
          <Column id="SUBINV_NAME" size="160" type="STRING"/>
          <Column id="TAX_CODE" size="4" type="STRING"/>
          <Column id="SUBINV_CODE" size="256" type="STRING"/>
          <Column id="RC_UPJANG" size="256" type="STRING"/>
          <Column id="D_DAY" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboPoType">
        <ColumnInfo>
          <Column id="PO_TYPE" type="STRING" size="256"/>
          <Column id="PO_TYPE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_line_status" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GROUP_NAME" type="STRING" size="100"/>
          <Column id="GROUP_CODE" type="STRING" size="50"/>
          <Column id="CODE" type="STRING" size="50"/>
          <Column id="CODE_NAME" type="STRING" size="500"/>
          <Column id="CONTENTS" type="STRING" size="300"/>
          <Column id="SORT_SEQ" type="BIGDECIMAL" size="39"/>
          <Column id="SYSTEM_YN" type="STRING" size="1"/>
          <Column id="SET1" type="STRING" size="100"/>
          <Column id="SET2" type="STRING" size="100"/>
          <Column id="SET3" type="STRING" size="100"/>
          <Column id="SET4" type="STRING" size="100"/>
          <Column id="SET5" type="STRING" size="100"/>
          <Column id="REMARK" type="STRING" size="300"/>
          <Column id="USE_YN" type="STRING" size="1"/>
          <Column id="ATTR01" type="STRING" size="300"/>
          <Column id="ATTR02" type="STRING" size="300"/>
          <Column id="ATTR03" type="STRING" size="300"/>
          <Column id="ATTR04" type="STRING" size="300"/>
          <Column id="ATTR05" type="STRING" size="300"/>
          <Column id="ATTR06" type="STRING" size="300"/>
          <Column id="ATTR07" type="STRING" size="300"/>
          <Column id="ATTR08" type="STRING" size="300"/>
          <Column id="ATTR09" type="STRING" size="300"/>
          <Column id="ATTR10" type="STRING" size="300"/>
          <Column id="CUSER" type="STRING" size="20"/>
          <Column id="CDATE" type="DATETIME" size="7"/>
          <Column id="UUSER" type="STRING" size="20"/>
          <Column id="UDATE" type="DATETIME" size="7"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="chk_DEPT_TYPE_value" compid="chk_deptType" propid="value" datasetid="ds_input" columnid="DEPT_TYPE"/>
      <BindItem id="me_END_DATE_value" compid="cal_dtTo" propid="value" datasetid="ds_input" columnid="END_DATE"/>
      <BindItem id="me_START_DATE_value" compid="cal_dtFr" propid="value" datasetid="ds_input" columnid="START_DATE"/>
      <BindItem id="rdo_DATE_TYPE_value" compid="rdo_dateType" propid="value" datasetid="ds_input" columnid="DATE_TYPE"/>
      <BindItem id="item0" compid="cbo_poType" propid="value" datasetid="ds_input" columnid="PO_TYPE"/>
      <BindItem id="item2" compid="cbo_line_status" propid="value" datasetid="ds_input" columnid="LINE_STATUS"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[/*
 ***********************************************************************************************
 * 시스템구분   : 구매관리 / 신청관리 / 구매신쳥내역조회 
 * 프로그램명   : FSP00090V
 * 기      능   : 구매신청 내역 조회
 * 작  성  자   : 정영철
 * 작성  일자   : 2015-06-04
 * --------------------------------------------------------------------------------------------
 * HISTORY    :
 ***********************************************************************************************
 */
 
/***********************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/ 
include "U_lib::lib_conversionCom.xjs";

/***********************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/ 

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 로드시 이벤트
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(this);
	
	// action 정보 생성 초기화 
	fsp_init(this);
	
	//PO 정보호출
	fn_PoCommon();
	
	// 화면 초기화
	fn_init();
	
	// 사업부에 포커스
	cbo_mu.setFocus();

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 초기화 및 기본 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init()
{
	//Splitter00.max = this.getOwnerFrame().position.bottom - 85;	// 스플리터 Max 값 화면 사이즈에 맞혀서 셋팅
	
	// 날짜 세팅
	cal_dtFr.value   = fn_CurrDateWeek(); 
	cal_dtTo.value   = cal_dtFr.value;
		
	edt_tm.applyAuthLevel(cbo_mu);
	edt_upjang.applyAuthLevel(edt_tm);
	
	// 공통코드
	v_ds = fn_common_code("'FS0125','FM0037'","","","all", "Y");
	
	// 구매신청진행상황
	v_fil_cond = "GROUP_CODE == 'FM0037' && (SET1 == 'FS' || CODE_NAME == '전체')";
	v_ds.filter(v_fil_cond);
	CopyF(ds_line_status, v_ds.name);
	cbo_line_status.index = 0;
	
	ds_input.setColumn(0, "DEPT_TYPE"	, 0);
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*------------------------------------------------------------
	1. Function    : fn_search_poType()
	2. Description : 구매유형 조회
	3. Arguments   : none
	4. History     : 2008. 02. 04 - 최초작성
	                 2015. 06. 03 - 고도화
*------------------------------------------------------------*/
function fn_search_poType()
{
	var sSvcID;			// 서비스 ID
	var sUrl;			// jsp 경로
	var sInDs;			// 입력 데이터셋
	var sOutDs;			// 출력 데이터셋
	var sArg;			// 추가 파라미터
	var sCallFunc;		// 콜백함수명
	
	sSvcID    = "FSP00090V_S003";
	sUrl      = "U_svc::" + "fs/fsp/FSP00090V_S003.jsp";
	sInDs     = "";
	sOutDs    = "ds_cboPoType=ds_out";
	sCallFunc = "fn_search_callback";
	
	sArg = "MU_CD="+ ds_input.getColumn(0, "MU_CD");
	
	// 유효성 체크
	if(!fn_search_validation(sSvcID)){return false;}
	
	ds_cboPoType.clearData();
	
	// 트랜잭션
	Transaction(sSvcID,sUrl,sInDs,sOutDs,sArg,sCallFunc, false);	
}

/*------------------------------------------------------------
	1. Function    : fn_search()
	2. Description : 메인조회
	3. Arguments   : none
	4. History     : 2008. 02. 04 - 최초작성
	                 2015. 06. 03 - 고도화
*------------------------------------------------------------*/
function fn_search()
{
	var sSvcID;			// 서비스 ID
	var sUrl;			// jsp 경로
	var sInDs;			// 입력 데이터셋
	var sOutDs;			// 출력 데이터셋
	var sArg;			// 추가 파라미터
	var sCallFunc;		// 콜백함수명

	sSvcID		= "FSP00090V_S001";
	sUrl		= "U_svc::" + "fs/fsp/FSP00090V_S001.jsp";
	sInDs		= "ds_input=ds_input";
	sOutDs		= "ds_grdList1=ds_grdList1";
	sCallFunc	= "fn_search_callback";
	
	// 유효성 체크
	if(!fn_search_validation(sSvcID)){return false;}
	
	// 데이터셋초기화
	ds_grdList1.clearData();
	ds_grdList2.clearData();
	
	// 상세 헤더 초기화
	Div00.edt_pr_num.value  = "";
	Div00.cbo_poType.value = "";
	Div00.cal_pr_date.value = "";
	Div00.edt_pr_user.value = "";
	Div00.msk_pr_amt.value  = "";
	
	jsp_transaction(this, sSvcID, sUrl, sInDs, sOutDs, sArg, sCallFunc, true, false, false);
}

/*------------------------------------------------------------
	1. Function    : fn_search_detail()
	2. Description : 상세조회
	3. Arguments   : none
	4. History     : 2008. 02. 04 - 최초작성
	                 2015. 06. 03 - 고도화
*------------------------------------------------------------*/
function fn_search_detail()
{
	var sSvcID;			// 서비스 ID
	var sUrl;			// jsp 경로
	var sInDs;			// 입력 데이터셋
	var sOutDs;			// 출력 데이터셋 
	var sArg;			// 추가 파라미터
	var sCallFunc;		// 콜백함수명
	
	sSvcID		= "FSP00090V_S002";
	sUrl		= "U_svc::" + "fs/fsp/FSP00090V_S002.jsp";
	sInDs		= "ds_input=ds_input";
	sOutDs		= "ds_grdList2=ds_grdList2";
	sCallFunc	= "fn_search_callback";
	
	// 유효성 체크
	if(!fn_search_validation(sSvcID)){return false;}
	
	// 데이터셋초기화
	ds_grdList2.clearData();
	
	jsp_transaction(this, sSvcID, sUrl, sInDs, sOutDs, sArg, sCallFunc, true, false, false);
}

/*------------------------------------------------------------
	1. Function    : fn_search_callback(obj)
	2. Description : 조회 이벤트 콜백
	3. Arguments   : strSvcID, nErrorCode, strErrorMag
	4. History     : 2008. 02. 04 - 최초작성
	                 2015. 06. 03 - 고도화
*------------------------------------------------------------*/
function fn_search_callback(sSvcID, nErrorCode, sErrorMag)
{
	var msg = "";
	switch(sSvcID){
		
		case "FSP00090V_S003" :	// 구매유형
			var row = ds_cboPoType.insertRow(0);
			ds_cboPoType.setColumn(row, "PO_TYPE_NM", "전체");
			cbo_poType.index = 0;
			break;
			
		case "FSP00090V_S001" :	// 메인조회
			if(ds_grdList1.rowcount < 1)
			{
				g_Message("EE",'조회된 자료가 없습니다.');
				return;
			}
			break;
	}
}

/*------------------------------------------------------------
	1. Function    : fn_search_validation(obj)
	2. Description : 조회유효성체크
	3. Arguments   : strSvcID
	4. History     : 2008. 02. 04 - 최초작성
	                 2015. 06. 03 - 고도화
*------------------------------------------------------------*/
function fn_search_validation(strSvcID)
{
	switch(strSvcID)
	{
		case "FSP00030E_T004" :	// 구매유형 유효성 체크
			break;
			
		case "FSP00090V_S001" :	// 메인조회 유효성 체크
		case "FSP00090V_S002" : // 상세조회 유효성 체크
			
			if(!mfn_Chk_Obj_IsNotNull(cbo_mu.cbo_mu)){
				g_Message("EE", "사업부은(는) 필수 입력사항 입니다.");
				cbo_mu.cbo_mu.class = "cmb_WF_Error";
				cbo_mu.setFocus();
				return false;  	 	// 업장	
			}
			cbo_mu.cbo_mu.class = "cmb_WF_Essential";
			
// 			if(!mfn_Chk_Obj_IsNotNull(edt_upjang.edt_upjangCd)){
// 				g_Message("EE", "입고업장은(는) 필수 입력사항 입니다.");
// 				edt_upjang.setFocus();
// 				return false;  	 	// 업장	
// 			}
			if(!mfn_Chk_Obj_MustInput(cal_dtFr)) return false;  		// 시작일 	
			if(!mfn_Chk_Obj_MustInput(cal_dtTo)) return false; 			// 종료일
			if(!fn_dateBetweenCheck(cal_dtFr, cal_dtTo)) return false;	// 시작일 종료일 체크
			
			
			break;
	}

    return true;
}

/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수)
************************************************************************************************/ 

/*----------------------------------------------------------------------------------------------
 * 설명      : 닫기버튼 입력 시 처리되는 작업
 *---------------------------------------------------------------------------------------------*/
function fn_Close()
{

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말버튼 입력 시 처리되는 작업
 *---------------------------------------------------------------------------------------------*/
function fn_help()
{
}

/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 메인그리드 더블클릭시 상세 조회 이벤트
 *---------------------------------------------------------------------------------------------*/
function Grid1_OnCellDblClick(obj:Grid, e:GridClickEventInfo)
{
	// 조회값셋팅
	ds_input.setColumn(0,"PR_NUM"    , ds_grdList1.getColumn(e.row, "PR_NUM"));
	ds_input.setColumn(0,"RC_DEPT_ID", ds_grdList1.getColumn(e.row, "RC_DEPT_ID"));
	
	Div00.edt_pr_num.value  = ds_grdList1.getColumn(ds_grdList1.rowposition, "PR_NUM");
	Div00.cbo_poType.value  = ds_grdList1.getColumn(ds_grdList1.rowposition, "PO_TYPE");
	Div00.cal_pr_date.value = ds_grdList1.getColumn(ds_grdList1.rowposition, "PR_DATE");
	Div00.edt_pr_user.value = ds_grdList1.getColumn(ds_grdList1.rowposition, "PR_SABUN");
	Div00.msk_pr_amt.value  = ds_grdList1.getColumn(ds_grdList1.rowposition, "AMT");
	
	fn_search_detail();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 그리드 헤드 클릭시 정렬 이벤트
 *---------------------------------------------------------------------------------------------*/
function Grid0_OnHeadClick(obj:Grid, e:GridClickEventInfo)
{
	gfn_gridSort(obj, e); //(eval(obj.binddataset), obj, e.cell);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 부서체크박스 값 변경시 이벤트
 *---------------------------------------------------------------------------------------------*/
function chk_deptType_OnClick(obj:CheckBox, e:ClickEventInfo)
{
	if (obj.isChecked()=="0") {
		Grid1.setCellProperty("head",3,"text","사업장");
		Grid1.setCellProperty("body",3,"text","bind:TM_CC_NM");
	}
	else {
		Grid1.setCellProperty("head",3,"text","검수부서");
		Grid1.setCellProperty("body",3,"text","bind:RC_TM_CC_NM");
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신청서건별 출력 버튼 클릭시 이벤트
 *---------------------------------------------------------------------------------------------*/
function btn_Print1_OnClick(obj:Button, e:ClickEventInfo)
{
	if(ds_grdList2.getCountNF() <= 0)
	{
		g_Message("04"," ※ 구매신청 상세내역을 조회후 출력하세요!");
		return;
	}
	
	//레포트에 전달할 파라메터 생성
	var arrParams	= SCReport.newParams ();
	if( gfn_subStr(Div00.edt_pr_num.value,0,2) == "PO" ){
 		// 비식자재 구매신청서(건별) 출력
 		SCReport.setParams (arrParams, SCReport.RPT_NAME, "/IFIS/FSP00090V_R02.ozr");
 	} else 	{
		// 식자재 구매신청서(건별) 출력
		SCReport.setParams (arrParams, SCReport.RPT_NAME, "/IFIS/FSP00090V_R01.ozr");
	}
	
	//출력 옵션 설정
	//-창 타이틀 (디폴트는 "ReportViewer")
	SCReport.setParams (arrParams, SCReport.RPT_TITLE, "구매신청서");

	//레포트에 맞게 전달되는 개발자 정의 파라미터
	SCReport.setParams (arrParams, "PARAM1", Div00.edt_pr_num.value);
	
	SCReport.setParams (arrParams, "zoom", 150);
	//--------------------------------------------------
	SCReport.viewReport (this, arrParams);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신청서일별 출력 버튼 클릭시 이벤트
 *---------------------------------------------------------------------------------------------*/
function btn_Print2_OnClick(obj:Button, e:ClickEventInfo)
{
	if(ds_grdList2.getCountNF() <= 0)
	{
		g_Message("04"," ※ 구매신청 상세내역을 조회후 출력하세요!");
		return;
	}

	//레포트에 전달할 파라메터 생성
	var arrParams	= SCReport.newParams ();
	
	if( gfn_subStr(Div00.edt_pr_num.value,0,2) == "PO" ){
 		// 비식자재 구매신청서(일별) 출력
 		SCReport.setParams (arrParams, SCReport.RPT_NAME, "/IFIS/FSP00090V_R04.ozr");
 	} else 	{
		// 식자재 구매신청서(일별) 출력
		SCReport.setParams (arrParams, SCReport.RPT_NAME, "/IFIS/FSP00090V_R03.ozr");
	}
	
	//출력 옵션 설정
	//-창 타이틀 (디폴트는 "ReportViewer")
	SCReport.setParams (arrParams, SCReport.RPT_TITLE, "구매신청서");

	//레포트에 맞게 전달되는 개발자 정의 파라미터
	SCReport.setParams (arrParams, "PARAM1", Div00.edt_pr_num.value);
	
	SCReport.setParams (arrParams, "zoom", 150);
	//--------------------------------------------------
	SCReport.viewReport (this, arrParams);
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 거래명세서(중고업장) 출력 버튼 클릭시 이벤트
 *---------------------------------------------------------------------------------------------*/
function btn_Print3_OnClick(obj:Button, e:ClickEventInfo)
{
	if(ds_grdList2.getCountNF() <= 0){
		g_Message("04"," ※ 구매신청 상세내역을 조회후 출력하세요!");
		return;
	}
	
	if( gfn_subStr(ds_grdList2.getColumn(0,"ITEM_CODE"),0,2)!= "01" ){
		g_Message("04"," ※ 식자재에 한해 출력할 수 있습니다!");
		return;
	}
	
	if(!g_Confirm("02", "발주확정 단계 이상의 자재만 출력가능합니다.\n출력하시겠습니까?!")) return;	
	
	var strParam;
	
	var strParam="";
	strParam = "IFIS/oz.asp?title=거래명세서(중고업장)";       	//페이지 상단 타이틀

	strParam += "&url=IFIS/FSP00090V_거래명세서_중고업장.ozr";            	//OZ출력물 파일명

	strParam += "&cnt=3";                          //파라메터 갯수 
	strParam += "&p1=" 		+ ds_grdList2.getColumn(0,"RC_UPJANG");               
	strParam += "&p2=" 		+ ds_grdList2.getColumn(0,"SUBINV_CODE");   
	strParam += "&p3=" 		+ ds_grdList2.getColumn(0,"NEED_DATE");       	
	strParam += "&zoom=150";                        // 화면 출력 크기                   
	var args = {fstrParam:strParam};
	gfn_dialog("", "U_SCC::SCCOZREPORT1.xfdl",args);		
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 업장검수서(중고업장) 출력 버튼 클릭시 이벤트
 *---------------------------------------------------------------------------------------------*/
function btn_Print4_OnClick(obj:Button, e:ClickEventInfo)
{
	if(ds_grdList2.getCountNF() <= 0)
	{
		g_Message("04"," ※ 구매신청 상세내역을 조회후 출력하세요!");
		return;
	}
	
	if( gfn_subStr(ds_grdList2.getColumn(0,"ITEM_CODE"),0,2)!= "01" )
	{
		g_Message("04"," ※ 식자재에 한해 출력할 수 있습니다!");
		return;
	}
	
	if(!g_Confirm("02", "배송중 단계 이상의 자재만 출력가능합니다.\n출력하시겠습니까?!")) return;	
	
	var strParam;
	
	var strParam="";
	strParam = "IFIS/oz.asp?title=업장검수서(중고업장)";       	//페이지 상단 타이틀

	strParam += "&url=IFIS/FSP00090V_업장검수서_중고업장.ozr";            	//OZ출력물 파일명

	strParam += "&cnt=2";                          //파라메터 갯수 
	strParam += "&p1=" 		+ ds_grdList2.getColumn(0,"NEED_DATE");               
	strParam += "&p2=" 		+ ds_grdList2.getColumn(0,"RC_UPJANG");   
	strParam += "&zoom=150";                        // 화면 출력 크기                   
	var args = {fstrParam:strParam};
	gfn_dialog("", "U_SCC::SCCOZREPORT1.xfdl",args);	
}

/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/
/*------------------------------------------------------------
	1. Function    : fn_dateBetweenCheck
	2. Description : 기간 달력 시작일 종료일 체크
	3. Arguments   : objFr-시작일 컴퍼넌트, objTo-종료일 컴퍼넌트
	4. History     : 2008. 02. 04 - 최초작성
	                 2015. 06. 03 - 고도화
*------------------------------------------------------------*/
function fn_dateBetweenCheck(objFr, objTo)
{
	var sDtFr = objFr.value;	// 시작일
	var sDtTo = objTo.value;	// 종료일
	
	if(sDtFr > sDtTo){
		gfn_alert("msg.err.validator.date.great", "");
		objTo.value = objFr.value;
		objFr.setFocus();
		return false;
	}
	return true;
}

function ds_input_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
	switch(e.columnid)
	{
		case "MU_CD" :
// 			edt_tm.applyAuthLevel(cbo_mu);
// 			edt_upjang.applyAuthLevel(edt_tm);
			fn_search_poType();
			break;
			
		case "TM_CD" :
			//edt_upjang.setUpjangCode("");
			break;
		
		case "LINE_STATUS" :
			// 진행상활별 필터 적용
			if(gfn_isNull(e.newvalue)){
				ds_grdList1.filter("");
			}else{
				ds_grdList1.filter("LINE_STATUS == '"+ e.newvalue +"'");
			}
			ds_grdList2.clearData();
			break;
		
	}
}


function fn_muChange(obj, event)
{
	edt_tm.setTmCode("");
	edt_upjang.setUpjangCode("");
}

function fn_tmChange(obj, data)
{
	edt_upjang.setUpjangCode("");
}

// 화면 사이즈 변경시 스플리터 최대값 최소값 변경
function form_onsize(obj:Form, e:SizeEventInfo)
{
	var nSpt  = sp_line.position.y;
	var nForm = this.position.bottom;
	
	if(nForm -85	 <  nSpt && nSpt > 153)
	{
		sp_line.position.y = nForm -85;
	}
	sp_line.max = this.position.bottom - 85;
	sp_line.min = 133;
}

function fn_form_OnKeyDown(obj:Form, e:KeyEventInfo)
{
	gfn_formKeyDown(obj, e);
}

function cbo_line_status_onkeydown(obj:Combo, e:KeyEventInfo)
{
	if ((e.keycode == 13)) fn_search();
}

// 구매시스템 자재상세팝업
function Grid0_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	SCSysIf.eprocPopup (SCSysIf.EPROC_ITEM_POPUP, this.ds_grdList2.getColumn(e.row, "ITEM_CODE"));
}

function Grid0_onexpandup(obj:Grid, e:GridMouseEventInfo)
{
	var sColumn = gfn_getCellColId(obj, e.col);
	
	if(sColumn == "ITEM_NAME")
	{
		gfn_dialog("", "U_FSP::FSP00000P.xfdl",{fv_itemCode: ds_grdList2.getColumn(e.row, "ITEM_CODE")}, "", "", "", "", "", "", "", "", true);
	}
}
]]></Script>
  </Form>
</FDL>
