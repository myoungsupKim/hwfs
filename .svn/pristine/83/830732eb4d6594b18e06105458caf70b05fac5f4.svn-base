<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="COMP_GUIDE_13" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="이벤트 진행정보관리(EventProcessInfoMgnt)" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom" onclick="Static71_onclick"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="8" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 71" anchor="left top right"/>
        <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 30 93 40" anchor="left top"/>
        <Static id="Static05" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 61 93 71" anchor="left top"/>
        <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 40 15 61" anchor="left top"/>
        <Static id="Static22" text="신청 목록" class="sta_WF_Title01" position="absolute 0 84 450 102" anchor="left top"/>
        <Static id="Static15" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 71 450 84" anchor="left top"/>
        <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 97 450 102" anchor="left top"/>
        <Static id="Static18" text="이벤트 신청" class="sta_WF_Title01" position="absolute 519 84 969 102" anchor="left top"/>
        <Static id="Static19" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 485 71 935 84" anchor="left top"/>
        <Static id="Static20" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 485 97 935 102" anchor="left top"/>
        <Static id="Static03" text="h06" class="Guide01_AreaRed" visible="false" position="absolute 1160 413 1238 419" anchor="top right"/>
        <Static id="Static10" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1160 440 1238 445" anchor="top right"/>
        <Static id="Static00" text="w10" onclick="Tab00_tabpage_Static07_onclick" class="Guide01_AreaRed" visible="false" position="absolute 508 144 519 711"/>
        <Div id="div_evntHdr" taborder="5" position="absolute 519 128 1237 183" style="border:1 solid #53606cff,1 solid #c3c3c3ff,1 solid #c3c3c3ff,1 solid #c3c3c3ff;" anchor="left top right">
          <Layouts>
            <Layout>
              <Static id="Static29" text="이벤트 제목" class="sta_WFDA_Label01" position="absolute -1 26 116 53" anchor="left top" style="align:center middle;"/>
              <Static id="Static00" class="sta_WFDA_Labelbg" position="absolute 115 0 232 27" anchor="left top"/>
              <Static id="Static01" class="sta_WFDA_Labelbg" position="absolute 115 26 716 53" anchor="left top right"/>
              <Edit id="edt_evntTitle" taborder="5" class="edt_WF_Essential" position="absolute 259 29 713 50" anchor="left top right"/>
              <Static id="Static68" text="분류" class="sta_WFDA_Label01" position="absolute -1 0 116 27" anchor="left top" style="align:center middle;"/>
              <Static id="Static23" text="테마" class="sta_WFDA_Label01" position="absolute 231 0 313 27" anchor="left top" style="align:center middle;" onclick="Div00_Static23_onclick"/>
              <Combo id="cbo_group" taborder="1" innerdataset="@ds_cboClass" codecolumn="mclassCd" datacolumn="mclassNm" class="cmb_WF_Essential" text="FUN" index="-1" onitemchanged="cbo_group_onitemchanged" anchor="default" position="absolute 118 3 229 24" positiontype="position"/>
              <Static id="Static20" class="sta_WFDA_Labelbg" position="absolute 312 0 459 27" anchor="left top right"/>
              <Combo id="cbo_theme" taborder="2" innerdataset="@ds_cboTheme" codecolumn="sclassCd" datacolumn="sclassNm" class="cmb_WF_Essential" position="absolute 315 3 456 24" index="-1" anchor="left top right"/>
              <Static id="Static19" class="sta_WFDA_Labelbg" position="absolute 539 0 716 27" anchor="top right"/>
              <Static id="Static04" text="추천시기" class="sta_WFDA_Label01" position="absolute 458 0 540 27" anchor="top right" style="align:center middle;"/>
              <Button id="btn_eventNm" taborder="0" text="이벤트Master조회" class="btn_WF_P" position="absolute 118 29 257 50" anchor="left top" onclick="div_evntHdr_btn_eventNm_onclick" style="background:moccasin;color:blue;font:Gulim,9,bold;"/>
              <ObjCalMonth id="cal_fromYymm" anchor="top right" titletext="월력" taborder="6" scrollbars="none" position="absolute 542 3 620 24"/>
              <Static id="sta_calYymm" text="~" position="absolute 623 3 632 25" anchor="top right"/>
              <ObjCalMonth id="cal_toYymm" anchor="top right" titletext="월력" taborder="7" scrollbars="none" position="absolute 635 3 713 24"/>
            </Layout>
          </Layouts>
        </Div>
        <Grid id="grd_list" taborder="4" binddataset="ds_list" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 0 102 508 710" anchor="left top bottom" treeuseexpandkey="true" autofittype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="75"/>
                <Column size="100"/>
                <Column size="238"/>
                <Column size="60"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell colspan="3" text="이    벤    트" taborder="undefined"/>
                <Cell col="3" rowspan="2" text="진행상태" taborder="undefined"/>
                <Cell row="1" text="분류"/>
                <Cell row="1" col="1" style="background: ;" text="테마"/>
                <Cell row="1" col="2" text="이벤트명"/>
              </Band>
              <Band id="body">
                <Cell displaytype="normal" style="align:center;background:#ffffffff;background2:#ffffff;" text="bind:mclassNm" suppress="1"/>
                <Cell col="1" displaytype="normal" style="align:center;background:#ffffffff;background2:#ffffff;" text="bind:sclassNm" suppress="2"/>
                <Cell col="2" displaytype="normal" style="align:left;background:#ffffffff;background2:#ffffff;" text="bind:evntTitle" suppress="0"/>
                <Cell col="3" displaytype="normal" edittype="none" style="background:#ffffffff;background2:#ffffff;" text="bind:signStatusNm" suppress="0"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Div id="div_evntDtl" taborder="6" style="border:1 solid #53606cff,1 solid #c3c3c3ff,1 solid #c3c3c3ff,1 solid #c3c3c3ff;" position="absolute 519 181 1237 413" anchor="all">
          <Layouts>
            <Layout>
              <Static id="Static24" text="컨셉 설명" class="sta_WFDA_Label01" position="absolute 0 60 117 130" anchor="left top" style="align:center middle;"/>
              <Static id="Static22" class="sta_WFDA_Labelbg" position="absolute 115 -1 716 61" anchor="left top right"/>
              <Static id="Static05" text="제공 메뉴" class="sta_WFDA_Label01" position="absolute -1 -6 116 61" anchor="left top" style="align:center middle;"/>
              <Static id="Static03" class="sta_WFDA_Labelbg" position="absolute 117 61 718 130" anchor="left top right"/>
              <TextArea id="txa_cnptExpl" taborder="1" scrollbars="fixedvert" position="absolute 119 63 714 128" anchor="left top right" maxlength="2000" style="padding:3 3 3 3;"/>
              <Static id="Static00" class="sta_WFDA_Labelbg" position="absolute 115 129 232 156" anchor="left top"/>
              <ObjCalendar id="cal_progressDate" taborder="2" dateformat="yyyy-MM-dd" oneditclick="Div02_Calendar00_oneditclick" position="absolute 118 132 229 153" anchor="left top"/>
              <Static id="Static01" text="진행일자" class="sta_WFDA_Label01" position="absolute -1 129 116 156" anchor="left top" style="align:center middle;"/>
              <TextArea id="txa_offerMemu" taborder="3" scrollbars="fixedvert" position="absolute 117 1 712 60" anchor="left top right" maxlength="1000" style="padding:3 3 3 3;"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="div_evntTrsf" taborder="7" style="border:1 solid #53606cff,1 solid #c3c3c3ff,1 solid #c3c3c3ff,1 solid #c3c3c3ff;" position="absolute 519 445 1237 711" scrollbars="none" anchor="left right bottom">
          <Layouts>
            <Layout>
              <Edit id="Edit06" taborder="92" position="absolute 805 -400 965 -379" anchor="left top"/>
              <Static id="Static17" text="연락처" class="sta_WFDA_Label01" position="absolute -1 211 114 238" anchor="left top" style="align:center middle;"/>
              <Static id="Static18" text="주   소" class="sta_WFDA_Label01" position="absolute 304 211 419 264" anchor="left top" style="align:center middle;"/>
              <Static id="Static38" class="sta_WFDA_Labelbg" position="absolute 113 211 305 238" anchor="left top"/>
              <Static id="Static44" text="배송 방법" class="sta_WFDA_Label01" position="absolute -1 236 114 264" anchor="left top" style="align:center middle;"/>
              <Static id="Static46" class="sta_WFDA_Labelbg" position="absolute 113 237 218 264" anchor="left top"/>
              <Combo id="cbo_trsfMtod" taborder="3" innerdataset="ds_trsfMtod" codecolumn="groupCd" datacolumn="groupNm" class="btn_WF_cmb" position="absolute 116 240 214 261" anchor="default"/>
              <Static id="Static47" class="sta_WFDA_Labelbg" position="absolute 418 211 716 264" anchor="left right bottom"/>
              <Static id="Static01" class="sta_WFDA_Labelbg" position="absolute 216 237 305 264" anchor="left top"/>
              <Edit id="edt_trsfMtod" taborder="4" position="absolute 219 240 302 261" anchor="left top"/>
              <TelephoneComponent id="edt_cntc" titletext="전화번호Component(전화번호,휴대폰 번호-개인정보보안적용컴포넌트)" taborder="1" text="TelephoneComponent00" position="absolute 116 214 256 236" bindDataset="ds_eventReq" bindTelNo1Column="cntcNum1" bindTelNo2Column="cntcNum2" bindTelNo3Column="cntcNum3" anchor="default"/>
              <AddrSearchComponent id="AddrSearchComponent00" titletext="주소검색 Component" taborder="93" text="AddrSearchComponent00" position="absolute 422 216 712 259" bindDataset="ds_eventReq" isAutoDatasetRowChangedEvent="true" bindAddrColumn="addrInfo" eventBeforeTrigger="" eventAfterTrigger="" bindAddrKeyColumn="addrKey" isReadOnly="false" anchor="left right bottom"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static01" text="기기/기물 예약" class="sta_WF_Title01" position="absolute 519 426 969 444" anchor="left bottom"/>
        <Static id="Static12" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 519 413 969 426" anchor="left top"/>
        <Static id="Static13" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 519 440 969 445" anchor="left top"/>
        <Static id="Static28" text="이벤트명" class="sta_WFSA_label" position="absolute 717 40 779 61" anchor="left top"/>
        <Static id="Static21" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 775 40 785 61" anchor="left top"/>
        <Edit id="edt_eventNm" taborder="3" onkeydown="edt_eventNm_onkeydown" position="absolute 784 40 947 61" anchor="left top" enable="true"/>
        <Button id="btn_eventNm" taborder="68" tabstop="false" class="btn_WF_popSearch" position="absolute 946 40 967 61" onclick="btn_eventNm_onclick"/>
        <Static id="Static23" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 687 40 717 61" anchor="left top"/>
        <Static id="Static24" text="사업부" class="sta_WFSA_label" position="absolute 15 40 77 61" anchor="left top"/>
        <Static id="Static25" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 60 40 70 61" anchor="left top"/>
        <Static id="Static26" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 225 40 255 61" anchor="left top"/>
        <Static id="Static27" text="팀" class="sta_WFSA_label" position="absolute 255 40 317 61" anchor="left top"/>
        <Static id="Static29" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 274 40 284 61" anchor="left top"/>
        <Static id="Static30" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 441 40 471 61" anchor="left top"/>
        <Static id="Static31" text="사업장" class="sta_WFSA_label" position="absolute 472 40 534 61" anchor="left top"/>
        <Static id="Static32" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 518 40 528 61" anchor="left top"/>
        <Grid id="grd_progress" taborder="75" binddataset="ds_progress" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 519 338 877 410" anchor="all" autofittype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="116"/>
                <Column size="358"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="44"/>
              </Rows>
              <Band id="head">
                <Cell text="진행 절차" taborder="undefined"/>
                <Cell col="1" class="sta_WFDA_Label01" text="진 행 내 용"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" edittype="combo" style="align:left;" text="bind:progressPrcdrCd" editdisplay="edit" expandshow="hide" combodataset="ds_cboProgress" combocodecol="code" combodatacol="codeName" combodisplay="display"/>
                <Cell col="1" displaytype="text" edittype="textarea" style="align:left;" text="bind:progressPrcdrContents" editlimit="1000" editscrollbar="autovert" editdisplay="display" expandshow="hide" combodisplay="edit"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_insProgress" taborder="77" class="btn_WF_GrdPlus" position="absolute 838 318 856 338" anchor="top right" onclick="btn_insProgress_onclick"/>
        <Button id="btn_delProgress" taborder="78" class="btn_WF_GrdMinus" position="absolute 858 318 876 338" anchor="top right" onclick="btn_delProgress_onclick"/>
        <Grid id="grd_Machine" taborder="79" binddataset="ds_inforeg" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 519 577 1236 655" anchor="left right bottom" autofittype="col" onexpanddown="grd_Machine_onexpanddown">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="60"/>
                <Column size="90"/>
                <Column size="160"/>
                <Column size="100"/>
                <Column size="65"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="기물분류" taborder="undefined"/>
                <Cell col="1" class="sta_WFDA_Label01" text="종류"/>
                <Cell col="2" text="기기/기물명"/>
                <Cell col="3" text="현 재고수량"/>
                <Cell col="4" text="신청수량"/>
                <Cell col="5" text="사용시작일"/>
                <Cell col="6" text="사용종료일"/>
                <Cell col="7" text="반납일자"/>
              </Band>
              <Band id="body">
                <Cell displaytype="combo" style="align:center middle;" text="bind:lclassCd" editdisplay="edit" expandsize="20" combodataset="ds_chkMachineLcalss" combocodecol="lclassCd" combodatacol="lclassNm" combodisplay="edit" combotype="dropdown"/>
                <Cell col="1" displaytype="combo" style="align:center;" text="bind:mclassCd" expandshow="hide" combodataset="ds_chkMachineMclass" combocodecol="mclassCd" combodatacol="mclassNm" combodisplay="edit" combotype="dropdown"/>
                <Cell col="2" displaytype="combo" edittype="expand" style="align:center middle;" text="bind:sclassCd" expandshow="show" expandsize="20" combodataset="ds_chkMachineSclass" combocodecol="sclassCd" combodatacol="sclassNm"/>
                <Cell col="3" style="align:right;" text="bind:residualQty"/>
                <Cell col="4" displaytype="number" edittype="text" editfilter="digit" style="align:right;" text="bind:requestQuantity" editlimitbymask="decimal"/>
                <Cell col="5" displaytype="date" edittype="date" text="bind:useDateSdate"/>
                <Cell col="6" displaytype="date" edittype="date" text="bind:useDateEdate"/>
                <Cell col="7" displaytype="date" edittype="date" text="bind:rmaDate"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="ins_Machine" taborder="80" class="btn_WF_GrdPlus" position="absolute 1197 554 1215 574" onclick="ins_Machine_onclick" anchor="right bottom"/>
        <Button id="del_Machine" taborder="81" class="btn_WF_GrdMinus" position="absolute 1217 554 1235 574" onclick="del_Machine_onclick" anchor="right bottom"/>
        <Grid id="grd_MuMachine" taborder="82" binddataset="ds_utensil" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 519 474 1236 550" anchor="left right bottom" autofittype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="139"/>
                <Column size="100"/>
                <Column size="435"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="사업장 기물명" taborder="undefined"/>
                <Cell col="1" class="sta_WFDA_Label01" text="신규일자"/>
                <Cell col="2" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" edittype="text" style="align:center;" text="bind:utensilnm" editdisplay="edit" expandshow="hide" combodisplay="edit"/>
                <Cell col="1" displaytype="date" edittype="date" style="align: ;" text="bind:requestDate" editdisplay="display" expandshow="hide" combodisplay="edit"/>
                <Cell col="2" displaytype="text" edittype="text" text="bind:remark"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="ins_utensil" taborder="83" class="btn_WF_GrdPlus" position="absolute 1197 451 1215 471" anchor="right bottom" onclick="ins_utensil_onclick"/>
        <Button id="del_utensil" taborder="84" class="btn_WF_GrdMinus" position="absolute 1217 451 1235 471" anchor="right bottom" onclick="del_utensil_onclick"/>
        <UpjangSearchComponent id="edt_upjangNm" taborder="2" class="edt_WF_Essential" position="absolute 528 40 687 61" bindUpjangCodeColumn="upjangCd" bindUpjangNameColumn="upjangNm" eventBeforeTrigger="" eventAfterTrigger="fn_upjangChangedEvent" roleSetId="" bindDataset="ds_search"/>
        <TmSearchComponent id="edt_tmNm" taborder="1" class="edt_WF_Essential" position="absolute 284 40 441 62" bindDataset="ds_search" bindTmCdColumn="tmCd" bindTmNmColumn="tmNm" qoBuCd="" qoMuCd="" qoUseYn="Y" eventAfterTrigger="fn_tmChangedEvent" eventBeforeTrigger=""/>
        <ObjAtchFile id="grd_AtchFile" titletext="Attach File Object" taborder="92" text="ObjAtchFile00" scrollbars="none" position="absolute 879 320 1237 410" anchor="top right bottom" onclick="grd_AtchFile_onclick"/>
        <Button id="btn_addSvrFile" taborder="94" text="서버사진" onclick="btn_addSvrFile_onclick" class="btn_WF_Function" position="absolute 971 330 1036 350" anchor="top right" visible="false"/>
        <MuSearchComponent id="edt_muNm" taborder="0" class="cmb_WF_Essential" position="absolute 70 40 229 61" bindDataset="ds_search" bindMuCdColumn="muCd" appendText="전체" onItemChangedEvent="fn_muItemChangedEvent"/>
        <Div id="div_evnt" anchor="left top right" taborder="95" style="border:1 solid #53606cff,1 solid #c3c3c3ff,1 solid #c3c3c3ff,1 solid #c3c3c3ff;" scrollbars="none" position="absolute 519 102 1237 129">
          <Layouts>
            <Layout>
              <Edit id="Edit06" taborder="94" position="absolute 805 -400 965 -379" anchor="left top"/>
              <Static id="Static13" class="sta_WFDA_Labelbg" position="absolute 115 -1 232 26" anchor="left top"/>
              <Static id="Static50" text="담당 결재자명" class="sta_WFDA_Label01" position="absolute -1 -1 116 26" anchor="left top" style="align:center middle;"/>
              <Static id="Static51" text="결재 상태" class="sta_WFDA_Label01" position="absolute 231 -1 313 26" anchor="left top" style="align:center middle;"/>
              <Static id="Static52" text="반려 사유" class="sta_WFDA_Label01" position="absolute 458 -1 540 26" anchor="left top" style="align:center middle;"/>
              <Static id="Static53" class="sta_WFDA_Labelbg" position="absolute 312 -1 459 26" anchor="left top"/>
              <Static id="Static54" class="sta_WFDA_Labelbg" position="absolute 539 -1 717 26" anchor="left top right"/>
              <Edit id="edt_signStatus" taborder="95" enable="false" position="absolute 315 2 456 23" anchor="left top"/>
              <Edit id="edt_rtnReason" taborder="96" enable="false" position="absolute 542 2 714 23" anchor="left top right"/>
            </Layout>
          </Layouts>
        </Div>
        <PersonalSearchComponent id="edt_PersonalSearchComp" anchor="left top" titletext="사원 검색용 Component" taborder="96" position="absolute 638 105 749 126" bindDataset="ds_eventReq" bindSabunColumn="signPrcgSabun" bindNmKorColumn="signPrcgNm" qoMuCd="" qoTmCd="" qoTmNm="" eventAfterTrigger="" eventBeforeTrigger="" class="edt_WF_Essential"/>
        <Static id="sta_titleTmp1" text="생성자" class="sta_WFDA_Label01" position="absolute 299 1 357 22" visible="false"/>
        <Edit id="edt_cuser" taborder="97" imemode="hangul" maxlength="70" position="absolute 358 1 438 22" anchor="left top right" visible="false"/>
        <Edit id="edt_cuserNm" taborder="98" imemode="hangul" maxlength="70" position="absolute 439 1 519 22" anchor="left top right" visible="false"/>
        <Static id="sta_titleTmp2" text="로그인" class="sta_WFDA_Label01" position="absolute 539 1 597 22" visible="false"/>
        <Edit id="edt_loginId" taborder="99" imemode="hangul" maxlength="70" position="absolute 598 1 678 22" anchor="left top right" visible="false"/>
        <Edit id="edt_loginNm" taborder="100" imemode="hangul" maxlength="70" position="absolute 679 1 759 22" anchor="left top right" visible="false"/>
        <Grid id="Grid00" taborder="101" useinputpanel="false" position="absolute 12 399 1240 520" binddataset="ds_eventReq" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="lclassCd"/>
                <Cell col="1" disptype="normal" text="mclassCd"/>
                <Cell col="2" disptype="normal" text="mclassNm"/>
                <Cell col="3" disptype="normal" text="sclassCd"/>
                <Cell col="4" disptype="normal" text="sclassNm"/>
                <Cell col="5" disptype="normal" text="fileIdMst"/>
                <Cell col="6" disptype="normal" text="propsTermSdate"/>
                <Cell col="7" disptype="normal" text="propsTermEdate"/>
                <Cell col="8" disptype="normal" text="evntTitle"/>
                <Cell col="9" disptype="normal" text="offerMenu"/>
                <Cell col="10" disptype="normal" text="cnptExpl"/>
                <Cell col="11" disptype="normal" text="requestUpjangCd"/>
                <Cell col="12" disptype="normal" text="evntId"/>
                <Cell col="13" disptype="normal" text="progressDate"/>
                <Cell col="14" disptype="normal" text="fileId"/>
                <Cell col="15" disptype="normal" text="signPrcgNm"/>
                <Cell col="16" disptype="normal" text="signPrcgSabun"/>
                <Cell col="17" disptype="normal" text="signStatus"/>
                <Cell col="18" disptype="normal" text="signStatusNm"/>
                <Cell col="19" disptype="normal" text="rtnReason"/>
                <Cell col="20" disptype="normal" text="addrKey"/>
                <Cell col="21" disptype="normal" text="addrInfo"/>
                <Cell col="22" disptype="normal" text="trsfMtod1"/>
                <Cell col="23" disptype="normal" text="trsfMtod2"/>
                <Cell col="24" disptype="normal" text="cntcNumEnc"/>
                <Cell col="25" disptype="normal" text="cntcNum1"/>
                <Cell col="26" disptype="normal" text="cntcNum2"/>
                <Cell col="27" disptype="normal" text="cntcNum3"/>
                <Cell col="28" disptype="normal" text="cuser"/>
                <Cell col="29" disptype="normal" text="cuserNm"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:lclassCd"/>
                <Cell col="1" disptype="normal" text="bind:mclassCd"/>
                <Cell col="2" disptype="normal" text="bind:mclassNm"/>
                <Cell col="3" disptype="normal" text="bind:sclassCd"/>
                <Cell col="4" disptype="normal" text="bind:sclassNm"/>
                <Cell col="5" disptype="normal" text="bind:fileIdMst"/>
                <Cell col="6" disptype="normal" text="bind:propsTermSdate"/>
                <Cell col="7" disptype="normal" text="bind:propsTermEdate"/>
                <Cell col="8" disptype="normal" text="bind:evntTitle"/>
                <Cell col="9" disptype="normal" text="bind:offerMenu"/>
                <Cell col="10" disptype="normal" text="bind:cnptExpl"/>
                <Cell col="11" disptype="normal" text="bind:requestUpjangCd"/>
                <Cell col="12" disptype="normal" text="bind:evntId"/>
                <Cell col="13" disptype="normal" text="bind:progressDate"/>
                <Cell col="14" disptype="normal" text="bind:fileId"/>
                <Cell col="15" disptype="normal" text="bind:signPrcgNm"/>
                <Cell col="16" disptype="normal" text="bind:signPrcgSabun"/>
                <Cell col="17" disptype="normal" text="bind:signStatus"/>
                <Cell col="18" disptype="normal" text="bind:signStatusNm"/>
                <Cell col="19" disptype="normal" text="bind:rtnReason"/>
                <Cell col="20" disptype="normal" text="bind:addrKey"/>
                <Cell col="21" disptype="normal" text="bind:addrInfo"/>
                <Cell col="22" disptype="normal" text="bind:trsfMtod1"/>
                <Cell col="23" disptype="normal" text="bind:trsfMtod2"/>
                <Cell col="24" disptype="normal" text="bind:cntcNumEnc"/>
                <Cell col="25" disptype="normal" text="bind:cntcNum1"/>
                <Cell col="26" disptype="normal" text="bind:cntcNum2"/>
                <Cell col="27" disptype="normal" text="bind:cntcNum3"/>
                <Cell col="28" disptype="normal" text="bind:cuser"/>
                <Cell col="29" disptype="normal" text="bind:cuserNm"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="div_evntHdr.edt_evntTitle" propid="value" datasetid="ds_eventReq" columnid="evntTitle"/>
      <BindItem id="item6" compid="edt_eventNm" propid="value" datasetid="ds_search" columnid="eventNm"/>
      <BindItem id="item8" compid="div_evntHdr.cbo_group" propid="value" datasetid="ds_eventReq" columnid="mclassCd"/>
      <BindItem id="item10" compid="div_evntHdr.cbo_theme" propid="value" datasetid="ds_eventReq" columnid="sclassCd"/>
      <BindItem id="item14" compid="edt_upjangNm" propid="visible" datasetid=" " columnid="upjangNm"/>
      <BindItem id="item3" compid="div_evntDtl.txa_cnptExpl" propid="value" datasetid="ds_eventReq" columnid="cnptExpl"/>
      <BindItem id="item2" compid="div_evntTrsf.edt_trsfMtod" propid="value" datasetid="ds_eventReq" columnid="trsfMtod2"/>
      <BindItem id="item7" compid="div_evntTrsf.cbo_trsfMtod" propid="value" datasetid="ds_eventReq" columnid="trsfMtod1"/>
      <BindItem id="item12" compid="div_evnt.edt_signStatus" propid="value" datasetid="ds_eventReq" columnid="signStatusNm"/>
      <BindItem id="item13" compid="div_evnt.edt_rtnReason" propid="value" datasetid="ds_eventReq" columnid="rtnReason"/>
      <BindItem id="item11" compid="div_evntDtl.cal_progressDate" propid="value" datasetid="ds_eventReq" columnid="progressDate"/>
      <BindItem id="item1" compid="div_evntDtl.txa_offerMemu" propid="value" datasetid="ds_eventReq" columnid="offerMenu"/>
    </Bind>
    <Objects>
      <Dataset id="ds_search" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="muNm" type="STRING" size="256"/>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="tmNm" type="STRING" size="256"/>
          <Column id="upjangCd" type="STRING" size="256"/>
          <Column id="upjangNm" type="STRING" size="256"/>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="lclassNm" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="mclassNm" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="sclassNm" type="STRING" size="256"/>
          <Column id="eventNm" type="STRING" size="256"/>
          <Column id="eventCd" type="STRING" size="256"/>
          <Column id="evntId" type="STRING" size="256"/>
          <Column id="mstLclassCd" type="STRING" size="256"/>
          <Column id="mstMclassCd" type="STRING" size="256"/>
          <Column id="mstMclassNm" type="STRING" size="256"/>
          <Column id="mstSclassCd" type="STRING" size="256"/>
          <Column id="mstSclassNm" type="STRING" size="256"/>
          <Column id="mstEventNm" type="STRING" size="256"/>
          <Column id="mstEventCd" type="STRING" size="256"/>
          <Column id="fileId" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_rowSearch" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="evntId" type="STRING" size="256"/>
          <Column id="maskAuth" type="STRING" size="256"/>
          <Column id="loginPersMask" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_cboClass" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="mclassCd" type="STRING" size="1"/>
          <Column id="mclassNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboTheme" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="sclassCd" type="STRING" size="1"/>
          <Column id="sclassNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboProgress" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="1"/>
          <Column id="codeName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chkMachineLcalss" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="lclassCd" type="STRING" size="1"/>
          <Column id="lclassNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chkMachineMclass" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="mclassNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_chkMachineSclass" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="sclassNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_trsfMtod" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="groupCd" type="STRING" size="1"/>
          <Column id="groupNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list_onrowposchanged">
        <ColumnInfo>
          <Column id="muCd" type="string" size="255"/>
          <Column id="muNm" type="string" size="255"/>
          <Column id="tmCd" type="string" size="255"/>
          <Column id="tmNm" type="string" size="255"/>
          <Column id="upjangCd" type="bigdecimal" size="255"/>
          <Column id="upjangNm" type="string" size="255"/>
          <Column id="lclassCd" type="string" size="255"/>
          <Column id="mclassCd" type="string" size="255"/>
          <Column id="mclassNm" type="string" size="255"/>
          <Column id="sclassCd" type="string" size="255"/>
          <Column id="sclassNm" type="string" size="255"/>
          <Column id="evntId" type="bigdecimal" size="255"/>
          <Column id="evntTitle" type="string" size="255"/>
          <Column id="signStatus" type="string" size="255"/>
          <Column id="signStatusNm" type="string" size="255"/>
          <Column id="cuser" type="STRING" size="256"/>
          <Column id="cuserNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_eventMst" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="lclassCd" type="STRING" size="255"/>
          <Column id="mclassCd" type="STRING" size="255"/>
          <Column id="mclassNm" type="STRING" size="255"/>
          <Column id="sclassCd" type="STRING" size="255"/>
          <Column id="sclassNm" type="STRING" size="255"/>
          <Column id="fileIdMst" type="STRING" size="256"/>
          <Column id="propsTermSdate" type="STRING" size="255"/>
          <Column id="propsTermEdate" type="STRING" size="255"/>
          <Column id="evntTitle" type="STRING" size="255"/>
          <Column id="offerMenu" type="STRING" size="255"/>
          <Column id="cnptExpl" type="STRING" size="255"/>
          <Column id="requestUpjangCd" type="STRING" size="255"/>
          <Column id="evntId" type="STRING" size="255"/>
          <Column id="progressDate" type="STRING" size="255"/>
          <Column id="fileId" type="STRING" size="255"/>
          <Column id="signPrcgNm" type="STRING" size="256"/>
          <Column id="signPrcgSabun" type="STRING" size="255"/>
          <Column id="signStatus" type="STRING" size="255"/>
          <Column id="signStatusNm" type="STRING" size="256"/>
          <Column id="rtnReason" type="STRING" size="255"/>
          <Column id="zipCode" type="STRING" size="255"/>
          <Column id="trsfAddr" type="STRING" size="255"/>
          <Column id="trsfMtod1" type="STRING" size="255"/>
          <Column id="trsfMtod2" type="STRING" size="255"/>
          <Column id="cntcNumEnc" type="STRING" size="255"/>
          <Column id="cntcNum1" type="STRING" size="255"/>
          <Column id="cntcNum2" type="STRING" size="255"/>
          <Column id="cntcNum3" type="STRING" size="255"/>
          <Column id="trsfAddrEnc" type="STRING" size="255"/>
          <Column id="cuser" type="STRING" size="256"/>
          <Column id="cuserNm" type="STRING" size="256"/>
          <Column id="addrKey" type="STRING" size="256"/>
          <Column id="addrInfo" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_eventReq" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_eventReq_oncolumnchanged">
        <ColumnInfo>
          <Column id="lclassCd" type="STRING" size="255"/>
          <Column id="mclassCd" type="STRING" size="255"/>
          <Column id="mclassNm" type="STRING" size="255"/>
          <Column id="sclassCd" type="STRING" size="255"/>
          <Column id="sclassNm" type="STRING" size="255"/>
          <Column id="fileIdMst" type="STRING" size="256"/>
          <Column id="propsTermSdate" type="STRING" size="255"/>
          <Column id="propsTermEdate" type="STRING" size="255"/>
          <Column id="evntTitle" type="STRING" size="255"/>
          <Column id="offerMenu" type="STRING" size="255"/>
          <Column id="cnptExpl" type="STRING" size="255"/>
          <Column id="requestUpjangCd" type="STRING" size="255"/>
          <Column id="evntId" type="STRING" size="255"/>
          <Column id="progressDate" type="STRING" size="255"/>
          <Column id="fileId" type="STRING" size="255"/>
          <Column id="signPrcgNm" type="STRING" size="256"/>
          <Column id="signPrcgSabun" type="STRING" size="255"/>
          <Column id="signStatus" type="STRING" size="255"/>
          <Column id="signStatusNm" type="STRING" size="256"/>
          <Column id="rtnReason" type="STRING" size="255"/>
          <Column id="addrKey" type="STRING" size="255"/>
          <Column id="addrInfo" type="STRING" size="255"/>
          <Column id="trsfMtod1" type="STRING" size="255"/>
          <Column id="trsfMtod2" type="STRING" size="255"/>
          <Column id="cntcNumEnc" type="STRING" size="255"/>
          <Column id="cntcNum1" type="STRING" size="255"/>
          <Column id="cntcNum2" type="STRING" size="255"/>
          <Column id="cntcNum3" type="STRING" size="255"/>
          <Column id="cuser" type="STRING" size="256"/>
          <Column id="cuserNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_mstProgress" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="evntId" type="STRING" size="255"/>
          <Column id="requestUpjangCd" type="STRING" size="255"/>
          <Column id="seq" type="STRING" size="255"/>
          <Column id="progressPrcdrCd" type="STRING" size="255"/>
          <Column id="progressPrcdrContents" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_progress" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="evntId" type="STRING" size="255"/>
          <Column id="requestUpjangCd" type="STRING" size="255"/>
          <Column id="seq" type="STRING" size="255"/>
          <Column id="progressPrcdrCd" type="STRING" size="255"/>
          <Column id="progressPrcdrContents" type="STRING" size="255"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inforeg" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_inforeg_oncolumnchanged">
        <ColumnInfo>
          <Column id="requestUpjangCd" type="string" size="255"/>
          <Column id="evntId" type="string" size="255"/>
          <Column id="seq" type="string" size="255"/>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="mclassNm" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="sclassNm" type="STRING" size="256"/>
          <Column id="residualQty" type="STRING" size="256"/>
          <Column id="requestQuantity" type="STRING" size="256"/>
          <Column id="useDateSdate" type="STRING" size="256"/>
          <Column id="useDateEdate" type="STRING" size="256"/>
          <Column id="rmaDate" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_invQty" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_inforeg_oncolumnchanged">
        <ColumnInfo>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="residualQty" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_utensil" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="evntId" type="string" size="255"/>
          <Column id="seq" type="string" size="255"/>
          <Column id="utensilnm" type="STRING" size="256"/>
          <Column id="vendornm" type="STRING" size="256"/>
          <Column id="requestDate" type="STRING" size="256"/>
          <Column id="remark" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_file" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="refSeq" type="STRING" size="256"/>
          <Column id="appendSeq" type="STRING" size="256"/>
          <Column id="orgnlPath" type="STRING" size="256"/>
          <Column id="orgnlFileNm" type="STRING" size="256"/>
          <Column id="saveFileNm" type="STRING" size="256"/>
          <Column id="relPath" type="STRING" size="256"/>
          <Column id="fileSize" type="STRING" size="256"/>
          <Column id="fileExt" type="STRING" size="256"/>
          <Column id="encYn" type="STRING" size="256"/>
          <Column id="fileDesc" type="STRING" size="256"/>
          <Column id="fileUploadNm" type="STRING" size="256"/>
          <Column id="chk" type="INT" size="1"/>
          <Column id="preView" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="muCd" type="STRING" size="256"/>
          <Column id="muNm" type="STRING" size="256"/>
          <Column id="tmCd" type="STRING" size="256"/>
          <Column id="tmNm" type="STRING" size="256"/>
          <Column id="upjangCd" type="STRING" size="256"/>
          <Column id="upjangNm" type="STRING" size="256"/>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="lclassNm" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="mclassNm" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="sclassNm" type="STRING" size="256"/>
          <Column id="eventNm" type="STRING" size="256"/>
          <Column id="eventCd" type="STRING" size="256"/>
          <Column id="evntId" type="STRING" size="256"/>
          <Column id="mstLclassCd" type="STRING" size="256"/>
          <Column id="mstMclassCd" type="STRING" size="256"/>
          <Column id="mstMclassNm" type="STRING" size="256"/>
          <Column id="mstSclassCd" type="STRING" size="256"/>
          <Column id="mstSclassNm" type="STRING" size="256"/>
          <Column id="mstEventNm" type="STRING" size="256"/>
          <Column id="mstEventCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="muCd">title:사업부코드,required:true</Col>
            <Col id="tmNm">title:팀명,required:true</Col>
            <Col id="tmCd">title:팀코드,required:true</Col>
            <Col id="upjangNm">title:업장명,required:true</Col>
            <Col id="upjangCd">title:업장코드,required:true</Col>
            <Col id="eventCd">title:이벤트코드,required:false</Col>
            <Col id="eventNm">title:이벤트명,required:false</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_eventReqValid" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="lclassCd" type="string" size="255"/>
          <Column id="mclassCd" type="string" size="255"/>
          <Column id="mclassNm" type="string" size="255"/>
          <Column id="sclassCd" type="string" size="255"/>
          <Column id="sclassNm" type="string" size="255"/>
          <Column id="propsTermSdate" type="string" size="255"/>
          <Column id="propsTermEdate" type="string" size="255"/>
          <Column id="evntTitle" type="string" size="255"/>
          <Column id="offerMenu" type="string" size="255"/>
          <Column id="cnptExpl" type="string" size="255"/>
          <Column id="requestUpjangCd" type="string" size="255"/>
          <Column id="evntId" type="string" size="255"/>
          <Column id="progressDate" type="string" size="255"/>
          <Column id="fileId" type="string" size="255"/>
          <Column id="signPrcgNm" type="STRING" size="256"/>
          <Column id="signPrcgSabun" type="string" size="255"/>
          <Column id="signStatus" type="string" size="255"/>
          <Column id="signStatusNm" type="STRING" size="256"/>
          <Column id="rtnReason" type="string" size="255"/>
          <Column id="zipCode" type="string" size="255"/>
          <Column id="trsfAddr" type="string" size="255"/>
          <Column id="trsfMtod1" type="string" size="255"/>
          <Column id="trsfMtod2" type="string" size="255"/>
          <Column id="cntcNumEnc" type="string" size="255"/>
          <Column id="cntcNum1" type="string" size="255"/>
          <Column id="cntcNum2" type="string" size="255"/>
          <Column id="cntcNum3" type="string" size="255"/>
          <Column id="trsfAddrEnc" type="string" size="255"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="mclassCd">title:분류,required:true</Col>
            <Col id="sclassCd">title:테마,required:true</Col>
            <Col id="evntTitle">title:이벤트 제목,required:true</Col>
            <Col id="propsTermSdate">title:추천시기From,comparemin:propsTermEdate:추천시기To</Col>
            <Col id="propsTermEdate">title:추천시기To,comparemax:propsTermSdate:추천시기From</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_inforegValid" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_inforeg_oncolumnchanged">
        <ColumnInfo>
          <Column id="requestUpjangCd" type="string" size="255"/>
          <Column id="evntId" type="string" size="255"/>
          <Column id="seq" type="string" size="255"/>
          <Column id="lclassCd" type="STRING" size="256"/>
          <Column id="mclassCd" type="STRING" size="256"/>
          <Column id="mclassNm" type="STRING" size="256"/>
          <Column id="sclassCd" type="STRING" size="256"/>
          <Column id="sclassNm" type="STRING" size="256"/>
          <Column id="residualQty" type="STRING" size="256"/>
          <Column id="requestQuantity" type="STRING" size="256"/>
          <Column id="useDateSdate" type="STRING" size="256"/>
          <Column id="useDateEdate" type="STRING" size="256"/>
          <Column id="rmaDate" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="lclassCd">title:기기분류,required:true</Col>
            <Col id="mclassCd">title:종류,required:true</Col>
            <Col id="sclassCd">title:기기/물류명,required:true</Col>
            <Col id="requestQuantity">title:신청수량,max:0</Col>
            <Col id="useDateSdate">title:사용시작일,comparemin:useDateEdate:사용종료일</Col>
            <Col id="useDateEdate">title:사용종료일,comparemax:useDateSdate:사용시작일</Col>
            <Col id="rmaDate">title:반납일,date:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">1</Col>
            <Col id="insYn">0</Col>
            <Col id="delYn">1</Col>
            <Col id="savYn">1</Col>
            <Col id="prtYn">0</Col>
            <Col id="exlYn">0</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <InitValue/>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : 이벤트 진행정보등록
  파 일 명 : EventProcessInfoMgnt.xfdl
  기    능 : 이벤트 진행정보등록 자료를 등록한다.

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2014.11.01   김윤기   최초 생성
  2015.05.21   김미경   오류 수정 (저장 권한체크, 결재상태 변경저장: 반려->재신청)
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";

/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var fv_eventMstColInfo;		    // ds_eventMst 데이터셋 컬럼정보
var strCuser = "";
var strCuserNm = "";

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo)
{
    // Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
    gfn_formOnLoad(this);

    // 초기값 셋팅
    fn_init();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init()
{
    ds_search.setColumn(0, "muCd", g_Mu_Cd);            //사업부
    ds_search.setColumn(0, "muNm", g_Mu_Nm);
    ds_search.setColumn(0, "tmCd", g_Tm_Cd);            //팀
    ds_search.setColumn(0, "tmNm", g_Tm_Nm);
    ds_search.setColumn(0, "upjangCd", g_Upjang);       //업장
    ds_search.setColumn(0, "upjangNm", g_UpjangNm);
    ds_search.setColumn(0, "eventCd", "");              //이벤트
    ds_search.setColumn(0, "eventNm", "");
    ds_rowSearch.setColumn(0, "maskAuth", 0);
    ds_rowSearch.setColumn(0, "loginPersMask", g_PersInfoMask);

    // 신청자에 로그인 사용자명을 화면오픈 할 때 넣어서 조회
 	var strText = "로그인 사용자명=[" + g_EmpNo + "]-[" + g_Name + "], 사업부=[" + g_Mu_Cd + "], 팀=[" + g_Tm_Cd + "], 업장=[" + g_Upjang + "]-[" + g_UpjangNm + "], DeptID=[" + g_Deptid + "]";
 	//trace("EventProcessInfoMgnt 화면 >> fn_init : " + strText);

	edt_loginId.value = g_EmpNo;  //로그인 사용자ID
	edt_loginNm.value = g_Name;   //로그인 사용자명
	//edt_testValue.value = "";   //테스트 확인용


    edt_tmNm.applyAuthLevel(edt_muNm);
    edt_upjangNm.applyAuthLevel(edt_tmNm);
    edt_upjangNm.applyMainUpjang(null);

	// 추천시기 YYYY-MM 으로 표시
    div_evntHdr.cal_fromYymm.fn_initMonthCal(this, gfn_subStr(fv_sToday, 0, 6), "", ds_eventReq, "propsTermSdate", "");
    div_evntHdr.cal_toYymm.fn_initMonthCal(this, gfn_subStr(fv_sToday, 0, 6), "", ds_eventReq, "propsTermEdate", "");
    
    //진행일자
    div_evntDtl.cal_progressDate.fn_initMonthCal(this, fv_sToday, "", ds_eventReq, "progressDate");

    SCCombo.bind(this, "ComCode", "div_evntTrsf.cbo_trsfMtod", ds_trsfMtod, {groupCode:"TRSF_TYPE"});                    //배송방법 (TABLE : SCC_COMMON_CODE)
    SCCombo.bind(this, "ComCode", "grd_progress.progressPrcdrCd", ds_cboProgress, {groupCode:"FS0026", useYn:"Y"});      //진행절차

    // 첨부파일 연결
    grd_AtchFile.setReadOnly(true);
    grd_AtchFile.setDataset("ds_file");

    fn_search();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 닫기 전 변경 유무 체크 (필수-Frame에서 창 닫힐때 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_close()
{
    // v_ds_check 미사용시 변경사항 체크
    if (gfn_dsIsUpdated(ds_eventReq) == true || gfn_dsIsUpdated(ds_progress) == true || gfn_dsIsUpdated(ds_inforeg) == true || gfn_dsIsUpdated(ds_utensil) == true || gfn_dsIsUpdated(ds_file) == true)
    {
        // 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
        if (!gfn_confirm("confirm.before.movepage")) return false;
    }

    // 조회프로그램에도 Return true; 기술해 주세요!
    return true;
}

/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 조회 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_search()
{
//  // v_ds_check 미사용시 변경사항 체크
//  if (gfn_dsIsUpdated(ds_list) == true)
//  {
//      var retValue = gfn_confirm("confirm.before.search");    // 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
//      if (retValue == false) return;
//  }

//  // v_ds_check 사용시 공통버튼에서 변경사항 체크함
//  // 변경사항 체크
//  if (gfn_isDataChange() == true)
//  {
//      var retValue = gfn_confirm("confirm.before.search");    // 검색을 진행하면 변경된 데이터가 사라집니다. 계속 진행 하시겠습니까?
//      if (retValue == false) return;
//  }

    // ds_listValid Dataset에 Validation할 칼럼별로 구성
    // 항목 추가시에는 ","로 구분
    // 예)title:금액1,required:false,minlength:2,digits:true

    // Alert시 칼럼 표시 명칭               - title:아이디(메시지의 치환할 명칭)
    // 필수체크                              - required:true(체크여부 true/false)
    // size 크기                              - length:7(size 숫자)
    // 최대 size 크기                        - maxlength:7(size 숫자)
    // 최소 size 크기                        - minlength:7(size 숫자)
    // 최대 size 크기(Byte)                  - maxlengthB:7(size 숫자)
    // 최소 size 크기(Byte)                  - minlengthB:7(size 숫자)
    // 숫자 여부                             - digits:true(체크여부 true/false)
    // 해당 숫자 이하                       - min:7(size 숫자)
    // 해당 숫자 이상                       - max:7(size 숫자)
    // 소숫점 자리수 비교                   - declimit:3(size 숫자)
    // 날짜 년월일 체크                     - date:true(체크여부 true/false)
    // 날짜 년월 체크                       - dateym:true(체크여부 true/false)
    // 타 칼럼값보다 큰지 비교             - comparemax:Column4(Dataset 칼럼ID):시작일(비교대상의 메시지 치환할 명칭)
    // 타 칼럼값보다 작은지 비교           - comparemin:Column6(Dataset 칼럼ID):종료일(비교대상의 메시지 치환할 명칭)
    // 타 칼럼값과 같은 값인지 비교        - equalto:Column5(Dataset 칼럼ID):금액1(비교대상의 메시지 치환할 명칭)
    // 사이의 값인지 비교                   - range:40(from 숫자):100(to 숫자)
    // 코드값이 목록내의 값인지 비교       - code:1(목록 숫자):2(목록 숫자):3(목록 숫자)
    // 이메일 여부 체크(함수 체크시 예제)  - isEmail:true(체크여부 true/false)

    // 오류시 focus 지정                      - focus:cal_toDate(Componet ID로 form에서부터의 경로)

    // 조회시 Validation Check
    if (gfn_validCheck(ds_search, ds_searchValid, true) == false) return;

    // Grid sort 표시 초기화(필수)
//    gfn_clearSortMark(grd_list);


//--------------------
    // 조회 조건값 확인
    var strMuCd     = ds_search.getColumn(0, "muCd")
    var strMuNm     = ds_search.getColumn(0, "muNm")
    var strTmCd     = ds_search.getColumn(0, "tmCd")
    var strTmNm     = ds_search.getColumn(0, "tmNm")
    var strUpjangCd = ds_search.getColumn(0, "upjangCd")
    var strUpjangNm = ds_search.getColumn(0, "upjangNm")
    var strEventCd  = ds_search.getColumn(0, "eventCd")
    var strEventNm  = ds_search.getColumn(0, "eventNm")
 	var strText = "사업부=[" + strMuCd + "]-[" + strMuNm + "], 팀=[" + strTmCd + "]-[" + strTmNm + "], 업장=[" + strUpjangCd + "]-[" + strUpjangNm + "], 이벤트=[" + strEventCd + "]-[" + strEventNm + "]";
 	//trace("EventProcessInfoMgnt 화면 >> fn_search : " + strText);
//--------------------


    var strSvcID    = "search";
    var strURL      = "fs/fse/eventProcessInfoMgnt/selectGrdList.xdo";
    var strInDs     = "ds_search=ds_search:A";
    var strOutDs    = "ds_list=dsGrdSearchOutput ds_cboClass=dsCboOutput ds_cboTheme=dsThemeOutput ds_chkMachineLcalss=dsLclassOutput ds_chkMachineMclass=dsMclassOutput ds_chkMachineSclass=dsSclassOutput";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;

    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);

}

function fn_searchFile()
{
	ds_file.clearData();
	
	var strSvcID    = "searchFile";
    var strURL      = "fs/fse/eventProcessInfoMgnt/selectFileList.xdo";
    var strInDs     = "ds_search=ds_search:A";
    var strOutDs    = "ds_file=ds_file";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert(gubun)
{
    if( ds_eventReq.getColumn(0,"signStatus") == "002"){
        gfn_alert("결재가 승인된 자료입니다. 추가가 불가능합니다.");  // 추가가 불가능합니다
        return ;
    }

    if( gubun == "progress" ){
        var addRwoNum = ds_progress.addRow();
        ds_progress.setColumn(addRwoNum, "progressPrcdrCd", "001");
        ds_progress.setColumn(addRwoNum, "progressPrcdrContents", "");
        ds_progress.setColumn(addRwoNum, "requestUpjangCd", ds_eventReq.getColumn(0, "requestUpjangCd"));
        ds_progress.setColumn(addRwoNum, "evntId", ds_eventReq.getColumn(0, "evntId"));
        //trace("EventProcessInfoMgnt >> fn_insert : gubun=[" + gubun + "], addRwoNum=[" + addRwoNum + "], evntId=[" + ds_progress.getColumn(addRwoNum, "evntId") + "]");

		//for (var i = 0 ; i < ds_progress.getRowCount(); i++){
		//	trace("EventProcessInfoMgnt >> fn_insert : gubun=[" + gubun + "], i=[" + i + "], evntId=[" + ds_progress.getColumn(i, "evntId") + "]");
		//}
    
    } else if( gubun == "inforeg" ){
		
        var addRwoNum = ds_inforeg.addRow();
        ds_inforeg.setColumn(addRwoNum, "requestUpjangCd", ds_eventReq.getColumn(0, "requestUpjangCd"));
        ds_inforeg.setColumn(addRwoNum, "evntId", ds_eventReq.getColumn(0, "evntId"));
        ds_inforeg.setColumn(addRwoNum, "lclassCd", "");
        ds_inforeg.setColumn(addRwoNum, "mclassCd", "");
        ds_inforeg.setColumn(addRwoNum, "sclassCd", "");
        //ds_inforeg.setColumn(addRwoNum, "useDateSdate", fv_sToday);
        //ds_inforeg.setColumn(addRwoNum, "useDateEdate", fv_sToday);
        //ds_inforeg.setColumn(addRwoNum, "rmaDate", fv_sToday);
        var returnDate = new Number(div_evntDtl.cal_progressDate.text) + 1;
		//alert(numTest.valueOf());
        ds_inforeg.setColumn(addRwoNum, "useDateSdate", div_evntDtl.cal_progressDate.text); 
        ds_inforeg.setColumn(addRwoNum, "useDateEdate", div_evntDtl.cal_progressDate.text);
        ds_inforeg.setColumn(addRwoNum, "rmaDate", returnDate);
        ds_inforeg.setColumn(addRwoNum, "requestQuantity", 0);
        ds_inforeg.setColumn(addRwoNum, "residualQty", 0);
    } else if( gubun == "utensil" ){
        var addRwoNum = ds_utensil.addRow();
        ds_utensil.setColumn(addRwoNum, "evntId", ds_eventReq.getColumn(0, "evntId"));
        ds_utensil.setColumn(addRwoNum, "requestDate", fv_sToday);
        ds_utensil.setColumn(addRwoNum, "vendornm", "");
        ds_utensil.setColumn(addRwoNum, "utensilnm", "");
        ds_utensil.setColumn(addRwoNum, "remark", "");
    }
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete(gubun)
{
    if( ds_eventReq.getColumn(0,"signStatus") == "002") {
        gfn_alert("결재가 승인된 자료입니다. 삭제가 불가능합니다.");  // 삭제가 불가능합니다.
        return ;
    }

    if( gubun == "progress" ){
        var nRow = ds_progress.rowposition;
        if(nRow == -1) {
            gfn_alert("msg.err.grid.noselect", "삭제할 row");   // 선택된 항목이 없습니다.
            return;
        }

        ds_progress.deleteRow(nRow);
    } else if( gubun == "inforeg" ) {
        var nRow = ds_inforeg.rowposition;
        if(nRow == -1) {
            gfn_alert("msg.err.grid.noselect", "삭제할 row");   // 선택된 항목이 없습니다.
            return;
        }

        ds_inforeg.deleteRow(nRow);
    } else if( gubun == "utensil" ) {
        var nRow = ds_utensil.rowposition;
        if(nRow == -1) {
            gfn_alert("msg.err.grid.noselect", "삭제할 row");   // 선택된 항목이 없습니다.
            return;
        }

        ds_utensil.deleteRow(nRow);
    } else {
        var nRow = ds_eventReq.rowposition;

        ds_eventReq.deleteRow(nRow);
        ds_progress.deleteAll();
        ds_inforeg.deleteAll();
        ds_utensil.deleteAll();
        ds_file.deleteAll();
        div_evntTrsf.AddrSearchComponent00.edt_postNo.value = "";
        div_evntTrsf.AddrSearchComponent00.edt_baseAddr.value = "";
        div_evntTrsf.AddrSearchComponent00.edt_addrClassNm.value = "";
        div_evntTrsf.AddrSearchComponent00.edt_detailAddr.value = "";
        div_evntTrsf.AddrSearchComponent00.edt_etcAddr.value = "";
    }
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_save()
{
    // v_ds_check 미사용시 변경사항 체크
    if (gfn_dsIsUpdated(ds_eventReq) == false && gfn_dsIsUpdated(ds_progress) == false && gfn_dsIsUpdated(ds_inforeg) == false && gfn_dsIsUpdated(ds_utensil) == false && gfn_dsIsUpdated(ds_file) == false)
    {
        gfn_alert("msg.save.nochange"); // 변경된 내역이 없습니다.
        return;
    }

    // ds_listValid Dataset에 Validation할 칼럼별로 구성
    // 항목 추가시에는 ","로 구분
    // 예)title:금액1,required:false,minlength:2,digits:true

    // Alert시 칼럼 표시 명칭               - title:아이디(메시지의 치환할 명칭)
    // 필수체크                              - required:true(체크여부 true/false)
    // size 크기                              - length:7(size 숫자)
    // 최대 size 크기                        - maxlength:7(size 숫자)
    // 최소 size 크기                        - minlength:7(size 숫자)
    // 최대 size 크기(Byte)                  - maxlengthB:7(size 숫자)
    // 최소 size 크기(Byte)                  - minlengthB:7(size 숫자)
    // 숫자 여부                             - digits:true(체크여부 true/false)
    // 해당 숫자 이하                       - min:7(size 숫자)
    // 해당 숫자 이상                       - max:7(size 숫자)
    // 소숫점 자리수 비교                   - declimit:3(size 숫자)
    // 날짜 년월일 체크                     - date:true(체크여부 true/false)
    // 날짜 년월 체크                       - dateym:true(체크여부 true/false)
    // 타 칼럼값보다 큰지 비교             - comparemax:Column4(Dataset 칼럼ID):시작일(비교대상의 메시지 치환할 명칭)
    // 타 칼럼값보다 작은지 비교           - comparemin:Column6(Dataset 칼럼ID):종료일(비교대상의 메시지 치환할 명칭)
    // 타 칼럼값과 같은 값인지 비교        - equalto:Column5(Dataset 칼럼ID):금액1(비교대상의 메시지 치환할 명칭)
    // 사이의 값인지 비교                   - range:40(from 숫자):100(to 숫자)
    // 코드값이 목록내의 값인지 비교       - code:1(목록 숫자):2(목록 숫자):3(목록 숫자)
    // 이메일 여부 체크(함수 체크시 예제)  - isEmail:true(체크여부 true/false)

    // 오류시 focus 지정                      - focus:cal_toDate(Componet ID로 form에서부터의 경로)

    // 저장시 Validation Check
//    if (gfn_validCheck(ds_eventReq, ds_eventReqValid) == false) return;
//    if (gfn_validCheck(ds_inforeg, ds_inforegValid) == false) return;


//---------
	// 결재상태가 승인인 경우는 저장되지 않도록 함
	var strSignStatus = ds_eventReq.getColumn(0, "signStatus");
	var strSignStatusNm = ds_eventReq.getColumn(0, "signStatusNm");
	//trace("EventProcessInfoMgnt 화면 >> fn_save : 저장전 결재상태=[" + strSignStatus + "]-[" + strSignStatusNm + "]");
	
// 	if (ds_eventReq.getColumn(0, "signStatus") == "002"){
// 		trace("EventProcessInfoMgnt 화면 >> fn_save : 결재승인자료(저장 불가능), 저장전 결재상태=[" + strSignStatus + "]-[" + strSignStatusNm + "]");
// 		gfn_alert("결재가 승인된 자료입니다. 저장이 불가능합니다.");
// 		return ;
// 	}
	
	
	// 생성자와 로그인사용자가 같은 경우에만 저장되도록 함
	strCuser = edt_cuser.value;
	strCuserNm = edt_cuserNm.value;
	//trace("EventProcessInfoMgnt 화면 >> fn_save : 이벤트 생성자=[" + strCuser + "]-[" + strCuserNm + "], 로그인 사용자=[" + g_EmpNo + "]-[" + g_Name + "]");
	
	if(strCuser != null && strCuser != "" && strCuser != undefined){
		if (strCuser != g_EmpNo){
			//trace("EventProcessInfoMgnt 화면 >> fn_save : 저장할 권한이 없습니다.  등록자=[" + strCuserNm + "], 로그인 사용자=[" + g_EmpNo + "]-[" + g_Name + "]");
			gfn_alert("저장할 권한이 없습니다.  등록자=[" + strCuserNm + "]");  // 저장할 권한이 없습니다.
			return ;
		}
	}
	
	// 결재상태가 반려인 경우는 재신청으로 저장되도록 함
	//var strSignStatus = ds_eventReq.getColumn(0, "signStatus");
	//var strSignStatusNm = ds_eventReq.getColumn(0, "signStatusNm");
	//trace("EventProcessInfoMgnt 화면 >> fn_save : 결재상태=[" + strSignStatus + "]-[" + strSignStatusNm + "]");
	
	if (strSignStatus == "003"){
		ds_eventReq.setColumn(0, "signStatus", "004");
		ds_eventReq.setColumn(0, "signStatusNm", "재신청");
		trace("EventProcessInfoMgnt 화면 >> fn_save : 결재상태가 반려인 경우 >> 004-재신청으로 저장..");
	}


	// 진행절차 코드가 2개이상(중복)인 경우 체크
    var nRowCnt = ds_progress.getRowCount();
	var nDupCnt = 0, nRow = 0;
	var strEvntId = "", strReqUpjangCd = "", strPrcdrCd = "", strCd = "";
	var strPrcdrContents ="", strContents = "";
	var chkDup  = false;

    for (var i = 0 ; i < nRowCnt; i++){
		nDupCnt = 0;
		chkDup  = false;
		strEvntId = ds_progress.getColumn(i, "evntId");
		strReqUpjangCd = ds_progress.getColumn(i, "requestUpjangCd");
		strCd = ds_progress.getColumn(i, "progressPrcdrCd");
		strContents = ds_progress.getColumn(i, "progressPrcdrContents");
		//trace("EventProcessInfoMgnt 화면 >> fn_save : 진행절차, i=[" + i + "], evntId=[" + strEvntId + "], requestUpjangCd=[" + strReqUpjangCd + "], code=[" + strCd + "], 진행내용=[" + strContents + "]");

		for (var j = 0 ; j < nRowCnt; j++){
			strPrcdrCd = ds_progress.getColumn(j, "progressPrcdrCd");
			strPrcdrContents = ds_progress.getColumn(j, "progressPrcdrContents");
			//trace("EventProcessInfoMgnt 화면 >> fn_save : 비교 진행절차code=[" + strPrcdrCd + "], 진행내용=[" + strPrcdrContents + "]");
			
			if (strCd == strPrcdrCd){
				nDupCnt++;
				//trace("EventProcessInfoMgnt 화면 >> fn_save : i=[" + i + "], j=[" + j + "], 진행절차code=[" + strCd + "], nDupCnt=[" + nDupCnt + "]");

				if (nDupCnt > 1){
					nRow = i;
					chkDup  = true;
					break;
				}
			}
        }
		if (chkDup) break;
    }
	
	// 진행절차 코드가 중복된 데이타인 경우
	if (chkDup){			
		//trace("EventProcessInfoMgnt 화면 >> fn_save : 중복된 진행절차code=[" + strCd + "], 진행내용=[" + strContents + "], nRow=[" + nRow + "], nDupCnt=[" + nDupCnt + "], chkDup=[" + chkDup + "]");
		gfn_alert("진행절차가 중복 되었습니다. 다시 선택해 주세요.");
		ds_progress.rowposition = nRow;
		return ;
	}
	
	
	// 사업부 기기 추가했는데 코드가 공백일때 저장 안되도록 체크
    var strCd = "", strNm = "";
    var nChkRow = 0, nQty = "";
    var chkCd = false;
    var nInforegRowCnt = ds_inforeg.getRowCount();
    //var nInforegRowcount = ds_inforeg.rowcount;
    //trace("EventProcessInfoMgnt 화면 >> fn_save : 사업부 기기, ds_inforeg.getRowCount()=[" + nInforegRowCnt + "], ds_inforeg.rowcount=[" + nInforegRowcount + "]");
    
    //기기가 있을때 배송방법, 주소 필수체크
    if(nInforegRowCnt > 0){
		if(div_evntTrsf.cbo_trsfMtod.value == "" || div_evntTrsf.cbo_trsfMtod.value == null || div_evntTrsf.cbo_trsfMtod.value == undefined){
			gfn_alert("배송방법은 필수입력 입니다.");
			return false;
		}
		
// 		if(div_evntTrsf.edt_trsfMtod.value == "" || div_evntTrsf.edt_trsfMtod.value == null || div_evntTrsf.edt_trsfMtod.value == undefined){
// 			gfn_alert("배송방법은 필수입력 입니다.");
// 			return false;
// 		}
		
		if(div_evntTrsf.AddrSearchComponent00.edt_postNo.value == "" || div_evntTrsf.AddrSearchComponent00.edt_postNo.value == null || div_evntTrsf.AddrSearchComponent00.edt_postNo.value == undefined){
			gfn_alert("주소는 필수입력 입니다.");
			return false;
		}
		
// 		if(div_evntTrsf.AddrSearchComponent00.edt_baseAddr.value == "" || div_evntTrsf.AddrSearchComponent00.edt_baseAddr.value == null || div_evntTrsf.AddrSearchComponent00.edt_baseAddr.value == undefined){
// 			gfn_alert("주소는 필수입력 입니다.");
// 			return false;
// 		}
    }
    //alert(div_evntTrsf.cbo_trsfMtod.value+" " +div_evntTrsf.edt_trsfMtod.value+" " +div_evntTrsf.AddrSearchComponent00.edt_postNo.value+ " " +div_evntTrsf.AddrSearchComponent00.edt_baseAddr.value);
    
    for (var i = 0 ; i < nInforegRowCnt; i++){
		strCd = ds_inforeg.getColumn(i, "sclassCd");
		strNm = ds_inforeg.getColumn(i, "sclassNm");
		nQty  = ds_inforeg.getColumn(i, "residualQty");
		//trace("EventProcessInfoMgnt 화면 >> fn_save : 사업부 기기code=[" + strCd + "]-[" + strNm + "], 재고수량=[" + nQty + "]");

		//사용시작일자는 사용종료일보다 클 수 없다
		if(ds_inforeg.getColumn(i, "useDateSdate") > ds_inforeg.getColumn(i, "useDateEdate")){
			gfn_alert("사용시작일자는 사용종료일보다 클 수 없습니다.");
			return false;
			break;
		}
				
		//반납일자는 종료일보다 작을 수 없다
		if(ds_inforeg.getColumn(i, "rmaDate") < ds_inforeg.getColumn(i, "useDateEdate")){
			gfn_alert("반납일자는 사용종료일보다 작을 수 없습니다.");
			return false;
			break;
		}
		
		if (strCd == ""){
			nChkRow = i;
			chkCd   = true;
			break;
		}
		if (chkCd) break;
    }
	
	// 사업부 기기 코드가 공백인 경우
	if (chkCd){
		//trace("EventProcessInfoMgnt 화면 >> fn_save : 사업부 기기코드 공백, nChkRow=[" + nChkRow + "], chkCd=[" + chkCd + "]");
		gfn_alert("사업부 기기가 입력되지 않았습니다. 입력 후 저장해 주세요.");
		ds_inforeg.rowposition = nChkRow;
		return ;
	}    
//----------

	var strSignPrcgNm = ds_eventReq.getColumn(0, "signPrcgNm");
	//trace("EventProcessInfoMgnt >> fn_save : 결재자명=[" + strSignPrcgNm + "]");
	
	// 담당 결재자 지정 안된 경우 체크
	if( "" == ds_eventReq.getColumn(0, "signPrcgNm") ){
		gfn_alert("담당 결재자를 지정해주세요.");   
		edt_PersonalSearchComp.setFocus;
		return ;
	}
//----------


    // 첨부 파일 추가가 있을때만
    if(grd_AtchFile.fn_countDs("insert") > 0) {
        var rtn = fn_uploadFile();
        if (rtn < 0)    return;
    }
    
    //trace("ds_eventReq.saveXML()----------" + ds_eventReq.saveXML());
    
// //     for(var i=0; i<ds_file.rowcount; i++) {
// // 		" ("+i+") ====>> "+trace(ds_file.getRowType(i));
// //     }
//return;

	ds_file.clearData();
	
    var strSvcID    = "save";
    var strURL      = "fs/fse/eventProcessInfoMgnt/saveList.xdo";
    var strInDs     = "ds_form=ds_eventReq:A ds_progress=ds_progress:U ds_inforeg=ds_inforeg:U ds_utensil=ds_utensil:U ds_file=ds_file:A";
    var strOutDs    = "ds_list=dsEventOutput ";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;

    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print()
{
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help()
{
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg)
{
    // 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
    if (nErrorCode < 0)
    {
        return;
    }

    switch(strSvcID)
    {
        // 코드분류 조회
        case "search" :
            //trace(ds_list.saveXML());
            //trace("EventProcessInfoMgnt 화면 > fn_callBack : ds_list.saveXML() -----------");
            break;
        case "searchRequestInfo" :
            //trace(ds_list.saveXML());
            
            if(ds_eventReq.getColumn(ds_eventReq.rowposition, "signStatusNm") == "승인"){
				grd_Machine.readonly = true;
				div_evntTrsf.edt_cntc.enable = false;
				div_evntTrsf.cbo_trsfMtod.enable = false;
				div_evntTrsf.edt_trsfMtod.enable = false;
				div_evntTrsf.AddrSearchComponent00.enable = false;
            }else{
				grd_Machine.readonly = false;
				div_evntTrsf.edt_cntc.enable = true;
				div_evntTrsf.cbo_trsfMtod.enable = true;
				div_evntTrsf.edt_trsfMtod.enable = true;
				div_evntTrsf.AddrSearchComponent00.enable = true;
            }
            // 셀 클릭시 생성자 사번과 생성자명 세팅
            strCuser = ds_eventReq.getColumn(ds_eventReq.rowposition, "cuser");
            strCuserNm = ds_eventReq.getColumn(ds_eventReq.rowposition, "cuserNm");
            edt_cuser.value = strCuser;
            edt_cuserNm.value = strCuserNm;
            break;
        case "searchInvQty" :
            //trace(ds_invQty.saveXML());
            ds_inforeg.setColumn(ds_inforeg.rowposition, "residualQty", ds_invQty.getColumn(0, "residualQty"));
            break;
        case "searchMst" :
             if(ds_eventMst.getRowCount() == 0){ //서비스 쿼리 결과로 데이터가 없는 경우 데이터셋 컬럼정보 복원
				gfn_loadDatasetInfo (ds_eventMst, fv_eventMstColInfo);
			}
            
            ds_progress.clearData();
            ds_eventReq.clearData();
            ds_eventReq.addRow();

            ds_eventReq.copyRow(0, ds_eventMst, 0);
            ds_eventReq.setColumn(0, "requestUpjangCd", ds_search.getColumn(0, "upjangCd"));
            ds_eventReq.setColumn(0, "progressDate", fv_sToday);
            ds_eventReq.setColumn(0, "cuser", g_EmpNo);  //생성

            div_evntTrsf.AddrSearchComponent00.bind();

            cbo_group_onitemchanged();
            
            grd_Machine.readonly = false;
			div_evntTrsf.edt_cntc.enable = true;
			div_evntTrsf.cbo_trsfMtod.enable = true;
			div_evntTrsf.edt_trsfMtod.enable = true;
			div_evntTrsf.AddrSearchComponent00.enable = true;

            for(var i=0; i < ds_mstProgress.rowcount; i++) {
                ds_progress.insertRow(i);
                ds_progress.copyRow(i, ds_mstProgress, i);
                ds_progress.setColumn(i, "requestUpjangCd", ds_search.getColumn(0, "upjangCd"));
            }
            //trace("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ds_eventReq ::: "+ds_eventReq.saveXML());
            
            break;

        // 저장
        case "save" :
            gfn_alert("msg.save.success");  // 저장 되었습니다.

            fn_search();
            break;
    }
}

/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/

//MU가 변경될 때에 대한 이벤트
function fn_muItemChangedEvent(obj, evt)
{
    edt_tmNm.setTmCode("");
    edt_upjangNm.setUpjangCode("");
}

//TM이 변경될 때에 대한 이벤트
function fn_tmChangedEvent(obj, data)
{
    edt_upjangNm.setUpjangCode("");
}

//upjang이 변경될 때에 대한 이벤트
function fn_upjangChangedEvent(obj, data) {
    ds_eventMst.clearData();
    ds_eventReq.clearData();
    ds_mstProgress.clearData();
    ds_progress.clearData();
    ds_file.clearData();
}

/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/

/*----------------------------------------------------------------------------------------------
 * 설명      : Grid Header Click시 정렬(공통에서 자동생성, 화면에 스크립트 작성시 화면 스크립트만 실행됨)
 *---------------------------------------------------------------------------------------------*/
// 이벤트명 조회
function edt_eventNm_onkeydown(obj:Edit, e:KeyEventInfo)
{
    if(e.keycode == 13) {         // Enter 키
        if (gfn_isNull(ds_search.getColumn(0, "eventCd"))) {
            btn_eventNm.click();
        } else {
            fn_search();
        }
    } else if(e.keycode == 46) {  // Del 키
        ds_search.setColumn(0, "eventNm", "");
        ds_search.setColumn(0, "eventCd", "");
        ds_search.setColumn(0, "sclassCd", "");
    }
}

//(팝업) 상단 이벤트명 검색조회
function btn_eventNm_onclick(obj:Button,  e:ClickEventInfo)
{
    var arrParam = {"evntTitle" : edt_eventNm.text,"fName" : "EventProcessInfoMgnt","muCd" : ds_search.getColumn(0, "muCd"),"tmCd" : ds_search.getColumn(0, "tmCd"),"upjangCd" : ds_search.getColumn(0, "upjangCd")};
    var arrRtn   = gfn_dialog( "EventPop"                                       // Dialog ID
                             , "X_FSE::EventPop.xfdl"                           // Form URL
                             , {fv_Contents:arrParam}                           // 배열
                             , null, null, null, null, null, false, true, -1);

    if ( arrRtn instanceof Object ) {
        ds_search.setColumn(0, "lclassCd", arrRtn["lclassCd"]);
        ds_search.setColumn(0, "mclassCd", arrRtn["mclassCd"]);
        ds_search.setColumn(0, "mclassNm", arrRtn["mclassNm"]);
        ds_search.setColumn(0, "sclassCd", arrRtn["sclassCd"]);
        ds_search.setColumn(0, "sclassNm", arrRtn["sclassNm"]);
        ds_search.setColumn(0, "eventNm", arrRtn["evntTitle"]);
        ds_search.setColumn(0, "eventCd", arrRtn["seq"]);
    }
}

//이벤트마스터 조회
function div_evntHdr_btn_eventNm_onclick(obj:Button,  e:ClickEventInfo)
{
    if(gfn_isNull(edt_upjangNm.edt_upjangNm.text)) {
        gfn_alert("업장을 선택하여 주세요.");

        return;
    }
    
    grd_Machine.readonly = false;

    ds_eventReq.clearData();
    ds_progress.clearData();
    ds_inforeg.clearData();
    ds_utensil.clearData();
    ds_file.clearData();

    var arrParam = new Array();
    var arrRtn   = gfn_dialog( "EventPop"                                       // Dialog ID
                             , "X_FSE::EventPop.xfdl"                           // Form URL
                             , {fv_Contents:arrParam}                           // 배열
                             , null, null, null, null, null, false, true, -1);

    if ( arrRtn instanceof Object ) {
        ds_search.setColumn(0, "mstLclassCd",arrRtn["lclassCd"]);
        ds_search.setColumn(0, "mstMclassCd",arrRtn["mclassCd"]);
        ds_search.setColumn(0, "mstMclassNm",arrRtn["mclassNm"]);
        ds_search.setColumn(0, "mstSclassCd",arrRtn["sclassCd"]);
        ds_search.setColumn(0, "mstSclassNm",arrRtn["sclassNm"]);
        ds_search.setColumn(0, "mstEventNm",arrRtn["evntTitle"]);
        ds_search.setColumn(0, "mstEventCd",arrRtn["seq"]);
        ds_search.setColumn(0, "fileId",arrRtn["fileId"]);
        
        ds_search.addColumn("maskAuth", "string" );
        ds_search.setColumn(0,"maskAuth",SCAuth.getMaskAuth(this));

		
		//서비스 쿼리결과로 데이터가 없는 경우 데이터셋 컬럼정보가 사라지는 현상을 복원하기 위해 현재 컬럼정보 저장
		fv_eventMstColInfo = gfn_getDatasetInfo(ds_eventMst);
		
        var strSvcID    = "searchMst";
        var strURL      = "fs/fse/eventProcessInfoMgnt/selectMstProgress.xdo";
        var strInDs     = "ds_search=ds_search:A";
        var strOutDs    = "ds_eventMst=dsEventMst ds_mstProgress=dsMstProgress";
        var strArg      = ""
        var strCallback = "fn_callBack";
        var bAsync      = true;

        gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
    }
        fn_searchFile();
}

//테마조회
function fn_themeSearch(){
    ds_rowSearch.setColumn(0, "mclassCd", ds_eventReq.getColumn(0, "mclassCd"));
    ds_rowSearch.setColumn(0, "sclassCd", ds_eventReq.getColumn(0, "sclassCd"));
    ds_rowSearch.setColumn(0, "lclassCd", ds_eventReq.getColumn(0, "lclassCd"));

    var strSvcID    = "Theme";
    var strURL      = "fs/fse/eventProcessInfoMgnt/selectTheme.xdo";
    var strInDs     = "ds_search=ds_rowSearch:A";
    var strOutDs    = "ds_cboTheme=dsThemeListOutput";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;

    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

//신청목록 행변경시
function ds_list_onrowposchanged(obj:Dataset, e:DSRowPosChangeEventInfo)
{
    if(obj.getRowCount() == -1) {
        return;
    }

    ds_eventReq.clearData();
    ds_progress.clearData();
    ds_inforeg.clearData();
    ds_utensil.clearData();
    ds_file.clearData();

    ds_rowSearch.setColumn(0, "evntId", obj.getColumn(ds_list.rowposition, "evntId"));

    var strSvcID    = "searchRequestInfo";
    var strURL      = "fs/fse/eventProcessInfoMgnt/selectRequestInfo.xdo";
    var strInDs     = "ds_search=ds_rowSearch:A";
    var strOutDs    = "ds_eventReq=dsEventReq ds_progress=dsProgress ds_inforeg=dsInforeg ds_utensil=dsUtensil ds_file=dsFile ds_cboTheme=dsThemeOutput";
    var strArg      = "maskAuth=" + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;

    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

//진행절차 행추가
function btn_insProgress_onclick(obj:Button,  e:ClickEventInfo)
{
    if( ds_eventReq.getRowCount() == 0) {
        gfn_alert("신청 정보가 없습니다.");
        return;
    }

    if( ds_progress.getRowCount() > 9 ){
        gfn_alert("10개를 초과할수 없습니다.");
        ds_progress.rowposition = 0;
        return;
    }

    fn_insert( "progress" );
}

//진행절차 행삭제
function btn_delProgress_onclick(obj:Button,  e:ClickEventInfo)
{
    fn_delete( "progress" );
}

//기기/기물 행추가
function ins_Machine_onclick(obj:Button,  e:ClickEventInfo)
{
    if( ds_eventReq.getRowCount() == 0) {
        gfn_alert("신청 정보가 없습니다.");
        return;
    }

    fn_insert( "inforeg" );
}

//기기/기물 행삭제
function del_Machine_onclick(obj:Button,  e:ClickEventInfo)
{
    fn_delete( "inforeg" );
}

// 사업장기물 행추가
function ins_utensil_onclick(obj:Button,  e:ClickEventInfo)
{
    if( ds_eventReq.getRowCount() == 0) {
        gfn_alert("신청 정보가 없습니다.");
        return;
    }

    fn_insert( "utensil" );
}

//사업장기물 행삭제
function del_utensil_onclick(obj:Button,  e:ClickEventInfo)
{
    fn_delete( "utensil" );
}

//분류 변경시
function cbo_group_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
    fn_themeSearch();
}

//연락처 입력시
function ds_eventReq_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
    if(!gfn_isNull(obj.getColumn(e.row, "cntcNum1")) && !gfn_isNull(obj.getColumn(e.row, "cntcNum2")) && !gfn_isNull(obj.getColumn(e.row, "cntcNum3"))) {
        var cntcNumEnc = obj.getColumn(e.row, "cntcNum1") + obj.getColumn(e.row, "cntcNum2") + obj.getColumn(e.row, "cntcNum3");
        obj.setColumn(e.row, "cntcNumEnc", cntcNumEnc);
    }
}

//기기 대/중/소 코드  변경시
function ds_inforeg_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
    if(e.columnid == "requestQuantity") {
        if(parseInt(obj.getColumn(e.row, "residualQty")) < e.newvalue) {
            gfn_alert("신청수량이 재고수량 보다 큽니다.");
            obj.setColumn(e.row, "requestQuantity", e.oldvalue);

            return;
        }
    }
}

//서버사진 파일추가
function btn_addSvrFile_onclick(obj:Button,  e:ClickEventInfo)
{
    var arrParam = {"GUBUN" : "06"};
    var arrRtn   = gfn_dialog( "FileUploadPop"                                  // Dialog ID
                             , "X_FSE::FileUploadPop.xfdl"                      // Form URL
                             , {fv_Contents:arrParam}                           // 배열
                             , null, null, null, null, null, false, true, -1);

    if ( arrRtn instanceof Object ) {
        arr = arrRtn.datas;
        for(var i=0; i<arrRtn.dataRow; i++) {
            var nRow = ds_file.addRow();

            ds_file.setColumn(nRow, "refSeq", ds_file.getColumn(0, "refSeq"));
            ds_file.setColumn(nRow, "orgnlPath", gfn_trim(arr[i].relPath));
            ds_file.setColumn(nRow, "orgnlFileNm", gfn_trim(arr[i].fileNm));
            ds_file.setColumn(nRow, "fileSize", gfn_trim(arr[i].fileSize));
            ds_file.setColumn(nRow, "fileExt", gfn_trim(arr[i].fileExt));
            ds_file.setColumn(nRow, "preView", gfn_trim(arr[i].preView));
            ds_file.setColumn(nRow, "fileDesc", gfn_trim(arr[i].bigo));
            ds_file.setColumn(nRow, "saveFileNm", "");
            ds_file.setColumn(nRow, "relPath", "");
        }
    }
}

/*----------------------------------------------------------------------------------------------
 * 설명   : 파일 업로드
 *---------------------------------------------------------------------------------------------*/
function fn_uploadFile()
{
    var v_bSuccess = false;
    var v_sUrl = "svc::sc/cmn/uploadFile.do?" + gfn_getGlobalVariableUrl(); //공통변수 추가 by kksoo
    var nRow;

    this.setWaitCursor(true);

    // FileUpload 사용 첨부파일 전체 업로드 : (FileUpload)_callback에서 Dataset 사용하기 위해
    for(var i=0; i<ds_file.getRowCount(); i++) {
        if(ds_file.getRowType(i) == 2) {
            if(gfn_isNull(ds_file.getColumn(i, "preView"))){
                grd_AtchFile.fileUpload.appendItem();
                nRow = grd_AtchFile.ds_uploadFile.addRow();
                grd_AtchFile.ds_uploadFile.copyRow(nRow, ds_file, i);
            }
        }
    }

    grd_AtchFile.fileUpload.innerdataset = "ds_uploadFile";
    grd_AtchFile.fileUpload.filecolumn   = "orgnlPath";

    v_bSuccessUpload = grd_AtchFile.fileUpload.upload(v_sUrl);
    if (v_bSuccessUpload) {
        v_bSuccess = true;
    }

    this.setWaitCursor(false);
    return v_bSuccess;
}

//기기/기물 팝업 호출
function grd_Machine_onexpanddown(obj:Grid, e:GridMouseEventInfo)
{
    if(e.col == 2) {
		//-------------------
		// 팝업 변경 전
		//-------------------
//         var arrRtn   = gfn_dialog( "FsCodeMappop"                                       // Dialog ID
//                                  , "X_FSF::FsCodeMappop.xfdl"                           // Form URL
//                                  , {argSvcID:"searchCodePop", argUrl:"fs/fse/eventProcessInfoMgnt/selectInforegCode.xdo", argCount:3, argFuneralHallCd:ds_search.getColumn(0, "muCd")} // 배열
//                                  , null, null, null, null, null, false, true, -1);
// 		
		//-------------------
		// 팝업 변경 후
		//-------------------
		var arrParam = {"muCd" : edt_muNm.getMuCode() };
		//trace("EventProcessInfoMgnt 화면 >> 기기/기물 팝업 호출 : ds_list.muCd=[" + ds_list.getColumn(ds_list.rowposition, "muCd") + "], arrParam=[" + arrParam + "], ds_list.rowposition=[" + ds_list.rowposition + "]");
		
		var arrRtn   = gfn_dialog( "EventUtensilPop"                                // Dialog ID
								 , "X_FSE::EventUtensilPop.xfdl"                    // Form URL
								 , {fv_Contents:arrParam}                           // 배열
								 , null, null, null, null, null, false, true, -1);

//--------------
        if (arrRtn instanceof Object) {
			//trace("EventProcessInfoMgnt 화면 >> 기기/기물 팝업 호출 : arrRtn=[" + arrRtn + "]");
            
            ds_inforeg.setColumn(e.row, "lclassCd", arrRtn[0]);
            ds_inforeg.setColumn(e.row, "mclassCd", arrRtn[2]);
            ds_inforeg.setColumn(e.row, "sclassCd", arrRtn[4]);
            
            ds_invQty.clearData();
            ds_rowSearch.setColumn(0, "mclassCd", ds_inforeg.getColumn(e.row,"mclassCd"));
            ds_rowSearch.setColumn(0, "sclassCd", ds_inforeg.getColumn(e.row,"sclassCd"));
            ds_rowSearch.setColumn(0, "lclassCd", ds_inforeg.getColumn(e.row,"lclassCd"));

            
            var strSvcID    = "searchInvQty";
            var strURL      = "fs/fse/eventProcessInfoMgnt/selectInventoryQty.xdo";
            var strInDs     = "ds_search=ds_rowSearch:A";
            var strOutDs    = "ds_invQty=dsInvQty";
            var strArg      = "";
            var strCallback = "fn_callBack";
            var bAsync      = true;

            gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
        }
    }
}



function Button00_onclick(obj:Button,  e:ClickEventInfo)
{
	trace(grd_Machine.readonly);
}
]]></Script>
  </Form>
</FDL>
