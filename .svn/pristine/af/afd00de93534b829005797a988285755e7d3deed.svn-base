<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="../../../default_typedef.xml"/>
  <Form id="frm_Main" onkeydown="frm_Main_OnKeyDown" onload="form_onload" titletext="코드관리" position="absolute 0 0 1252 725" scrollbars="none">
    <Layouts>
      <Layout>
        <Tab id="tab_Main" canchange="tab_Main_OnChanging" taborder="1" showextrabutton="false" anchor="all" position="absolute 0 276 1237 710">
          <Tabpages>
            <Tabpage id="tab01" taborder="1" text="코드상세" position="absolute 2 24 974 359" scrollbars="none">
              <Layouts>
                <Layout>
                  <Grid autoenter="select" autofittype="col" binddataset="ds_dtl_out" cellsizingtype="both" readonly="false" enable="true" cellsizebandtype="allband" id="grd_Tab1" useinputpanel="false" autofitminwidth="100" selecttype="row" taborder="0" tabstop="true" usecontextmenu="true" useselcolor="false" visible="true" wheelscrollrow="1" position="absolute 10 52 1226 396" anchor="all">
                    <Formats>
                      <Format id="Default">
                        <Columns>
                          <Column size="70"/>
                          <Column size="214"/>
                          <Column size="80"/>
                          <Column size="60"/>
                          <Column size="68"/>
                          <Column size="705"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="text" text="상세코드"/>
                          <Cell col="1" displaytype="text" text="상세코드명"/>
                          <Cell col="2" displaytype="text" text="설정구분"/>
                          <Cell col="3" displaytype="text" text="사용여부"/>
                          <Cell col="4" displaytype="text" text="순서"/>
                          <Cell col="5" displaytype="text" text="비고"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" edittype="expr:setEditExpr(iif( expr_GetRowType() == 'insert','uppernumchar','none' ))" editfilter="expr:setfilterExpr(iif( expr_GetRowType() == 'insert','uppernumchar','none' ))" style="align:left;" text="bind:DTL_CD"/>
                          <Cell col="1" displaytype="text" edittype="normal" style="align:left;" text="bind:DTL_CD_NAME"/>
                          <Cell col="2" displaytype="combo" edittype="combo" style="align:center;" text="bind:SET_CLASS" combodataset="ds_set" combocodecol="TYPE_CODE" combodatacol="TYPE_NAME"/>
                          <Cell col="3" displaytype="checkbox" edittype="checkbox" style="align:center;" text="bind:USE_YN"/>
                          <Cell col="4" displaytype="combo" edittype="combo" style="align:center;" text="bind:ORDER_BY" combodataset="ds_order" combocodecol="ORDER" combodatacol="ORDER"/>
                          <Cell col="5" displaytype="text" edittype="normal" style="align:left;" text="bind:REMARK"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="st_Mstcd1" position="absolute 112 17 168 38"/>
                  <Static id="st_Mstnm1" position="absolute 171 17 408 38"/>
                  <Static id="sta_detail04" text="Master코드" class="sta_WFDA_Label01" position="absolute 10 10 104 37"/>
                  <Static id="sta_detail05" class="sta_WFDA_Labelbg" position="absolute 103 10 339 37" anchor="left top right"/>
                  <Static id="Static20" class="Guide01_AreaRed" visible="false" position="absolute 115 10 132 13"/>
                  <Static id="Static00" class="Guide01_AreaRed" visible="false" position="absolute 115 34 132 37"/>
                  <Static id="Static23" text="h03" class="Guide05_SizeBlack" visible="false" position="absolute 113 26 138 45"/>
                  <Static id="Static25" class="Guide01_AreaRed" visible="false" position="absolute 103 16 106 30"/>
                  <Static id="Static27" text="w03" class="Guide05_SizeBlack" visible="false" position="absolute 91 17 116 36"/>
                  <Button id="btn_dtl_Insert" taborder="3" class="btn_WF_GrdPlus" position="absolute 1167 27 1185 47" anchor="top right" enable="false" onclick="fn_dtl_insert"/>
                  <Button id="btn_dtl_Delete" taborder="5" class="btn_WF_GrdMinus" position="absolute 1187 27 1205 47" anchor="top right" enable="false" onclick="fn_dtl_delete"/>
                  <Button id="btn_dtl_Save" taborder="1" class="btn_WF_GrdSave" position="absolute 1207 27 1225 47" anchor="top right" enable="false" onclick="fn_dtl_save"/>
                  <Static id="Static08" text="27" class="Guide05_SizeBlack" visible="false" position="absolute 205 14 220 33"/>
                  <Edit id="st_Mstnm" taborder="1" readonly="true" position="absolute 174 13 336 34"/>
                  <Edit id="st_Mstcd" taborder="1" readonly="true" position="absolute 106 13 172 34" style="border:1 solid #aaaaaaff ;"/>
                  <Static id="Static10" text="h06" class="Guide01_AreaRed" visible="false" position="absolute 1085 21 1229 27" anchor="top right"/>
                  <Static id="Static19" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1085 47 1229 52" anchor="top right"/>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tab02" taborder="5" position="absolute 2 24 974 359" scrollbars="none" text="계정설정">
              <Layouts>
                <Layout>
                  <Grid autoenter="select" binddataset="ds_acct_out" cellsizingtype="both" readonly="false" enable="true" cellsizebandtype="allband" id="grd_Tab1" useinputpanel="false" selecttype="row" onexpanddown="grd_Tab1_OnExpandEdit" taborder="1" tabstop="true" usecontextmenu="true" useselcolor="false" visible="true" wheelscrollrow="1" position="absolute 10 52 1226 396" anchor="all" autofittype="col">
                    <Formats>
                      <Format id="Default">
                        <Columns>
                          <Column size="70"/>
                          <Column size="150"/>
                          <Column size="70"/>
                          <Column size="100"/>
                          <Column size="70"/>
                          <Column size="85"/>
                          <Column size="70"/>
                          <Column size="85"/>
                          <Column size="70"/>
                          <Column size="100"/>
                          <Column size="80"/>
                          <Column size="60"/>
                          <Column size="187"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="text" text="코드"/>
                          <Cell col="1" displaytype="text" text="코드명"/>
                          <Cell col="2" colspan="2">
                            <Cell colspan="2" text="계정1"/>
                          </Cell>
                          <Cell col="4" colspan="2">
                            <Cell colspan="2" text="계정2"/>
                          </Cell>
                          <Cell col="6" colspan="2">
                            <Cell colspan="2" text="계정3"/>
                          </Cell>
                          <Cell col="8" colspan="2">
                            <Cell colspan="2" text="계정4"/>
                          </Cell>
                          <Cell col="10" displaytype="text" text="설정구분"/>
                          <Cell col="11" displaytype="text" text="사용여부"/>
                          <Cell col="12" displaytype="text" text="비고"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" edittype="expr:setEditExpr(iif( expr_GetRowType() == 'insert','uppernumchar','none' ))" editfilter="expr:setfilterExpr(iif( expr_GetRowType() == 'insert','uppernumchar','none' ))" style="align:left;" text="bind:ACCT_DTL_CD"/>
                          <Cell col="1" displaytype="text" edittype="normal" style="align:left;" text="bind:ACCT_DTL_NAME"/>
                          <Cell col="2" displaytype="text" edittype="normal" style="align:left;" text="bind:ACCT_CD1"/>
                          <Cell col="3" displaytype="text" edittype="normal" style="align:left;" text="bind:ATTR01" expandshow="show"/>
                          <Cell col="4" displaytype="text" edittype="normal" style="align:left;" text="bind:ACCT_CD2"/>
                          <Cell col="5" displaytype="text" edittype="normal" style="align:left;" text="bind:ATTR02" expandshow="show"/>
                          <Cell col="6" displaytype="text" style="align:left;" text="bind:ACCT_CD3"/>
                          <Cell col="7" displaytype="text" edittype="normal" style="align:left;" text="bind:ACCT_NAME3" expandshow="show"/>
                          <Cell col="8" displaytype="text" style="align:left;" text="bind:ACCT_CD4"/>
                          <Cell col="9" displaytype="text" edittype="expand" style="align:left;" text="bind:ACCT_NAME4" expandshow="show"/>
                          <Cell col="10" displaytype="combo" edittype="combo" style="align:left;" text="bind:SET_CLASS" combodataset="ds_set" combocodecol="TYPE_CODE" combodatacol="TYPE_NAME"/>
                          <Cell col="11" displaytype="checkbox" edittype="checkbox" style="align:center;" text="bind:USE_YN"/>
                          <Cell col="12" displaytype="text" edittype="normal" style="align:left;" text="bind:REMARK"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="st_Mstcd1" position="absolute 112 17 168 38"/>
                  <Static id="st_Mstnm1" position="absolute 171 17 408 38"/>
                  <Static id="sta_detail04" text="Master코드" class="sta_WFDA_Label01" position="absolute 10 10 104 37"/>
                  <Static id="sta_detail05" class="sta_WFDA_Labelbg" position="absolute 103 10 339 37" anchor="left top right"/>
                  <Edit id="st_Mstcd" taborder="1" readonly="true" position="absolute 106 13 172 34"/>
                  <Static id="Static08" text="27" class="Guide05_SizeBlack" visible="false" position="absolute 205 14 220 33"/>
                  <Static id="Static20" class="Guide01_AreaRed" visible="false" position="absolute 115 10 132 13"/>
                  <Static id="Static00" class="Guide01_AreaRed" visible="false" position="absolute 115 34 132 37"/>
                  <Static id="Static23" text="h03" class="Guide05_SizeBlack" visible="false" position="absolute 113 26 138 45"/>
                  <Static id="Static25" class="Guide01_AreaRed" visible="false" position="absolute 103 16 106 30"/>
                  <Static id="Static27" text="w03" class="Guide05_SizeBlack" visible="false" position="absolute 91 17 116 36"/>
                  <Edit id="st_Mstnm" taborder="1" readonly="true" position="absolute 174 13 336 34"/>
                  <Button id="btn_acct_Insert" taborder="1" onclick="fn_acct_insert" class="btn_WF_GrdPlus" enable="false" position="absolute 1167 27 1185 47" anchor="top right"/>
                  <Button id="btn_acct_Delete" taborder="1" onclick="fn_acct_delete" class="btn_WF_GrdMinus" enable="false" position="absolute 1187 27 1205 47" anchor="top right"/>
                  <Button id="btn_acct_Save" taborder="1" onclick="fn_acct_save" class="btn_WF_GrdSave" enable="false" position="absolute 1207 27 1225 47" anchor="top right"/>
                  <Static id="Static10" text="h06" class="Guide01_AreaRed" visible="false" position="absolute 1085 21 1229 27" anchor="top right"/>
                  <Static id="Static19" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1085 47 1229 52" anchor="top right"/>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Grid autoenter="select" autofittype="col" binddataset="ds_out" cellsizingtype="both" readonly="false" enable="true" cellsizebandtype="allband" id="grd_Main" useinputpanel="false" autofitminwidth="100" selecttype="row" oncelldblclick="grd_Main_OnCellDblClick" onheadclick="grd_Main_OnHeadClick" taborder="0" tabstop="true" usecontextmenu="true" useselcolor="true" visible="true" wheelscrollrow="1" position="absolute 0 45 1237 261" anchor="left top right">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="70"/>
                <Column size="200"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="749"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text" text="코드"/>
                <Cell col="1" displaytype="text" text="코드명"/>
                <Cell col="2" displaytype="text" text="설정구분"/>
                <Cell col="3" displaytype="text" text="사용여부"/>
                <Cell col="4" displaytype="text" text="계정여부"/>
                <Cell col="5" displaytype="text" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" edittype="expr:setEditExpr(iif( expr_GetRowType() == 'insert','uppernumchar','none' ))" editfilter="expr:setfilterExpr(iif( expr_GetRowType() == 'insert','uppernumchar','none' ))" style="align:center;" text="bind:MST_CD"/>
                <Cell col="1" displaytype="text" edittype="normal" style="align:left;" text="bind:MST_NAME"/>
                <Cell col="2" displaytype="combo" edittype="combo" style="align:center;" text="bind:SET_CLASS" combodataset="ds_set" combocodecol="TYPE_CODE" combodatacol="TYPE_NAME"/>
                <Cell col="3" displaytype="checkbox" edittype="checkbox" style="align:center;" text="bind:USE_YN"/>
                <Cell col="4" displaytype="checkbox" edittype="checkbox" style="align:center;" text="bind:ACCT_USE_YN"/>
                <Cell col="5" displaytype="text" edittype="normal" style="align:left;" text="bind:REMARK"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Div id="div_cmnBtn" anchor="left top right" taborder="1" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30"/>
        <Static id="Static15" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 30 450 45"/>
        <Static id="Static00" text="h15" class="Guide01_AreaRed" visible="false" position="absolute -2 261 448 276"/>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static01" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 6 340 456 355"/>
        <Static id="Static02" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 699 1252 709" anchor="left bottom"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_set">
        <ColumnInfo>
          <Column id="TYPE_CODE" size="10" type="STRING"/>
          <Column id="TYPE_NAME" size="100" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="TYPE_CODE">S</Col>
            <Col id="TYPE_NAME">SYSTEM</Col>
          </Row>
          <Row>
            <Col id="TYPE_CODE">U</Col>
            <Col id="TYPE_NAME">USER</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_din">
        <ColumnInfo>
          <Column id="MST_CD" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl_din">
        <ColumnInfo>
          <Column id="DTL_CD" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acct_din">
        <ColumnInfo>
          <Column id="ACCT_DTL_CD" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_iin">
        <ColumnInfo>
          <Column id="ACCT_USE_YN" size="1" type="STRING"/>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="MST_NAME" size="200" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl_iin">
        <ColumnInfo>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="DTL_CD" size="20" type="STRING"/>
          <Column id="DTL_CD_NAME" size="100" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="ORDER_BY" size="2" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acct_iin">
        <ColumnInfo>
          <Column id="ACCT_CD1" size="20" type="STRING"/>
          <Column id="ACCT_CD2" size="20" type="STRING"/>
          <Column id="ACCT_CD3" size="20" type="STRING"/>
          <Column id="ACCT_CD4" size="20" type="STRING"/>
          <Column id="ACCT_CD5" size="20" type="STRING"/>
          <Column id="ACCT_DTL_CD" size="20" type="STRING"/>
          <Column id="ACCT_DTL_NAME" size="200" type="STRING"/>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_in">
        <ColumnInfo>
          <Column id="MST_CD" size="20" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="MST_CD"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_out" oncolumnchanged="ds_out_OnColumnChanged">
        <ColumnInfo>
          <Column id="ACCT_USE_YN" size="1" type="STRING"/>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="MST_NAME" size="200" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl_in">
        <ColumnInfo>
          <Column id="MST_CD" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl_out" oncolumnchanged="ds_dtl_out_OnColumnChanged">
        <ColumnInfo>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="DTL_CD" size="20" type="STRING"/>
          <Column id="DTL_CD_NAME" size="100" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="ORDER_BY" size="2" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acct_in">
        <ColumnInfo>
          <Column id="MST_CD" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_uin">
        <ColumnInfo>
          <Column id="ACCT_USE_YN" size="1" type="STRING"/>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="MST_NAME" size="200" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dtl_uin">
        <ColumnInfo>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="DTL_CD" size="20" type="STRING"/>
          <Column id="DTL_CD_NAME" size="100" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="ORDER_BY" size="2" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_acct_uin">
        <ColumnInfo>
          <Column id="ACCT_CD1" size="20" type="STRING"/>
          <Column id="ACCT_CD2" size="20" type="STRING"/>
          <Column id="ACCT_CD3" size="20" type="STRING"/>
          <Column id="ACCT_CD4" size="20" type="STRING"/>
          <Column id="ACCT_CD5" size="20" type="STRING"/>
          <Column id="ACCT_DTL_CD" size="20" type="STRING"/>
          <Column id="ACCT_DTL_NAME" size="200" type="STRING"/>
          <Column id="ATTR01" size="200" type="STRING"/>
          <Column id="ATTR02" size="200" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_order">
        <ColumnInfo>
          <Column id="ORDER" size="2" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="ORDER">1</Col>
          </Row>
          <Row>
            <Col id="ORDER">2</Col>
          </Row>
          <Row>
            <Col id="ORDER">3</Col>
          </Row>
          <Row>
            <Col id="ORDER">4</Col>
          </Row>
          <Row>
            <Col id="ORDER">5</Col>
          </Row>
          <Row>
            <Col id="ORDER">6</Col>
          </Row>
          <Row>
            <Col id="ORDER">7</Col>
          </Row>
          <Row>
            <Col id="ORDER">8</Col>
          </Row>
          <Row>
            <Col id="ORDER">9</Col>
          </Row>
          <Row>
            <Col id="ORDER">10</Col>
          </Row>
          <Row>
            <Col id="ORDER">11</Col>
          </Row>
          <Row>
            <Col id="ORDER">12</Col>
          </Row>
          <Row>
            <Col id="ORDER">13</Col>
          </Row>
          <Row>
            <Col id="ORDER">14</Col>
          </Row>
          <Row>
            <Col id="ORDER">15</Col>
          </Row>
          <Row>
            <Col id="ORDER">16</Col>
          </Row>
          <Row>
            <Col id="ORDER">17</Col>
          </Row>
          <Row>
            <Col id="ORDER">18</Col>
          </Row>
          <Row>
            <Col id="ORDER">19</Col>
          </Row>
          <Row>
            <Col id="ORDER">20</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_acct_out" oncolumnchanged="ds_acct_out_OnColumnChanged">
        <ColumnInfo>
          <Column id="ACCT_CD1" size="20" type="STRING"/>
          <Column id="ACCT_CD2" size="20" type="STRING"/>
          <Column id="ACCT_CD3" size="20" type="STRING"/>
          <Column id="ACCT_DTL_CD" size="20" type="STRING"/>
          <Column id="ACCT_DTL_NAME" size="200" type="STRING"/>
          <Column id="ACCT_NAME3" size="100" type="STRING"/>
          <Column id="ATTR03" size="200" type="STRING"/>
          <Column id="ATTR04" size="200" type="STRING"/>
          <Column id="ATTR05" size="200" type="STRING"/>
          <Column id="ATTR06" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR07" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR08" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR09" size="22" type="BIGDECIMAL"/>
          <Column id="ATTR10" size="22" type="BIGDECIMAL"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CUSER" size="20" type="STRING"/>
          <Column id="MST_CD" size="20" type="STRING"/>
          <Column id="REMARK" size="500" type="STRING"/>
          <Column id="SET_CLASS" size="1" type="STRING"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="20" type="STRING"/>
          <Column id="ACCT_CD4" size="20" type="STRING"/>
          <Column id="ACCT_NAME4" size="100" type="STRING"/>
          <Column id="ATTR01" size="100" type="STRING"/>
          <Column id="ATTR02" size="100" type="STRING"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item4" compid="tab_Main.tab01.sta_detail04" propid="text" datasetid="ds_view" columnid="D_1"/>
      <BindItem id="item5" compid="tab_Main.tab01.sta_detail05" propid="text" datasetid="ds_view" columnid="D_1"/>
      <BindItem id="item0" compid="tab_Main.tab02.tab_Main.tab01.sta_detail04" propid="text" datasetid="ds_view" columnid="D_1"/>
      <BindItem id="item1" compid="tab_Main.tab02.tab_Main.tab01.sta_detail05" propid="text" datasetid="ds_view" columnid="D_1"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";
/*
 ******************************************************************************************
 * 시스템구분   : FS시스템/경영관리/공통
 * 프로그램명   : MAP10010E.XML
 * 기      능   : 코드관리
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//=========================================================================================
//@@컨버터에서 주석처리 #include "lib::sc_comon.js"
//@@컨버터에서 주석처리 #include "lib::sc_sql_common.js"
//@@컨버터에서 주석처리 #include "lib::tit_comm_0001.js"
//@@컨버터에서 주석처리 #include "Lib::lib_Date.js";
//@@컨버터에서 주석처리 #include "Lib::lib_Dataset.js";
//@@컨버터에서 주석처리 #include "LIB::lib_comm_0001.js";
//@@컨버터에서 주석처리 #include "LIB::ma_common.js";

//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================

//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(obj, false);

	//init_btn_setup();	// Button 초기화
	fsp_init(this);
	
	// 종료시 check
	v_ds_check = "ds_out;ds_dtl_out;ds_acct_out";
    
	fn_search();
}


//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,인쇄,도움말,form닫기)
//
//=========================================================================================


/*
 ******************************************************************************************
 * 함  수  명   : fn_Search()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 조회버튼 입력 시 처리되는 작업
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_search()
{
    
 	// 조회전 변경자료 체크
	if ( gfn_dsIsUpdated(ds_out)== true )  
	{		
	  //grd_Main.SetFocus();
	  if ((g_Confirm("01","변경된 자료를 저장하시겠습니까?")) == true) 
	  {	  
	     fn_save();
	  }
	  else 
	  {
		  return false; 
	  }  
	}  
	else 
	{
	  ds_out.applyChange();	  
	}
 	
 	fsp_clear(this);
 	
    // 서버에서 조회할 정보 추가 
	fsp_addSearch(this, "ma/mac:MAC10010E_S001");
	
	// 서버 호출 
	http.Sync = true;
	fsp_callService(this, "", "", "ds_in=ds_in", "ds_out=ds_out");
	http.Sync = false;
	
	ds_dtl_out.clearData();
	ds_acct_out.clearData();
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Insert()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 입력버튼 입력 시 처리되는 작업
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_insert()
{
    // 변경자료 체크
	if ((gfn_dsIsUpdated(ds_dtl_out)== true ) || ( gfn_dsIsUpdated(ds_acct_out)== true ))  {	
	  
		  if ((g_Confirm("02","탭에 변경된 자료가 있습니다. 저장하시겠습니까?")) == true) {
			 fn_dtl_save();
			 fn_acct_save();
		   }
		  else {
			ds_dtl_out.applyChange();
			ds_acct_out.applyChange();
			
			var row = ds_out.addRow();
			ds_out.setColumn(row, "USE_YN", "1"); 
			ds_out.setColumn(row, "SET_CLASS", "S"); 
			
			tab_Main.tab01.st_Mstcd.value = "";
			tab_Main.tab01.st_Mstnm.value = "";
			tab_Main.tab02.st_Mstcd.value = "";
			tab_Main.tab02.st_Mstnm.value = "";
			ds_dtl_out.clearData();
			ds_acct_out.clearData();
		   }
		 }    
    else {
        var row = ds_out.addRow();
        ds_out.setColumn(row, "USE_YN", "1");
        ds_out.setColumn(row, "SET_CLASS", "S");
         
        tab_Main.tab01.st_Mstcd.value = "";
        tab_Main.tab01.st_Mstnm.value = "";
        tab_Main.tab02.st_Mstcd.value = "";
		tab_Main.tab02.st_Mstnm.value = "";
        ds_dtl_out.clearData();
        ds_acct_out.clearData();
      }
  }

/*
 ******************************************************************************************
 * 함  수  명   : fn_Save()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 저장버튼 입력 시 처리되는 작업
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_save()
{
    // 변경 사항 확인
    //if( !gfn_isChangeGrid(grd_Main, "Master코드") ) {
    //    return;
   // }
    
    // 테이블 Key값 입력 체크
	if(ds_out.findRowExpr("gfn_length(gfn_trim(MST_CD))== 0") != -1)
	  {  
	    g_Message("EE","Master코드는 반드시 입력해야 합니다.");
		 return false;
	  }
	
    fsp_clear(this);
    
    fsp_addSave(this, "ma/mac:MAC10010E_I001", "ma/mac:MAC10010E_U001", "ma/mac:MAC10010E_D001", "", "", "", "");
    // 서버 호출 
    http.Sync = true;
	fsp_callService(this, "", "", "ds_iin=ds_out:U ds_uin=ds_out:U ds_din=ds_out:U","", "", "fn_afterSave", true);
	http.Sync = false;          
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Delete()
 * 입      력   : kEY 값
 * 반      환   : 없음
 * 기      능   : 삭제버튼 입력 시 처리되는 작업
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */

function fn_delete()
{
   if (ds_out.getColumn(ds_out.rowposition, "SET_CLASS") == "S" ) {  
     
	   g_Message("EE","SYSTEM코드는 삭제할 수 없습니다.");
	   return false;
    } 
   else {
     
      if (g_Confirm("01") == true) {
		
		 if ((ds_out.getColumn(ds_out.rowposition, "MST_CD") == ds_dtl_out.getColumn(ds_dtl_out.rowposition, "MST_CD")) || (ds_out.getColumn(ds_out.rowposition, "MST_CD") == ds_acct_out.getColumn(ds_acct_out.rowposition, "MST_CD")))  {  
		    
		      g_Message("EE","해당 Master코드의 상세/계정설정 코드가 존재합니다. 코드를 먼저 삭제하시길 바랍니다.");
	          return false;
	       }
	     else {     
			   ds_out.deleteRow(ds_out.rowposition);
			   // 저장버튼 호출
			   fn_save();
		   }	   
	   }
	   else {
		  return false; 
	   } 
    } 
   
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Close()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 닫기 버튼 이벤트
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_Close()
{
	this.close();
}



/*
 ******************************************************************************************
 * 함  수  명   : fn_Help()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 도움말 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_help()
{
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Excel()
 * 기      능   : [엑셀버튼] 엑셀 시 처리되는 작업
 ******************************************************************************************
 */
function fn_Excel()
{
	//grd_Main.ExportExcelEx("Sheet1");
}


/*
 ******************************************************************************************
 * 함  수  명   : fn_dtl_delete
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Tab01 코드 정보 삭제 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_dtl_delete() {
    
   
   if (ds_dtl_out.getColumn(ds_dtl_out.rowposition, "SET_CLASS") == "S" ) {  
     
	   g_Message("EE","SYSTEM코드는 삭제할 수 없습니다.");
	   return false;
    } 
   else {
     
      if (g_Confirm("01") == true) {
		
		   ds_dtl_out.deleteRow(ds_dtl_out.rowposition);
		   // 저장버튼 호출
		   fn_dtl_save();
		 }
	   else {
		  return false; 
	   } 
    } 
 }
 
/*
 ******************************************************************************************
 * 함  수  명   : fn_Dtl_insert
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Tab01 코드 정보 추가 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_dtl_insert() {
    
    var row = ds_dtl_out.addRow();
    
    ds_dtl_out.setColumn(ds_dtl_out.rowposition, "MST_CD", ds_out.getColumn(ds_out.rowposition, "MST_CD") );
    ds_dtl_out.setColumn(ds_dtl_out.rowposition, "USE_YN", "1"); 
    ds_dtl_out.setColumn(ds_dtl_out.rowposition, "SET_CLASS", ds_out.getColumn(ds_out.rowposition, "SET_CLASS") ); 
      
}
/*
 ******************************************************************************************
 * 함  수  명   : fn_Dtl_save
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Tab01 코드 정보 저장 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_dtl_save() {
    // 변경 사항 확인
    //if( !gfn_isChangeGrid(grd_Tab1, "상세코드정보") ) {
     //   return;
   // }
    
    // 테이블 Key값 입력 체크
	if(ds_dtl_out.findRowExpr("gfn_length(gfn_trim(DTL_CD))== 0") != -1)
	  {
		 g_Message("EE","상세코드는 반드시 입력해야 합니다.");
		 return false;
	  }
    
    fsp_clear(this);
   
    fsp_addSave(this, "ma/mac:MAC10010E_I002", "ma/mac:MAC10010E_U002", "ma/mac:MAC10010E_D002","", "", -1, "");
     
    // 서버 호출 
    http.Sync = true;  
    fsp_callService(this, "", "", "ds_dtl_iin=ds_dtl_out:U ds_dtl_uin=ds_dtl_out:U ds_dtl_din=ds_dtl_out:U", "", "", "fn_afterSave1", true); 
    http.Sync = false;  
}


/*
 ******************************************************************************************
 * 함  수  명   : fn_acct_delete
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Tab02 코드 정보 삭제 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_acct_delete() {
    
   
   if (ds_acct_out.getColumn(ds_acct_out.rowposition, "SET_CLASS") == "S" ) {  
     
	   g_Message("EE","SYSTEM코드는 삭제할 수 없습니다.");
	   return false;
	 } 
     else {  
	    if (g_Confirm("01") == true) {
		
		   ds_acct_out.deleteRow(ds_acct_out.rowposition);
		   // 저장버튼 호출
		   fn_acct_save();
	      }
	    else {
		  return false; 
	    }  
     }
 }
  
/*
 ******************************************************************************************
 * 함  수  명   : fn_acct_insert
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Tab01 코드 정보 추가 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_acct_insert() {
    
    var row = ds_acct_out.addRow();
    
    ds_acct_out.setColumn(ds_acct_out.rowposition, "MST_CD", ds_out.getColumn(ds_out.rowposition, "MST_CD"));
    ds_acct_out.setColumn(ds_acct_out.rowposition, "USE_YN", "1");
    ds_acct_out.setColumn(ds_acct_out.rowposition, "SET_CLASS", ds_out.getColumn(ds_out.rowposition, "SET_CLASS") );
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_acct_save
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Tab01 코드 정보 저장 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_acct_save() {
    // 변경 사항 확인
    //if( !gfn_isChangeGrid(grd_Tab1, "상세코드정보") ) {
     //   return;
   // }
    
    // 테이블 Key값 입력 체크
	if(ds_acct_out.findRowExpr("gfn_length(gfn_trim(ACCT_DTL_CD))== 0") != -1)
	  {
		 g_Message("EE","상세코드는 반드시 입력해야 합니다.");
		 return false;
	  }
   
    fsp_clear(this);
    
    fsp_addSave(this, "ma/mac:MAC10010E_I003", "ma/mac:MAC10010E_U003", "ma/mac:MAC10010E_D003","", "", -1, "");
    // 서버 호출 
    fsp_callService(this, "", "", "ds_acct_iin=ds_acct_out:U ds_acct_uin=ds_acct_out:U ds_acct_din=ds_acct_out:U", "", "", "fn_afterSave2", true); 
}
  



//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSave
 * 입      력   : errCode = 에러 코드 errMsg = 에러 메시지 
 * 반      환   : 없음
 * 기      능   : MST 코드 조회 callback 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_afterSave(errCode, errMsg) {
    
    if( errCode != 0 ) {
		return;
	} else {
		ds_out.applyChange();
		g_Message("04");
	}
 }	
    
   /* 
    ds_out.ApplyChange();
    ds_out.row = 0;
    
    
     
     if (tab_Main.TabIndex == 0) {
		 if (length(Tab_Main.tab01.st_Mstcd.value) > 0 ) {
			 
			var row = ds_out.find("MST_CD", Tab_Main.tab01.st_Mstcd.value);
			  if ( row == -1 ) {  
				fn_enableCodeArea();
			}
		 }
		} 
      else {
         if (length(Tab_Main.tab02.st_Mstcd.value) > 0 ) {
			 
			var row = ds_out.find("MST_CD", Tab_Main.tab02.st_Mstcd.value);
			  if ( row == -1 ) {  
				fn_enableCodeArea();
			}
		 }
	}	*/ 
//    fn_codeSelect();
/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSave
 * 입      력   : errCode = 에러 코드 errMsg = 에러 메시지 
 * 반      환   : 없음
 * 기      능   : MST 코드 조회 callback 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_afterSave1(errCode, errMsg) {
    
    if( errCode != 0 ) {
		return;
	} else {
		ds_dtl_out.applyChange();
		g_Message("04");
	}
 }	
 
 /*
 ******************************************************************************************
 * 함  수  명   : fn_afterSave
 * 입      력   : errCode = 에러 코드 errMsg = 에러 메시지 
 * 반      환   : 없음
 * 기      능   : MST 코드 조회 callback 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_afterSave2(errCode, errMsg) {
    
    if( errCode != 0 ) {
		return;
	} else {
		ds_acct_out.applyChange();
		g_Message("04");
	}
 }	

/*
 ******************************************************************************************
 * 함  수  명   : fn_codeSelect
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : Master코드에 대한 상세 조회 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_codeSelect() {
   
	tab_Main.tab01.st_Mstcd.value = ds_out.getColumn(ds_out.rowposition, "MST_CD");
	tab_Main.tab01.st_Mstnm.value = ds_out.getColumn(ds_out.rowposition, "MST_NAME");
	tab_Main.tab02.st_Mstcd.value = ds_out.getColumn(ds_out.rowposition, "MST_CD");
    tab_Main.tab02.st_Mstnm.value = ds_out.getColumn(ds_out.rowposition, "MST_NAME"); 
	 
	ds_in.setColumn(0, "MST_CD", ds_out.getColumn(ds_out.rowposition, "MST_CD"));
	
    fsp_clear(this);
	// 조회 
    fsp_addSearch(this, "ma/mac:MAC10010E_S002");
	// 서버 호출 
    http.Sync = true;
    fsp_callService(this, "", "", "ds_dtl_in=ds_in", "ds_dtl_out=ds_dtl_out", "", "", true);
    http.Sync = false;
	   
   if (ds_out.getColumn(ds_out.rowposition, "ACCT_USE_YN") == '1') {
	
	   fsp_clear(this);
		// 조회 
	   fsp_addSearch(this, "ma/mac:MAC10010E_S003");
		// 서버 호출 
	   http.Sync = true;	
	   fsp_callService(this, "", "", "ds_acct_in=ds_in", "ds_acct_out=ds_acct_out", "", "", true);
	   http.Sync = false;
    } 
     
    fn_enableCodeArea();
  }
  
 /*
 ******************************************************************************************
 * 함  수  명   : fn_afterCodeSelect
 * 입      력   : errCode = 에러 코드 errMsg = 에러 메시지 
 * 반      환   : 없음
 * 기      능   : 코드 조회 callback 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_afterCodeSelect(errCode, errMsg) {
   
   if( errCode != 0 ) {
		return;
    }
   else {
	  /*if (tab_Main.TabIndex == 0) { 
		 ds_dtl_out.ApplyChange();
	   }
	  else {  
		 ds_acct_out.ApplyChange();
	   } */
    
     // fn_enableCodeArea(false);
   }
    
 }

/*
 ******************************************************************************************
 * 함  수  명   : fn_enableCodeArea
 * 입      력   : isNew  = 신규 여부 
 * 반      환   : 없음
 * 기      능   : 코드 출력 및 Tab의 입력/삭제/저장 버튼 enable / disable 처리 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function fn_enableCodeArea() {
   
  tab_Main.tab01.btn_dtl_Delete.enable = true;
  tab_Main.tab01.btn_dtl_Insert.enable = true;
  tab_Main.tab01.btn_dtl_Save.enable = true;
  
  if (ds_out.getColumn(ds_out.rowposition, "ACCT_USE_YN") == "0" ) {
  
     tab_Main.tab02.btn_acct_Delete.enable = false;
	 tab_Main.tab02.btn_acct_Insert.enable = false;
	 tab_Main.tab02.btn_acct_Save.enable = false;
   }
  else {
   	 tab_Main.tab02.btn_acct_Delete.enable = true;
	 tab_Main.tab02.btn_acct_Insert.enable = true;
	 tab_Main.tab02.btn_acct_Save.enable = true;
   }	 
   	 
  
  /* if (tab_Main.TabIndex == 0) {
       if ( isNew ) {
			ds_dtl_out.clearData();
			Tab_Main.tab01.st_Mstcd.value = "";
			Tab_Main.tab01.st_Mstnm.value = "";
		}
		
		Tab_Main.tab01.btn_dtl_delete.enable = !isNew;
		Tab_Main.tab01.btn_dtl_insert.enable = !isNew;
		Tab_Main.tab01.btn_dtl_save.enable = !isNew;
	  }
	
	if (tab_Main.TabIndex == 1) {
	 	if ( isNew ) {
			ds_acct_out.clearData();
			Tab_Main.tab02.st_Mstcd.value = "";
			Tab_Main.tab02.st_Mstnm.value = "";
		}
	  	
	  	if (ds_out.getColumn(ds_out.row, "ACCT_USE_YN") == "0" ) {
			
			Tab_Main.tab02.btn_acct_delete.enable = "false";
			Tab_Main.tab02.btn_acct_insert.enable = "false";
			Tab_Main.tab02.btn_acct_save.enable = "false";
	      }	
	    else {
	      Tab_Main.tab02.btn_acct_delete.enable = !isNew;
		  Tab_Main.tab02.btn_acct_insert.enable = !isNew;
		  Tab_Main.tab02.btn_acct_save.enable = !isNew;
		}  	
	}*/
 }



//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 개요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================

/*
 ******************************************************************************************
 * 함  수  명   : grd_Main_OnCellDblClick
 * 입      력   : 
 * 반      환   : 없음
 * 기      능   : Master 코드 그리드에서 코드를 더블 클릭시 
                  해당하는 Master코드의 상세 코드 내용 조회 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function grd_Main_OnCellDblClick(obj:Grid, e:GridClickEventInfo)
{
	if ( e.row < 0 ) {
        return;
    }
    
    // 코드가 존재하지 않을 경우 
    if ( GetRowType(ds_out,e.row)== "insert") {
        //fn_enableCodeArea(true);
        return;
    }
     
     ds_dtl_out.clearData();
     ds_acct_out.clearData();
        
    fn_codeSelect();
}

/*
 ******************************************************************************************
 * 함  수  명   : ds_out_OnColumnChanged
 * 입      력   : 
 * 반      환   : 없음
 * 기      능   : 정보 입력시 중복 데이터 확인 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */

function ds_out_OnColumnChanged(obj:Dataset, e:DSColChangeEventInfo)
{
	 if ( e.columnid == "MST_CD") {
        gfn_gridDupCheck(grd_Main, e.row, e.columnid);
    }
}

/*
 ******************************************************************************************
 * 함  수  명   : ds_dtl_out_OnColumnChanged
 * 입      력   : 
 * 반      환   : 없음
 * 기      능   : 정보 입력시 중복 데이터 확인 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function ds_dtl_out_OnColumnChanged(obj:Dataset, e:DSColChangeEventInfo)
{
	if ((e.columnid == "MST_CD") && (e.columnid == "DTL_CD")) {
        gfn_gridDupCheck(tab_Main.Tab01.grd_Tab1, e.row, e.columnid);
    }
}

/*
 ******************************************************************************************
 * 함  수  명   : ds_acct_out_OnColumnChanged
 * 입      력   : 
 * 반      환   : 없음
 * 기      능   : 정보 입력시 중복 데이터 확인 
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function ds_acct_out_OnColumnChanged(obj:Dataset, e:DSColChangeEventInfo)
{
	if ((e.columnid == "MST_CD") && (e.columnid == "ACCT_DTL_CD"))  {
        gfn_gridDupCheck(tab_Main.Tab02.grd_Tab1, e.row, e.columnid);
    }
}

/*
 ******************************************************************************************
 * 함  수  명   : grd_Main_OnHeadClick
 * 입      력   : 
 * 반      환   : 없음
 * 기      능   : Data Sort
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function grd_Main_OnHeadClick(obj:Grid, e:GridClickEventInfo)
{
	 gfn_gridSort(obj, e); //(eval(obj.binddataset), obj, e.cell);
}

/*
 ******************************************************************************************
 * 함  수  명   : tab_Main_OnChanging
 * 입      력   : 
 * 반      환   : 없음
 * 기      능   : 탭 변경시 수정 자료 체크
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function tab_Main_OnChanging(obj:Tab, e:TabIndexChangeEventInfo)
{
    if ( ( e.preindex == 0 ) && ( gfn_dsIsUpdated(ds_dtl_out)== true ) ) {
		gfn_alert("현재 작업중이신 자료를 저장하신후 탭을 변경을 하시기 바랍니다. ");
		return false;
	}
    
    if ( ( e.preindex == 1 ) && ( gfn_dsIsUpdated(ds_acct_out)== true ) ) {
		gfn_alert("현재 작업중이신 자료를 저장하신후 탭을 변경을 하시기 바랍니다. ");
		return false;
	}
	
}


/*
 ******************************************************************************************
 * 함  수  명   : fr_Main_OnKeyDown
 * 입      력   : 없음
 * 반      환   : 
 * 기      능   : KeyDown 이벤트 (sc_comon 호출)
 * 작  성  자   : 김영진
 * 작성  일자   : 
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
function frm_Main_OnKeyDown(obj:Form, e:KeyEventInfo)
{
   gfn_formKeyDown(obj, e); //(obj,e.fromreferenceobject,e.keycode,e.shiftKey,e.ctrlKey,e.altKey,-1,-1);
   	  
}

/*
 ******************************************************************************************
 * 함  수  명   : grd_Main_OnExpandEdit()
 * 입      력   : 없음
 * 반      환   : 코드/코드명
 * 기      능   : Grid상 팝업
 * 작  성  자   : 김영진
 * 작성  일자   : 2007-12-06
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
// button의 UserData에  조회할 POPUP_CODE Data를 setting 한다.
function grd_Tab1_OnExpandEdit(obj:Grid, e:GridMouseEventInfo)
{
    // SQL POPUP : 계정팝업
	 if ( e.cell == 3) {  
			
		    fn_sql_common_setup(strMAQuery_AcctcdExp1, 
							    strMAQuery_AcctcdExp1KeyField, 
							    strMAQuery_AcctcdExp1ValueField, 
							    strMAQuery_AcctcdExp1KeyFieldNM, 
							    strMAQuery_AcctcdExp1ValueFieldNM, 
							    "", 
								"",
								"",  
								strMAQuery_AcctcdExp1Caption,
								strMAQuery_AcctcdExp1AllField );
		
		if (gds_sql_common.getColumn(0, "ret_code") != ""){
			
			ds_acct_out.setColumn(e.row, "ACCT_CD1", gds_sql_common.getColumn(0, "ret_code"));
			ds_acct_out.setColumn(e.row, "ATTR01", gds_sql_common.getColumn(0, "ret_name"));
		  
			tab_Main.Tab02.grd_Tab1.moveToNextCell();
		   }	
		 	
	   }     
	 
	 // SQL POPUP : 계정팝업
	 if ( e.cell == 5) {  
			
		    fn_sql_common_setup(strMAQuery_AcctcdExp1, 
							    strMAQuery_AcctcdExp1KeyField, 
							    strMAQuery_AcctcdExp1ValueField, 
							    strMAQuery_AcctcdExp1KeyFieldNM, 
							    strMAQuery_AcctcdExp1ValueFieldNM, 
							    "", 
								"",
								"",  
								strMAQuery_AcctcdExp1Caption,
								strMAQuery_AcctcdExp1AllField );
		
		if (gds_sql_common.getColumn(0, "ret_code") != ""){
			
			ds_acct_out.setColumn(e.row, "ACCT_CD2", gds_sql_common.getColumn(0, "ret_code"));
			ds_acct_out.setColumn(e.row, "ATTR02", gds_sql_common.getColumn(0, "ret_name"));
		  
			tab_Main.Tab02.grd_Tab1.moveToNextCell();
		   }	
		 	
	   }         
	
	
	// SQL POPUP : 계정팝업
	 if ( e.cell == 7) {  
			
		    fn_sql_common_setup(strMAQuery_AcctcdExp1, 
							    strMAQuery_AcctcdExp1KeyField, 
							    strMAQuery_AcctcdExp1ValueField, 
							    strMAQuery_AcctcdExp1KeyFieldNM, 
							    strMAQuery_AcctcdExp1ValueFieldNM, 
							    "", 
								"",
								"",  
								strMAQuery_AcctcdExp1Caption,
								strMAQuery_AcctcdExp1AllField );
		
		if (gds_sql_common.getColumn(0, "ret_code") != ""){
			
			ds_acct_out.setColumn(e.row, "ACCT_CD3", gds_sql_common.getColumn(0, "ret_code"));
			ds_acct_out.setColumn(e.row, "ACCT_NAME3", gds_sql_common.getColumn(0, "ret_name"));
		  
			tab_Main.Tab02.grd_Tab1.moveToNextCell();
		   }	
		 	
	     }     

      // SQL POPUP : 계정팝업
	 if ( e.cell == 9) {  
			
		    fn_sql_common_setup(strMAQuery_AcctcdExp1, 
							    strMAQuery_AcctcdExp1KeyField, 
							    strMAQuery_AcctcdExp1ValueField, 
							    strMAQuery_AcctcdExp1KeyFieldNM, 
							    strMAQuery_AcctcdExp1ValueFieldNM, 
							    "", 
								"",
								"",  
								strMAQuery_AcctcdExp1Caption,
								strMAQuery_AcctcdExp1AllField );
		
		if (gds_sql_common.getColumn(0, "ret_code") != ""){
			
			ds_acct_out.setColumn(e.row, "ACCT_CD4", gds_sql_common.getColumn(0, "ret_code"));
			ds_acct_out.setColumn(e.row, "ACCT_NAME4", gds_sql_common.getColumn(0, "ret_name"));
		  
			tab_Main.Tab02.grd_Tab1.moveToNextCell();
		   }	
		 	
	  }      
 }
  


]]></Script>
  </Form>
</FDL>
