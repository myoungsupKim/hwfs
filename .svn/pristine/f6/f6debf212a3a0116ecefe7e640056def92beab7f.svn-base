<?xml version="1.0" encoding="euc-kr"?>
<query dynamic="true">
	<type>select</type>
	<description><![CDATA[자재영양성분]]></description>
	<reload>true</reload>
	<monitoring>true</monitoring>
	<result-count>1</result-count>
	<statement>
SELECT #ITEM_CODE# AS ITEM_CODE
     , A.CODE
     , A.CODE_NAME
     , A.CONTENTS
     , A.SET1
     , NVL(B.NUT_QTY, C.NUT_QTY) AS NUT_QTY
  FROM SCC_COMMON_CODE A
     , (SELECT CAL AS NUT_QTY, 'CAL' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT WATER AS NUT_QTY, 'WATER' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT PROT AS NUT_QTY, 'PROT' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT FAT AS NUT_QTY, 'FAT' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT CARBO AS NUT_QTY, 'CARBO' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT FIBER AS NUT_QTY, 'FIBER' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT ASH AS NUT_QTY, 'ASH' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT CA AS NUT_QTY, 'CA' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT P AS NUT_QTY, 'P' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT FE AS NUT_QTY, 'FE' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT NA AS NUT_QTY, 'NA' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT K AS NUT_QTY, 'K' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT VITA_A AS NUT_QTY, 'VITA_A' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT RETIN AS NUT_QTY, 'RETIN' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT B_CAROT AS NUT_QTY, 'B_CAROT' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT THIA AS NUT_QTY, 'THIA' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT RIBO AS NUT_QTY, 'RIBO' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT NIACIN AS NUT_QTY, 'NIACIN' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT VITA_C AS NUT_QTY, 'VITA_C' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT CHOLE AS NUT_QTY, 'CHOLE' AS NUT_NAME
          FROM FSI_ITEM_NUT
         WHERE ITEM_CODE = #ITEM_CODE#) B
     , (SELECT CAL AS NUT_QTY, 'CAL' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT WATER AS NUT_QTY, 'WATER' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT PROT AS NUT_QTY, 'PROT' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT FAT AS NUT_QTY, 'FAT' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT CARBO AS NUT_QTY, 'CARBO' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT FIBER AS NUT_QTY, 'FIBER' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT ASH AS NUT_QTY, 'ASH' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT CA AS NUT_QTY, 'CA' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT P AS NUT_QTY, 'P' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT FE AS NUT_QTY, 'FE' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT NA AS NUT_QTY, 'NA' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT K AS NUT_QTY, 'K' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT VITA_A AS NUT_QTY, 'VITA_A' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT RETIN AS NUT_QTY, 'RETIN' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT B_CAROT AS NUT_QTY, 'B_CAROT' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT THIA AS NUT_QTY, 'THIA' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT RIBO AS NUT_QTY, 'RIBO' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT NIACIN AS NUT_QTY, 'NIACIN' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT VITA_C AS NUT_QTY, 'VITA_C' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#
        UNION ALL
        SELECT CHOLE AS NUT_QTY, 'CHOLE' AS NUT_NAME
          FROM HLDC_ITEM_NUTR_INFO
         WHERE ITEM_CODE = #ITEM_CODE#) C     
 WHERE A.SET2 = B.NUT_NAME(+)
   AND A.SET2 = C.NUT_NAME(+)
   AND A.GROUP_CODE = 'FS0027'
 ORDER BY A.SORT_SEQ	</statement>
	<input default-name="ds_in">
		<col name="ITEM_CODE" size="12" type="VARCHAR" description="" /> 
	</input>
	<output default-name="ds_nut_list">
		<col name="ITEM_CODE" size="12" type="CHAR" description="" /> 
		<col name="CODE" size="50" type="VARCHAR" description="" /> 
		<col name="CODE_NAME" size="100" type="VARCHAR" description="" /> 
		<col name="CONTENTS" size="300" type="VARCHAR" description="" /> 
		<col name="SET1" size="100" type="VARCHAR" description="" /> 
		<col name="NUT_QTY" size="22" type="NUMERIC" description="" /> 
	</output>
</query>
