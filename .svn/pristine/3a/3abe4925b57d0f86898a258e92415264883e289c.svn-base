<?xml version="1.0" encoding="euc-kr"?>
<query>
	<type>select</type>
	<description><![CDATA[개별표준식단  자재영양성분]]></description>
	<reload>true</reload>
	<monitoring>true</monitoring>
	<result-count>1</result-count>
	<statement>
<![CDATA[
SELECT C.ITEM_CODE, F.ITEM_NAME,
       ROUND((C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)),2) AS MATERIAL_QTY,         			--"자재량",
       NVL(DISUSE_RATE,0) AS DISUSE_RATE,															--"폐기율",
       ROUND(NVL(CAL,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS CAL,			--"열량",
       ROUND(NVL(WATER,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS WATER,		--"수분",
       ROUND(NVL(PROT,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS PROT,			--"단백질",
       ROUND(NVL(FAT,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS FAT,			--"지질",
       ROUND(NVL(CARBO,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS CARBO,		--"당질",
       ROUND(NVL(FIBER,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS FIBER,		--"섬유소",
       ROUND(NVL(ASH,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS ASH,			--"회분",
       ROUND(NVL(CA,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS CA,				--"칼슘",
       ROUND(NVL(P,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS P,				--"인분",
       ROUND(NVL(FE,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS FE,				--"철분",
       ROUND(NVL(NA,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS NA,				--"나트륨",
       ROUND(NVL(K,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS K,				--"칼륨",
       ROUND(NVL(VITA_A,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS VITA_A,		--"비타민A",
       ROUND(NVL(RETIN,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS RETIN,		--"레티놀",
       ROUND(NVL(B_CAROT,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS B_CAROT,	--"베타카르틴",
       ROUND(NVL(THIA,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS THIA,			--"비타민B1",
       ROUND(NVL(RIBO,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS RIBO,			--"비타민B2",
       ROUND(NVL(NIACIN,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS NIACIN,		--"나이아신",
       ROUND(NVL(VITA_C,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS VITA_C,		--"비타민C",
       ROUND(NVL(CHOLE,0) * (C.NEED_QTY*(100-DISUSE_RATE)*(ITEM_RATE/100)) / 100,2) AS CHOLE		--"콜레스테롤"
  FROM FMR_STD_RECIPE_ITEM C ,
       FMM_SINGLE_MENU_RECIPE D,
       FSI_ITEM_NUT E,
       HLDC_PO_ITEM_MST F
 WHERE C.RECIPE_CD = D.RECIPE_CD
   AND C.ITEM_CODE = E.ITEM_CODE(+)
   AND C.ITEM_CODE = F.ITEM_CODE
   AND F.ITEM_CLASS2 BETWEEN 'F10' AND 'F26'
   AND D.SINGLE_MENU_CD = #SINGLE_MENU_CD#
   AND D.RECIPE_CD = #RECIPE_CD#
   AND C.ITEM_CODE = #ITEM_CODE#	]]></statement>
	<input default-name="ds_input">
	</input>
	<output default-name="ds_list">
	</output>
</query>
