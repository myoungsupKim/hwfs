<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<title>Insert title here</title>
<script type="text/javascript" src="https://nfics.hanwhafoodist.co.kr/js/jquery/jquery-1.11.1.min.js" ></script>
<script type="text/javascript">
$(document).ready(function (){
	
	$("#btn1").bind("click", function() {
		$("#result").empty();
        var sdata = "";
        sdata += "{                                           ";
        sdata += "    'txHeader': {                           ";
        sdata += "        'txDiv': 'SelectItem',              ";
        sdata += "        'txId': 'IF_CONSUMABLE_SERVICE',    ";
        sdata += "        'encoding': 'utf-8',                ";
        sdata += "        'encYn': 'false'                    ";
        sdata += "    },                                      ";
        sdata += "    'txData': {                             ";
        sdata += "        'data':                             ";
        sdata += "        {                                   ";
        sdata += "            'searchGubun': '2',             ";
        sdata += "            'searchText': '티슈',            ";
        sdata += "            'needDate': '20220915',         ";
        sdata += "            'centerCode': '300008',         ";
        sdata += "            'operOrgSnPurc': '911',         ";
        sdata += "            'shopGrpCd': 'SH000738',        ";
        sdata += "            'pageNum': 1,                   ";
        sdata += "            'listCnt': 10                   ";
        sdata += "        }                                   ";
        sdata += "    },                                      ";
        sdata += "    'txResult': {                           ";
        sdata += "        'resultDateTime': '',               ";
        sdata += "        'resultCode': '',                   ";
        sdata += "        'resultMessage': ''                 ";
        sdata += "    }                                       ";
        sdata += "}                                           ";
		$.ajax({
			  type : "POST"
			, url : "https://nfics.hanwhafoodist.co.kr/mobileApp/jsonCommon.jDo"
			, dataType : "json"
			, contentType : "application/json"
			, data : sdata
			, success : function (data) {
				var txResult = data.txResult;
				var resultCode = txResult.resultCode;
				var resultMessage = txResult.resultMessage;

				if(resultCode == 0) {
	  				var txData = data.txData.data;
	  				var jsonData = JSON.parse(txData);
	  				var resultCount = jsonData.resultCount;
	  				var resultData = jsonData.resultData;
	  				var dataList = JSON.parse(resultData);
	  
	  				var html = "";
	  				html += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				html += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				html += "<h1>결과건수 : "+ resultCount +"</h1>";
	  				html += "<table border=1>"
	  				for(var i = 0; i < dataList.length; i ++) {
	  				  if(i == 0) {
	  					html += "<tr>";
	  					html += "<td align='center' width='100'>A</td>";
	  					html += "<td align='center' width='100'>B</td>";
	  					html += "<td align='center' width='100'>C</td>";
	  					html += "<td align='center' width='100'>D</td>";
	  					html += "<td align='center' width='100'>E</td>";
	  					html += "<td align='center' width='100'>F</td>";
	  					html += "</tr>";
	  				  }
	  					html += "<tr>";
	  					html += "<td>" + dataList[i].itemCd + "</td>";
	  					html += "<td>" + dataList[i].itemNm + "</td>";
	  					html += "<td>" + dataList[i].spec + "</td>";
	  					html += "<td>" + dataList[i].unitNm + "</td>";
	  					html += "<td>" + dataList[i].itemMgtPrice + "</td>";
	  					html += "<td>" + dataList[i].itemBuyPrice + "</td>";
	  					html += "</tr>";
	  				}
	  				html += "</table>";
	  				$("#result").append(html);
				}
				else {
	  				var ehtml = "";
	  				ehtml += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				ehtml += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				$("#result").append(ehtml);
				}
		    }
		    , error : function(request) {
		    	alert("API 요청 오류");
		    }
		});
	});
	
	$("#btn2").bind("click", function() {
		$("#result").empty();
        var sdata = "";
        sdata += "{                                           ";
        sdata += "    'txHeader': {                           ";
        sdata += "        'txDiv': 'SelectCtrlAmt',           ";
        sdata += "        'txId': 'IF_ORDER_SERVICE',         ";
        sdata += "        'encoding': 'utf-8',                ";
        sdata += "        'encYn': 'false'                    ";
        sdata += "    },                                      ";
        sdata += "    'txData': {                             ";
        sdata += "        'data':                             ";
        sdata += "        {                                   ";
        sdata += "            'upjangCd': '189843',           ";
        sdata += "            'needDate': '20220728'          ";
        sdata += "        }                                   ";
        sdata += "    },                                      ";
        sdata += "    'txResult': {                           ";
        sdata += "        'resultDateTime': '',               ";
        sdata += "        'resultCode': '',                   ";
        sdata += "        'resultMessage': ''                 ";
        sdata += "    }                                       ";
        sdata += "}                                           ";
		$.ajax({
			  type : "POST"
			, url : "https://nfics.hanwhafoodist.co.kr/mobileApp/jsonCommon.jDo"
			, dataType : "json"
			, contentType : "application/json"
			, data : sdata
			, success : function (data) {
				var txResult = data.txResult;
				var resultCode = txResult.resultCode;
				var resultMessage = txResult.resultMessage;

				if(resultCode == 0) {
	  				var txData = data.txData.data;
	  				var jsonData = JSON.parse(txData);
	  				var resultCount = jsonData.resultCount;
	  				var resultData = jsonData.resultData;
	  				var dataList = JSON.parse(resultData);
	  
	  				var html = "";
	  				html += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				html += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				html += "<h1>결과건수 : "+ resultCount +"</h1>";
	  				html += "<table border=1>"
	  				for(var i = 0; i < dataList.length; i ++) {
	  				  if(i == 0) {
	  					html += "<tr>";
	  					html += "<td align='center' width='100'>A</td>";
	  					html += "<td align='center' width='100'>B</td>";
	  					html += "<td align='center' width='100'>C</td>";
	  					html += "<td align='center' width='100'>D</td>";
	  					html += "</tr>";
	  				  }
	  					html += "<tr>";
	  					html += "<td>" + dataList[i].creditAmount + "</td>";
	  					html += "<td>" + dataList[i].creditRmnAmt + "</td>";
	  					html += "<td>" + dataList[i].bondAmt + "</td>";
	  					html += "<td>" + dataList[i].creditCtrlYn + "</td>";
	  					html += "</tr>";
	  				}
	  				html += "</table>";
	  				$("#result").append(html);
				}
				else {
	  				var ehtml = "";
	  				ehtml += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				ehtml += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				$("#result").append(ehtml);
				}
		    }
		    , error : function(request) {
		    	alert("API 요청 오류");
		    }
		});
	});
	
	$("#btn3").bind("click", function() {
		$("#result").empty();
        var sdata = "";
        sdata += "{                                           ";
        sdata += "    'txHeader': {                           ";
        sdata += "        'txDiv': 'SelectUpjangInfo',        ";
        sdata += "        'txId': 'IF_MAIN_SERVICE',          ";
        sdata += "        'encoding': 'utf-8',                ";
        sdata += "        'encYn': 'false'                    ";
        sdata += "    },                                      ";
        sdata += "    'txData': {                             ";
        sdata += "        'data':                             ";
        sdata += "        {                                   ";
        sdata += "            'upjangCd': '100751',           ";
        sdata += "            'poType': ''                    ";
        sdata += "        }                                   ";
        sdata += "    },                                      ";
        sdata += "    'txResult': {                           ";
        sdata += "        'resultDateTime': '',               ";
        sdata += "        'resultCode': '',                   ";
        sdata += "        'resultMessage': ''                 ";
        sdata += "    }                                       ";
        sdata += "}                                           ";
		$.ajax({
			  type : "POST"
			, url : "https://nfics.hanwhafoodist.co.kr/mobileApp/jsonCommon.jDo"
			, dataType : "json"
			, contentType : "application/json"
			, data : sdata
			, success : function (data) {
				var txResult = data.txResult;
				var resultCode = txResult.resultCode;
				var resultMessage = txResult.resultMessage;

				if(resultCode == 0) {
	  				var txData = data.txData.data;
	  				var jsonData = JSON.parse(txData);
	  				var resultCount = jsonData.resultCount;
	  				var resultData = jsonData.resultData;
	  				var dataList = JSON.parse(resultData);
	  
	  				var html = "";
	  				html += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				html += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				html += "<h1>결과건수 : "+ resultCount +"</h1>";
	  				html += "<table border=1>"
	  				for(var i = 0; i < dataList.length; i ++) {
	  				  if(i == 0) {
	  					html += "<tr>";
	  					html += "<td align='center' width='100'>A</td>";
	  					html += "<td align='center' width='100'>B</td>";
	  					html += "<td align='center' width='100'>C</td>";
	  					html += "<td align='center' width='100'>D</td>";
	  					html += "<td align='center' width='100'>E</td>";
	  					html += "<td align='center' width='100'>F</td>";
	  					html += "<td align='center' width='100'>G</td>";
	  					html += "<td align='center' width='100'>H</td>";
	  					html += "</tr>";
	  				  }
	  					html += "<tr>";
	  					html += "<td>" + dataList[i].salesNm + "</td>";
	  					html += "<td>" + dataList[i].salesTelno + "</td>";
	  					html += "<td>" + dataList[i].csNm + "</td>";
	  					html += "<td>" + dataList[i].csTelno + "</td>";
	  					html += "<td>" + dataList[i].bankNm + "</td>";
	  					html += "<td>" + dataList[i].centerCode + "</td>";
	  					html += "<td>" + dataList[i].operOrgSnPurc + "</td>";
	  					html += "<td>" + dataList[i].apUnitpriceUpjang + "</td>";
	  					html += "</tr>";
	  				}
	  				html += "</table>";
	  				$("#result").append(html);
				}
				else {
	  				var ehtml = "";
	  				ehtml += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				ehtml += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				$("#result").append(ehtml);
				}
		    }
		    , error : function(request) {
		    	alert("API 요청 오류");
		    }
		});
	});
	
	$("#btn4").bind("click", function() {
		$("#result").empty();
        var sdata = "";
        sdata += "{                                           ";
        sdata += "    'txHeader': {                           ";
        sdata += "        'txDiv': 'SelectNeeddtInfo',        ";
        sdata += "        'txId': 'IF_MAIN_SERVICE',          ";
        sdata += "        'encoding': 'utf-8',                ";
        sdata += "        'encYn': 'false'                    ";
        sdata += "    },                                      ";
        sdata += "    'txData': {                             ";
        sdata += "        'data':                             ";
        sdata += "        {                                   ";
        sdata += "            'upjangCd': '160571',           ";
        sdata += "            'subinvCd': 'S115012790',       ";
        sdata += "            'needDate': '20220713'          ";
        sdata += "        }                                   ";
        sdata += "    },                                      ";
        sdata += "    'txResult': {                           ";
        sdata += "        'resultDateTime': '',               ";
        sdata += "        'resultCode': '',                   ";
        sdata += "        'resultMessage': ''                 ";
        sdata += "    }                                       ";
        sdata += "}                                           ";
		$.ajax({
			  type : "POST"
			, url : "https://nfics.hanwhafoodist.co.kr/mobileApp/jsonCommon.jDo"
			, dataType : "json"
			, contentType : "application/json"
			, data : sdata
			, success : function (data) {
				var txResult = data.txResult;
				var resultCode = txResult.resultCode;
				var resultMessage = txResult.resultMessage;

				if(resultCode == 0) {
	  				var txData = data.txData.data;
	  				var jsonData = JSON.parse(txData);
	  				var resultCount = jsonData.resultCount;
	  				var resultData = jsonData.resultData;
	  				var dataList = JSON.parse(resultData);
	  
	  				var html = "";
	  				html += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				html += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				html += "<h1>결과건수 : "+ resultCount +"</h1>";
	  				html += "<table border=1>"
	  				for(var i = 0; i < dataList.length; i ++) {
	  				  if(i == 0) {
	  					html += "<tr>";
	  					html += "<td align='center' width='100'>A</td>";
	  					html += "<td align='center' width='100'>B</td>";
	  					html += "<td align='center' width='100'>C</td>";
	  					html += "</tr>";
	  				  }
	  					html += "<tr>";
	  					html += "<td>" + dataList[i].creditRmnAmt + "</td>";
	  					html += "<td>" + dataList[i].bondAmt + "</td>";
	  					html += "<td>" + dataList[i].creditCtrlYn + "</td>";
	  					html += "</tr>";
	  				}
	  				html += "</table>";
	  				$("#result").append(html);
				}
				else {
	  				var ehtml = "";
	  				ehtml += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				ehtml += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				$("#result").append(ehtml);
				}
		    }
		    , error : function(request) {
		    	alert("API 요청 오류");
		    }
		});
	});
	
	$("#btn5").bind("click", function() {
		$("#result").empty();
        var sdata = "";
        sdata += "{                                           ";
        sdata += "    'txHeader': {                           ";
        sdata += "        'txDiv': 'SelectInventoryInfo',     ";
        sdata += "        'txId': 'IF_INVENTORY_SERVICE',     ";
        sdata += "        'encoding': 'utf-8',                ";
        sdata += "        'encYn': 'false'                    ";
        sdata += "    },                                      ";
        sdata += "    'txData': {                             ";
        sdata += "        'data':                             ";
        sdata += "        {                                   ";
        sdata += "            'centerCode': '300008',         ";
        sdata += "            'searchText': 'F',              ";
        sdata += "            'sortCondition': '3',           ";
        sdata += "            'sortStandard': 'DSC',          ";
        sdata += "            'pageNum': '1',                 ";
        sdata += "            'listCnt': '20'                 ";
        sdata += "        }                                   ";
        sdata += "    },                                      ";
        sdata += "    'txResult': {                           ";
        sdata += "        'resultDateTime': '',               ";
        sdata += "        'resultCode': '',                   ";
        sdata += "        'resultMessage': ''                 ";
        sdata += "    }                                       ";
        sdata += "}                                           ";
		$.ajax({
			  type : "POST"
			, url : "https://nfics.hanwhafoodist.co.kr/mobileApp/jsonCommon.jDo"
			, dataType : "json"
			, contentType : "application/json"
			, data : sdata
			, success : function (data) {
				var txResult = data.txResult;
				var resultCode = txResult.resultCode;
				var resultMessage = txResult.resultMessage;

				if(resultCode == 0) {
	  				var txData = data.txData.data;
	  				var jsonData = JSON.parse(txData);
	  				var resultCount = jsonData.resultCount;
	  				var resultData = jsonData.resultData;
	  				var dataList = JSON.parse(resultData);
	  
	  				var html = "";
	  				html += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				html += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				html += "<h1>결과건수 : "+ resultCount +"</h1>";
	  				html += "<table border=1>"
	  				for(var i = 0; i < dataList.length; i ++) {
	  				  if(i == 0) {
	  					html += "<tr>";
	  					html += "<td align='center' width='100'>A</td>";
	  					html += "<td align='center' width='100'>B</td>";
	  					html += "<td align='center' width='100'>C</td>";
	  					html += "<td align='center' width='100'>D</td>";
	  					html += "<td align='center' width='100'>E</td>";
	  					html += "</tr>";
	  				  }
	  					html += "<tr>";
	  					html += "<td>" + dataList[i].itemCode + "</td>";
	  					html += "<td>" + dataList[i].itemName + "</td>";
	  					html += "<td>" + dataList[i].qty + "</td>";
	  					html += "<td>" + dataList[i].listnum + "</td>";
	  					html += "<td>" + dataList[i].rowcnt + "</td>";
	  					html += "</tr>";
	  				}
	  				html += "</table>";
	  				$("#result").append(html);
				}
				else {
	  				var ehtml = "";
	  				ehtml += "<h1>결과코드 : "+ resultCode +"</h1>";
	  				ehtml += "<h1>결과메세지 : "+ resultMessage +"</h1>";
	  				$("#result").append(ehtml);
				}
		    }
		    , error : function(request) {
		    	alert("API 요청 오류");
		    }
		});
	});
	
});
</script>
</head>
<body>
<form>
<input type="button" id="btn1" name="btn1" value="구매소모품상품검색" /><p>
<input type="button" id="btn2" name="btn2" value="발주가능금액조회" /><p>
<input type="button" id="btn3" name="btn3" value="업장정보조회" /><p>
<input type="button" id="btn4" name="btn4" value="업장추가정보조회" /><p>
<input type="button" id="btn5" name="btn5" value="물류센터재고조회" />
<div id="result"></div>
</form>
</body>
</html>