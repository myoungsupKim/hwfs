<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="../../../default_typedef.xml"/>
  <Form id="FMS00175E" onkeydown="fn_form_OnKeyDown" onload="form_onload" titletext="여신정보관리" position="absolute 0 0 1252 725" scrollbars="none">
    <Layouts>
      <Layout>
        <Static id="Static41" class="sta_WFDA_Labelbg" position="absolute 129 513 588 540"/>
        <Static id="Static29" class="sta_WFDA_Labelbg" position="absolute 129 487 588 514"/>
        <Static id="Static01" class="sta_WFDA_Labelbg" position="absolute 129 539 588 566"/>
        <Static id="Static27" class="sta_WFDA_Labelbg" position="absolute 129 565 588 592"/>
        <Static id="Static28" class="sta_WFDA_Labelbg" position="absolute 129 591 588 618"/>
        <Static id="Static30" class="sta_WFDA_Labelbg" position="absolute 129 617 588 644"/>
        <Static id="Static31" class="sta_WFDA_Labelbg" position="absolute 129 643 588 670"/>
        <Static id="Static32" class="sta_WFDA_Labelbg" position="absolute 129 669 588 696"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 71" anchor="left top right"/>
        <Static id="Static16" position="absolute 600 465 980 632"/>
        <Grid autoenter="select" binddataset="ds_list" cellsizingtype="none" readonly="false" enable="true" id="grd_list" useinputpanel="false" oncellclick="grd_list_OnCellClick" onheadclick="grd_List_OnHeadClick" taborder="9" tabstop="true" usecontextmenu="true" useselcolor="true" visible="true" wheelscrollrow="1" position="absolute 0 86 1237 456" selecttype="row" anchor="left top right" autosizingtype="none" autofittype="none">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="25"/>
                <Column size="60"/>
                <Column size="50"/>
                <Column size="60"/>
                <Column size="170"/>
                <Column size="174"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="103"/>
                <Column size="126"/>
                <Column size="99"/>
                <Column size="99"/>
                <Column size="83"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="90"/>
                <Column size="80"/>
                <Column size="31"/>
                <Column size="107"/>
              </Columns>
              <Rows>
                <Row size="29" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text" class="head_Excel"/>
                <Cell col="1" displaytype="text" text="고객구분"/>
                <Cell col="2" displaytype="text" text="구분"/>
                <Cell col="3" displaytype="text" text="코드"/>
                <Cell col="4" displaytype="text" text="본사명"/>
                <Cell col="5" displaytype="text" text="사업장명"/>
                <Cell col="6" displaytype="text" text="영업사원"/>
                <Cell col="7" displaytype="text" text="CS사원"/>
                <Cell col="8" displaytype="text" text="기본여신"/>
                <Cell col="9" displaytype="text" text="임시여신"/>
                <Cell col="10" displaytype="text" text="임시여신&#13;&#10;종료일"/>
                <Cell col="11" text="여신&#13;&#10;종료일"/>
                <Cell col="12" displaytype="text" text="여신연장금액"/>
                <Cell col="13" displaytype="text" text="여신회전일"/>
                <Cell col="14" displaytype="text" text="여신연장일"/>
                <Cell col="15" displaytype="text" text="본사통합여부"/>
                <Cell col="16" displaytype="text" text="발주통제여부"/>
                <Cell col="17" displaytype="text" text="관리기준"/>
                <Cell col="18" colspan="2" displaytype="text" style="align:center;">
                  <Cell displaytype="text" text="채권기준일"/>
                  <Cell col="1" displaytype="text"/>
                </Cell>
                <Cell col="20" text="Safe Key"/>
              </Band>
              <Band id="body">
                <Cell displaytype="text" style="align:center;" expr="expr:currow+1"/>
                <Cell col="1" displaytype="text" style="align:left;" text="bind:CUST_TYPE"/>
                <Cell col="2" displaytype="text" style="align:left;" text="bind:UPJANG_TYPE" combodataset="ds_Gbn" combocodecol="CD" combodatacol="NM"/>
                <Cell col="3" displaytype="text" style="align:left;" text="bind:UPJANG"/>
                <Cell col="4" displaytype="text" style="align:left;" text="bind:MAIN_UPJANG_NM"/>
                <Cell col="5" displaytype="text" style="align:left;" text="bind:UPJANG_NM"/>
                <Cell col="6" displaytype="text" style="align:left;" text="bind:PART_SALES_SABUN_NM"/>
                <Cell col="7" displaytype="text" style="align:left;" text="bind:CS_SABUN_NM"/>
                <Cell col="8" displaytype="number" style="align:right;" text="bind:CREDIT_AMOUNT"/>
                <Cell col="9" displaytype="number" style="align:right;" text="bind:CREDIT_OVER_AMOUNT"/>
                <Cell col="10" displaytype="text" style="align:left;" text="bind:CREDIT_OVER_END" mask="expr:gfn_isNull(CREDIT_OVER_END) ? '' : '####-##-##'"/>
                <Cell col="11" displaytype="text" style="align:center middle;" text="bind:CREDIT_END" mask="expr:gfn_isNull(CREDIT_END) ? '' : '####-##-##'"/>
                <Cell col="12" displaytype="number" style="align:left;" text="bind:CREDIT_EXT_AMOUNT"/>
                <Cell col="13" displaytype="number" style="align:right;" text="bind:CREDIT_TURN_DAYS"/>
                <Cell col="14" displaytype="number" style="align:left;" text="bind:CREDIT_EXT_DAYS"/>
                <Cell col="15" displaytype="text" style="align:left;" text="bind:HEAD_CREDIT_YN"/>
                <Cell col="16" displaytype="text" style="align:left;" text="bind:CREDIT_CONTROL_YN"/>
                <Cell col="17" displaytype="text" style="align:left;" text="bind:CREDIT_TYPE"/>
                <Cell col="18" displaytype="combo" style="align:left;" text="bind:PAY_GUBUN_CD" combodataset="ds_PAY_GUBUN_CD" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell col="19" displaytype="text" style="align:left;" text="bind:PAY_DATE"/>
                <Cell col="20" displaytype="text" text="bind:SAFE_KEY"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Div id="div_cmnBtn" taborder="22" text="Div0" url="cmn::CmnBtn.xfdl" position="absolute 0 0 1237 30" anchor="left top right" scrollbars="none"/>
        <Static id="Static02" text="본사" position="absolute 569 40 605 61" class="sta_WFSA_label"/>
        <Static id="Static3" text="사업장" position="absolute 779 40 832 61" class="sta_WFSA_label"/>
        <Edit autoselect="true" id="ed_S_MAIN_UPJANG" imemode="native" taborder="6" position="absolute 612 40 749 61" onkeydown="sed_common_OnChar"/>
        <Edit autoselect="true" id="ed_S_UPJANG" imemode="native" taborder="7" position="absolute 835 40 972 61" onkeydown="sed_common_OnChar"/>
        <Static id="Static4" text="고객구분" position="absolute 15 40 79 61" class="sta_WFSA_label"/>
        <Static id="Static42" text="여신 통합 관리 여부" position="absolute 0 539 130 566" class="sta_WFDA_Label01"/>
        <Radio codecolumn="CODE" columncount="2" datacolumn="code_name" id="rdo_HEAD_CREDIT_YN" index="-1" innerdataset="ds_useyn" taborder="12" position="absolute 132 542 242 563"/>
        <Static id="Static2" text="여   신   연   장   일" position="absolute 921 443 1056 470" class="sta_WFDA_Label01" visible="false"/>
        <Static id="Static0" text="여 신  연  장  금  액" position="absolute 630 443 760 470" class="sta_WFDA_Label01" visible="false"/>
        <Static id="Static6" text="임     시     여     신" position="absolute 0 617 130 644" class="sta_WFDA_Label01"/>
        <Static id="Static7" text="여 신  관  리  기  준" position="absolute 0 565 130 592" class="sta_WFDA_Label01"/>
        <Static id="Static8" text="여   신   종   료   일" position="absolute 291 565 426 592" class="sta_WFDA_Label01"/>
        <Static id="Static9" text="기     본     여     신" position="absolute 0 591 130 618" class="sta_WFDA_Label01"/>
        <Static id="Static10" text="여신 발주 통제 여부" position="absolute 291 539 426 566" class="sta_WFDA_Label01"/>
        <Static id="Static12" text="여   신   회   전   일" position="absolute 291 591 426 618" class="sta_WFDA_Label01"/>
        <Static id="Static14" text="임 시 여 신 종 료 일" position="absolute 291 617 426 644" class="sta_WFDA_Label01"/>
        <Combo codecolumn="CODE" datacolumn="code_name" id="cbo_CREDITTYPE" index="0" innerdataset="ds_CREDITTYPE" taborder="14" position="absolute 132 568 291 589"/>
        <MaskEdit id="med_CREDIT_AMOUNT" taborder="17" value="MaskEdit0" position="absolute 132 594 289 615" mask="#,###"/>
        <Radio codecolumn="CODE" columncount="2" datacolumn="code_name" id="rdo_CREDIT_CONTROL_YN" index="-1" innerdataset="ds_useyn" taborder="13" position="absolute 428 542 538 563"/>
        <MaskEdit id="med_CREDIT_TURN_DAYS" taborder="18" value="MaskEdit0" position="absolute 481 594 585 615"/>
        <MaskEdit id="med_CREDIT_EXT_DAYS" readonly="true" taborder="20" value="MaskEdit0" position="absolute 1058 446 1215 467" visible="false"/>
        <MaskEdit id="med_CREDIT_EXT_AMOUNT" readonly="true" taborder="19" value="MaskEdit0" position="absolute 762 446 919 467" mask="#,###" visible="false"/>
        <MaskEdit id="med_CREDIT_OVER_AMOUNT" taborder="21" value="MaskEdit0" position="absolute 132 620 289 641" mask="#,###"/>
        <MaskEdit id="cal_CREDIT_END" mask="####-##-##" oneditclick="g_Date_OnFocus" onsetfocus="g_Date_OnFocus" onkeydown="ed_pop_OnKeyDown" onkillfocus="g_Date_OnKillFocus" taborder="15" type="string" userdata="btn_CREDIT_END" position="absolute 428 568 561 589" class="msk_WF_Cal"/>
        <Button id="btn_CREDIT_END" onclick="g_CalButton_OnClick" taborder="16" userdata="cal_CREDIT_END" position="absolute 557 568 578 589" class="btn_WF_cal" text="" image=""/>
        <Edit id="ed_UPJANG" readonly="true" taborder="10" position="absolute 132 490 289 511"/>
        <Edit id="ed_CUST_NAME" readonly="true" taborder="11" position="absolute 428 490 585 511"/>
        <Static id="Static11" text="사   업   장   코   드" position="absolute 0 487 130 514" class="sta_WFDA_Label01"/>
        <Static id="Static13" text="사     업     장     명" position="absolute 291 487 426 514" class="sta_WFDA_Label01"/>
        <Combo codecolumn="CODE" datacolumn="code_name" id="cbo_UseYN" imemode="none" index="1" innerdataset="ds_Use" type="NOTFILTERED" taborder="8" position="absolute 1070 40 1135 61"/>
        <Static id="Static15" text="사용여부" position="absolute 1002 40 1065 61" class="sta_WFSA_label"/>
        <Button enable="false" id="btn_CREDIT_TURN_DAYS" onclick="btn_defalut_OnClick" taborder="38" text="기본" userdata="30" position="absolute 428 594 479 615" class="btn_WF_Custom" image=""/>
        <Button id="btn_CREDIT_AMOUNT" onclick="btn_defalut_OnClick" taborder="39" text="기본" userdata="1000" visible="false" position="absolute 469 460 520 482" class="btn_WF_Custom" image=""/>
        <Grid autoenter="select" binddataset="ds_Hist" cellsizingtype="both" enable="true" id="Grid0" useinputpanel="false" onheadclick="grd_List_OnHeadClick" taborder="40" tabstop="true" usecontextmenu="true" useselcolor="true" visible="true" wheelscrollrow="1" position="absolute 598 486 1237 710" readonly="true" selecttype="row" anchor="all" scrollbars="autoboth" autofittype="none">
          <Formats>
            <Format id="Default">
              <Columns>
                <Column size="25"/>
                <Column size="97"/>
                <Column size="121"/>
                <Column size="96"/>
                <Column size="85"/>
                <Column size="35"/>
                <Column size="106"/>
                <Column size="80"/>
                <Column size="373"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="text" class="head_Excel"/>
                <Cell col="1" displaytype="text" text="기본여신"/>
                <Cell col="2" displaytype="text" text="임시여신"/>
                <Cell col="3" displaytype="text" text="임시여신종료일"/>
                <Cell col="4" displaytype="text" text="여신회전일"/>
                <Cell col="5" displaytype="text" text="통합"/>
                <Cell col="6" displaytype="text" text="조정일시"/>
                <Cell col="7" displaytype="text" text="조정자"/>
                <Cell col="8" displaytype="text" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="number" style="align:left;" expr="expr:currow+1"/>
                <Cell col="1" displaytype="number" style="align:right;" text="bind:CREDIT_AMOUNT"/>
                <Cell col="2" displaytype="number" style="align:right;" text="bind:CREDIT_OVER_AMOUNT"/>
                <Cell col="3" displaytype="date" style="align:center;" text="bind:CREDIT_OVER_END" calendardisplaynulltype="none"/>
                <Cell col="4" displaytype="number" style="align:right;" text="bind:CREDIT_TURN_DAYS"/>
                <Cell col="5" displaytype="text" style="align:center;" text="bind:HEAD_CREDIT_YN"/>
                <Cell col="6" displaytype="text" style="align:left;" text="bind:UDATE"/>
                <Cell col="7" displaytype="text" style="align:left;" text="bind:UUSER"/>
                <Cell col="8" displaytype="text" style="align:left;" text="bind:ATTR04"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <MaskEdit id="cal_CREDIT_OVER_END" mask="####-##-##" oneditclick="g_Date_OnFocus" onsetfocus="g_Date_OnFocus" onkeydown="ed_pop_OnKeyDown" onkillfocus="g_Date_OnKillFocus" taborder="42" type="string" userdata="btn_CREDIT_OVER_END" position="absolute 428 620 561 641" class="msk_WF_Cal"/>
        <Button id="btn_CREDIT_OVER_END" onclick="g_CalButton_OnClick" taborder="43" userdata="cal_CREDIT_OVER_END" position="absolute 560 620 581 641" class="btn_WF_cal" text="" image=""/>
        <Button id="btn_DaySearch" onclick="btn_DaySearch_OnClick" taborder="44" text="일자별 이력조회" position="absolute 1136 461 1237 482" class="btn_WF_Custom" image="" anchor="top right"/>
        <Static id="Static17" text="채   권   기   준   일" position="absolute 0 643 130 670" class="sta_WFDA_Label01"/>
        <Combo codecolumn="CODE" datacolumn="CODE_NAME" id="cbo_PAY_GUBUN_CD" index="0" taborder="46" position="absolute 132 646 226 667" innerdataset="@ds_PAY_GUBUN_CD"/>
        <MaskEdit id="me_PAY_DATE" taborder="47" value="MaskEdit0" position="absolute 228 646 289 667"/>
        <Static id="Static18" text="여신정보" position="absolute 0 469 80 487" class="sta_WF_Title01"/>
        <Static id="Static19" text="여신액/여신일 이력조회" position="absolute 598 469 763 487" class="sta_WF_Title01"/>
        <Button id="Button0" onclick="Button0_OnClick" taborder="57" text="담보정보" position="absolute 523 461 588 482" class="btn_WF_Custom" image=""/>
        <Edit id="Edit0" taborder="58" position="absolute 132 672 584 693"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static09" text="W10" visible="false" position="absolute 73 39 83 60" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static00" text="W30" visible="false" position="absolute 539 41 569 62" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static05" text="W10" visible="false" position="absolute 602 37 612 58" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static21" text="W30" visible="false" position="absolute 749 39 779 60" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static22" text="W10" visible="false" position="absolute 825 35 835 56" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static23" text="W30" visible="false" position="absolute 972 37 1002 58" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static24" text="W10" visible="false" position="absolute 1060 43 1070 64" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static25" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 456 280 469"/>
        <Static id="Static26" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 482 280 487"/>
        <Static id="Static33" text="10" class="Guide01_AreaRed" visible="false" position="absolute 588 493 598 768"/>
        <Static id="Static07" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 71 450 86"/>
        <Static id="Static34" text="비                     고" class="sta_WFDA_Label01" position="absolute 0 669 130 696"/>
        <CheckBox id="chk_1" taborder="1" text="도매" position="absolute 143 40 201 60" enable="false" style=":disabled {font:Gulim,9;}"/>
        <CheckBox id="chk_2" taborder="2" text="캐터링" position="absolute 210 40 278 60" enable="false" style=":disabled {font:Gulim,9;}"/>
        <CheckBox id="chk_3" taborder="3" text="일반" position="absolute 285 40 342 60" enable="false" style=":disabled {font:Gulim,9;}"/>
        <CheckBox id="chk_4" taborder="4" text="외식(직영)" position="absolute 348 40 435 60" enable="false" style=":disabled {font:Gulim,9;}"/>
        <CheckBox id="chk_5" taborder="5" text="외식(가맹점)" position="absolute 442 40 540 60" enable="false" style=":disabled {font:Gulim,9;}"/>
        <CheckBox id="chk_0" taborder="0" text="전체" position="absolute 83 40 139 60" class="chk_WF_Essential" onclick="fn_checkSet" value="true" style="font:Gulim,9,bold;"/>
        <Static id="Static20" text="W10" visible="false" position="absolute 133 40 143 61" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static35" text="W10" visible="false" position="absolute 200 39 210 60" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static36" text="W10" visible="false" position="absolute 275 40 285 61" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static37" text="W10" visible="false" position="absolute 338 39 348 60" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static38" text="W10" visible="false" position="absolute 432 39 442 60" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Button id="btn_MobileSearch" taborder="59" text="모바일 이력조회" class="btn_WF_Custom" position="absolute 1032 461 1133 482" anchor="top right" onclick="btn_MobileSearch_onclick"/>
        <Button id="Button01" taborder="60" text="Button01" position="absolute 1148 36 1194 64" onclick="Button01_onclick" visible="false"/>
        <Static id="Static39" text="사   업   자   번   호" class="sta_WFDA_Label01" position="absolute 0 513 130 540"/>
        <Edit id="ed_SAUPNO" taborder="61" readonly="true" position="absolute 132 516 289 537"/>
        <Static id="Static40" text="대         표         자" class="sta_WFDA_Label01" position="absolute 291 513 426 540"/>
        <Edit id="ed_CUST_NAME00" taborder="62" readonly="true" position="absolute 428 516 585 537"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_list">
        <ColumnInfo>
          <Column id="MAIN_UPJANG" size="22" prop="default" type="INT"/>
          <Column id="MAIN_UPJANG_NM" size="50" prop="default" type="STRING"/>
          <Column id="UPJANG" size="22" prop="default" type="INT"/>
          <Column id="UPJANG_NM" size="50" prop="default" type="STRING"/>
          <Column id="CUST_TYPE" size="50" prop="default" type="STRING"/>
          <Column id="CUSTCD" size="22" prop="default" type="INT"/>
          <Column id="UPJANG_TYPE" size="225" prop="default" type="STRING"/>
          <Column id="CREDIT_AMOUNT" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_OVER_AMOUNT" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_EXT_AMOUNT" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_TURN_DAYS" size="22" prop="default" type="INT"/>
          <Column id="CREDIT_EXT_DAYS" size="22" prop="default" type="INT"/>
          <Column id="HEAD_CREDIT_YN" size="1" prop="default" type="STRING"/>
          <Column id="CS_SABUN_NM" size="50" prop="default" type="STRING"/>
          <Column id="PART_SALES_TEL_NO" size="50" prop="default" type="STRING"/>
          <Column id="PART_SALES_SABUN_NM" size="50" prop="default" type="STRING"/>
          <Column id="CS_TEL_NO" size="50" prop="default" type="STRING"/>
          <Column id="CREDIT_CONTROL_YN" size="1" prop="default" type="STRING"/>
          <Column id="CREDIT_TYPE" size="50" prop="default" type="STRING"/>
          <Column id="CREDIT_OVER_END" size="50" prop="default" type="STRING"/>
          <Column id="PAY_GUBUN_CD" size="256" prop="default" type="STRING"/>
          <Column id="PAY_DATE" size="256" prop="default" type="STRING"/>
          <Column id="SAFE_KEY" size="256" prop="default" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_input">
        <ColumnInfo>
          <Column id="MAIN_UPJANG" size="256" type="STRING"/>
          <Column id="MAIN_UPJANG_NM" size="256" type="STRING"/>
          <Column id="UPJANG" size="256" type="STRING"/>
          <Column id="UPJANG_NM" size="256" type="STRING"/>
          <Column id="CUST_TYPE" size="256" type="STRING"/>
          <Column id="CUST_CHK1" size="256" type="STRING"/>
          <Column id="CUST_CHK2" size="256" type="STRING"/>
          <Column id="CUST_CHK3" size="256" type="STRING"/>
          <Column id="CUST_CHK4" size="256" type="STRING"/>
          <Column id="CUST_CHK5" size="256" type="STRING"/>
          <Column id="UJ_UPJANG" size="256" type="STRING"/>
          <Column id="FILEURL" size="256" type="STRING"/>
          <Column id="USE_YN" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CUST_TYPE"/>
            <Col id="FILEURL"/>
            <Col id="MAIN_UPJANG"/>
            <Col id="MAIN_UPJANG_NM"/>
            <Col id="UJ_UPJANG"/>
            <Col id="UPJANG"/>
            <Col id="UPJANG_NM"/>
            <Col id="USE_YN"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_main" oncolumnchanged="ds_main_OnColumnChanged">
        <ColumnInfo>
          <Column id="ACNTCD" size="30" type="STRING"/>
          <Column id="ADDR" size="300" type="STRING"/>
          <Column id="ATTR01" size="300" type="STRING"/>
          <Column id="ATTR02" size="300" type="STRING"/>
          <Column id="ATTR03" size="300" type="STRING"/>
          <Column id="ATTR04" size="300" type="STRING"/>
          <Column id="ATTR05" size="300" type="STRING"/>
          <Column id="ATTR06" size="300" type="STRING"/>
          <Column id="ATTR07" size="300" type="STRING"/>
          <Column id="ATTR08" size="300" type="STRING"/>
          <Column id="ATTR09" size="300" type="STRING"/>
          <Column id="ATTR10" size="300" type="STRING"/>
          <Column id="BANK_CD" size="6" type="STRING"/>
          <Column id="BANK_DRNM" size="50" type="STRING"/>
          <Column id="BIZ_CAT" size="50" type="STRING"/>
          <Column id="BIZ_NUM" size="10" type="STRING"/>
          <Column id="BIZ_TYPE" size="50" type="STRING"/>
          <Column id="CAPITAL" size="22" type="INT"/>
          <Column id="CDATE" size="7" type="DATE"/>
          <Column id="CENTER_FLAG" size="1" type="STRING"/>
          <Column id="CLASS1_CNT" size="22" type="INT"/>
          <Column id="CLASS2_CNT" size="22" type="INT"/>
          <Column id="CLASS3_CNT" size="22" type="INT"/>
          <Column id="CLASS4_CNT" size="22" type="INT"/>
          <Column id="CLASS5_CNT" size="22" type="INT"/>
          <Column id="CLASS6_CNT" size="22" type="INT"/>
          <Column id="CLASS_CNT" size="22" type="INT"/>
          <Column id="CONSUM_OP_RATE_YN" size="1" type="STRING"/>
          <Column id="CONSUM_SM_RATE_YN" size="1" type="STRING"/>
          <Column id="CONT_SALES_SABUN" size="9" type="STRING"/>
          <Column id="CONT_SALES_SABUN_NM" size="20" type="STRING"/>
          <Column id="CONTRACT_EDATE" size="8" type="STRING"/>
          <Column id="CONTRACT_TERM" size="50" type="STRING"/>
          <Column id="CREDIT_AMOUNT" size="22" type="INT"/>
          <Column id="CREDIT_AMOUNT_CONTROL_YN" size="1" type="STRING"/>
          <Column id="CREDIT_CONTROL_YN" size="1" type="STRING"/>
          <Column id="CREDIT_END" size="8" type="STRING"/>
          <Column id="CREDIT_EXT_AMOUNT" size="22" type="INT"/>
          <Column id="CREDIT_EXT_DAYS" size="22" type="INT"/>
          <Column id="CREDIT_GRADE" size="50" type="STRING"/>
          <Column id="CREDIT_OVER_AMOUNT" size="22" type="INT"/>
          <Column id="CREDIT_START" size="8" type="STRING"/>
          <Column id="CREDIT_TURN_CONTROL_YN" size="1" type="STRING"/>
          <Column id="CREDIT_TURN_DAYS" size="22" type="INT"/>
          <Column id="CREDIT_TYPE" size="13" type="STRING"/>
          <Column id="CREDIT_UDATE" size="7" type="DATE"/>
          <Column id="CREDIT_UUSER" size="9" type="STRING"/>
          <Column id="CS_SABUN" size="9" type="STRING"/>
          <Column id="CS_SABUN_NM" size="20" type="STRING"/>
          <Column id="CS_TEL_NO" size="20" type="STRING"/>
          <Column id="CUSER" size="9" type="STRING"/>
          <Column id="CUST_ADDR" size="100" type="STRING"/>
          <Column id="CUST_NAME" size="50" type="STRING"/>
          <Column id="CUST_TYPE" size="50" type="STRING"/>
          <Column id="D_DAYS" size="22" type="INT"/>
          <Column id="D_OVER_DAYS" size="22" type="INT"/>
          <Column id="D_TIMES" size="22" type="INT"/>
          <Column id="DEPT_ID" size="22" type="INT"/>
          <Column id="DEPT_ID_NM" size="50" type="STRING"/>
          <Column id="EMPLOYEE_CNT" size="22" type="INT"/>
          <Column id="FINANCIAL_STATUS" size="50" type="STRING"/>
          <Column id="FREE_CNT" size="22" type="INT"/>
          <Column id="FST_REG_DATE" size="8" type="STRING"/>
          <Column id="GUAR_INSUR_INFO" size="300" type="STRING"/>
          <Column id="HEAD_CREDIT_YN" size="1" type="STRING"/>
          <Column id="LST_DEAL_DATE" size="8" type="STRING"/>
          <Column id="M_LEVEL" size="1" type="STRING"/>
          <Column id="MAIL_NUM" size="7" type="STRING"/>
          <Column id="MAIN_UPJANG" size="22" type="INT"/>
          <Column id="MAIN_UPJANG_NM" size="50" type="STRING"/>
          <Column id="MORTGAGE_INFO" size="300" type="STRING"/>
          <Column id="OP_RATE_YN" size="1" type="STRING"/>
          <Column id="OTCUST_OP_RATE_YN" size="1" type="STRING"/>
          <Column id="OTCUST_PRICE_UPJANG" size="22" type="INT"/>
          <Column id="OTCUST_PRICE_UPJANG_NM" size="50" type="STRING"/>
          <Column id="OTCUST_SM_RATE_YN" size="1" type="STRING"/>
          <Column id="OTCUST_UPJANG_TYPE" size="8" type="STRING"/>
          <Column id="PART_EMAIL" size="20" type="STRING"/>
          <Column id="PART_FAX_NO" size="20" type="STRING"/>
          <Column id="PART_HP_NO" size="20" type="STRING"/>
          <Column id="PART_NAME" size="20" type="STRING"/>
          <Column id="PART_SALES_SABUN" size="9" type="STRING"/>
          <Column id="PART_SALES_SABUN_NM" size="20" type="STRING"/>
          <Column id="PART_SALES_TEL_NO" size="20" type="STRING"/>
          <Column id="PART_TEL_NO" size="20" type="STRING"/>
          <Column id="PWD_CHG_CYCLE" size="22" type="INT"/>
          <Column id="PWD_CHG_YN" size="1" type="STRING"/>
          <Column id="QTY_CONTROL_YN" size="1" type="STRING"/>
          <Column id="RCV_EXP_DATE" size="8" type="STRING"/>
          <Column id="RCV_TYPE" size="50" type="STRING"/>
          <Column id="REMARK" size="300" type="STRING"/>
          <Column id="SALE_RATE" size="22" type="INT"/>
          <Column id="SIGN1" size="50" type="STRING"/>
          <Column id="SIGN2" size="50" type="STRING"/>
          <Column id="SIGN3" size="50" type="STRING"/>
          <Column id="SIGN4" size="50" type="STRING"/>
          <Column id="SM_RATE_YN" size="1" type="STRING"/>
          <Column id="SPECIAL_FACT" size="300" type="STRING"/>
          <Column id="SUPPLY_END" size="8" type="STRING"/>
          <Column id="TOT_CNT" size="22" type="INT"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="UPJANG" size="22" type="INT"/>
          <Column id="UPJANG_TYPE" size="6" type="STRING"/>
          <Column id="UPJANGNM_DISP" size="100" type="STRING"/>
          <Column id="USE_YN" size="1" type="STRING"/>
          <Column id="UUSER" size="9" type="STRING"/>
          <Column id="ZIP_CD" size="7" type="STRING"/>
          <Column id="BIZ_GROUP" size="256" type="STRING"/>
          <Column id="CREDIT_OVER_END" size="8" type="STRING"/>
          <Column id="PAY_GUBUN_CD" size="256" type="STRING"/>
          <Column id="PAY_DATE" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_useyn">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="code_name">사용</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="code_name">미사용</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_CustType">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE"/>
            <Col id="CODE_NAME">전체</Col>
          </Row>
          <Row>
            <Col id="CODE">캐터링</Col>
            <Col id="CODE_NAME">캐터링</Col>
          </Row>
          <Row>
            <Col id="CODE">가맹점</Col>
            <Col id="CODE_NAME">가맹점</Col>
          </Row>
          <Row>
            <Col id="CODE">도매</Col>
            <Col id="CODE_NAME">도매</Col>
          </Row>
          <Row>
            <Col id="CODE">외식</Col>
            <Col id="CODE_NAME">외식</Col>
          </Row>
          <Row>
            <Col id="CODE">일반</Col>
            <Col id="CODE_NAME">일반</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_UPJANG_TYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">본사</Col>
            <Col id="code_name">본사</Col>
          </Row>
          <Row>
            <Col id="CODE">사업장</Col>
            <Col id="code_name">사업장</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_CREDITTYPE">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">관리안함</Col>
            <Col id="code_name">관리안함</Col>
          </Row>
          <Row>
            <Col id="CODE">여신일</Col>
            <Col id="code_name">여신회전일</Col>
          </Row>
          <Row>
            <Col id="CODE">여신액</Col>
            <Col id="code_name">여신액</Col>
          </Row>
          <Row>
            <Col id="CODE">여신일+여신액</Col>
            <Col id="code_name">회전일+여신액</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Use">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="code_name" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE"/>
            <Col id="code_name">전체</Col>
          </Row>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="code_name">사용</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="code_name">미사용</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Hist" oncolumnchanged="ds_main_OnColumnChanged">
        <ColumnInfo>
          <Column id="CREDIT_AMOUNT" size="22" type="INT"/>
          <Column id="CREDIT_OVER_AMOUNT" size="22" type="INT"/>
          <Column id="CREDIT_TURN_DAYS" size="22" type="INT"/>
          <Column id="UDATE" size="7" type="DATE"/>
          <Column id="UUSER" size="9" type="STRING"/>
          <Column id="CREDIT_OVER_END" size="7" type="DATE"/>
          <Column id="ATTR04" size="300" type="STRING"/>
          <Column id="HEAD_CREDIT_YN" size="300" type="STRING"/>
          <Column id="MAIN_UPJANG" size="300" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Auth_in">
        <ColumnInfo>
          <Column id="SABUN" size="256" type="STRING"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="SABUN"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Auth_out">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_PAY_GUBUN_CD">
        <ColumnInfo>
          <Column id="CODE" size="256" type="STRING"/>
          <Column id="CODE_NAME" size="256" type="STRING"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="rdo_HEAD_CREDIT_YN_value" compid="rdo_HEAD_CREDIT_YN" propid="value" datasetid="ds_main" columnid="HEAD_CREDIT_YN"/>
      <BindItem id="cbo_CREDITTYPE_value" compid="cbo_CREDITTYPE" propid="value" datasetid="ds_main" columnid="CREDIT_TYPE"/>
      <BindItem id="med_CREDIT_AMOUNT_value" compid="med_CREDIT_AMOUNT" propid="value" datasetid="ds_main" columnid="CREDIT_AMOUNT"/>
      <BindItem id="rdo_CREDIT_CONTROL_YN_value" compid="rdo_CREDIT_CONTROL_YN" propid="value" datasetid="ds_main" columnid="CREDIT_CONTROL_YN"/>
      <BindItem id="med_CREDIT_TURN_DAYS_value" compid="med_CREDIT_TURN_DAYS" propid="value" datasetid="ds_main" columnid="CREDIT_TURN_DAYS"/>
      <BindItem id="med_CREDIT_EXT_DAYS_value" compid="med_CREDIT_EXT_DAYS" propid="value" datasetid="ds_main" columnid="CREDIT_EXT_DAYS"/>
      <BindItem id="med_CREDIT_EXT_AMOUNT_value" compid="med_CREDIT_EXT_AMOUNT" propid="value" datasetid="ds_main" columnid="CREDIT_EXT_AMOUNT"/>
      <BindItem id="med_CREDIT_OVER_AMOUNT_value" compid="med_CREDIT_OVER_AMOUNT" propid="value" datasetid="ds_main" columnid="CREDIT_OVER_AMOUNT"/>
      <BindItem id="cal_CREDIT_END_value" compid="cal_CREDIT_END" propid="value" datasetid="ds_main" columnid="CREDIT_END"/>
      <BindItem id="ed_UPJANG_value" compid="ed_UPJANG" propid="value" datasetid="ds_main" columnid="UPJANG"/>
      <BindItem id="ed_CUST_NAME_value" compid="ed_CUST_NAME" propid="value" datasetid="ds_main" columnid="UPJANGNM_DISP"/>
      <BindItem id="cal_CREDIT_OVER_END_value" compid="cal_CREDIT_OVER_END" propid="value" datasetid="ds_main" columnid="CREDIT_OVER_END"/>
      <BindItem id="cbo_PAY_GUBUN_CD_value" compid="cbo_PAY_GUBUN_CD" propid="value" datasetid="ds_main" columnid="PAY_GUBUN_CD"/>
      <BindItem id="me_PAY_DATE_value" compid="me_PAY_DATE" propid="value" datasetid="ds_main" columnid="PAY_DATE"/>
      <BindItem id="Edit0_value" compid="Edit0" propid="value" datasetid="ds_main" columnid="ATTR04"/>
      <BindItem id="item0" compid="ed_SAUPNO" propid="value" datasetid="ds_main" columnid="BIZ_NUM"/>
      <BindItem id="item1" compid="ed_CUST_NAME00" propid="value" datasetid="ds_main" columnid="DRNAME1"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";
/*
 ******************************************************************************************
 * 시스템구분   : 기준정보/사업장관리/여신정보관리
 * 프로그램명   : FMS00175E.XML
 * 기      능   : 여신정보관리
 * 작  성  자   : 박지영
 * 작성  일자   : 2008-05-08
 * 비      고   : 
 *		- ds_input				: [input DS] 조회조건 파라미터 DS
 *		- ds_CustType			: [코드 DS] 고객구분 DS (공통코드 : '고객구분')
 *		- ds_useyn				: [코드 DS] 사용구분 DS
 *		- ds_UPJANG_TYPE		: [코드 DS] 본사/사업장구분 DS
 *		- ds_PWD_CHG			: [코드 DS] 비밀번호 주기 DS
 *		- ds_OtcustType			: [코드 DS] 타거래처 단가업장구분 DS
 *		- ds_CREDITTYPE			: [코드 DS] 관리기준 DS
 *		- ds_FINANCIAL_STATUS	: [코드 DS] 재무상태 DS
 *		- ds_RCV_TYPE			: [코드 DS] 입금유형 DS
 *		- ds_BizGroup			: [코드 DS] 영업군 DS
 *		- ds_list				: 매출처리스트
 *		- ds_main				: [Main DS] 사업장 DS
 * ----------------------------------------------------------------------------------------
 * HISTORY    : ** 2008/11/18(화) 여신 한도 초과 금액 기간설정.
				      - 요청자 : FS 김진희씨 & 이혜은 대리.
				      - 내용   : 기존 화면 수정 변경 일자 필드를 한도초과 금액 기간 설정으로 변경.
				                 Default 값은 로그인 일로 부터 +7일 이며, 한도 초과 금액 기간이 
				                 지나면 발주 화면(상품발주,메뉴발주)에서 영향을 받음.
				                '여신 금액이 초과 되었습니다' 라는 메시지와 함께 발주를 막음.
				** 2010/02/10(수) 상단 그리드의 본사명/사업장 명 클릭 Event 수정.
				      - 요청자 : FS 기획팀 이혜은 대리.
				      - 내용   : 업장 조회 후 기존 본사 명을 클릭 하면 하단 상세 내역의 사업장 명에
				                 본사 명이 사업장 명으로 조회 되는 로직에서 무조건 Row 선택 시 
				                 해당 선택 사업장이 조회 되도록 수정.
				      - 변경 CSR : 34383
 ******************************************************************************************
 */

//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//=========================================================================================

//@@컨버터에서 주석처리 #include "lib::sc_comon.js"				// 시스템 공통
//@@컨버터에서 주석처리 #include "LIB::lib_comm_0001.js"		//JAVA 코딩시
//@@컨버터에서 주석처리 #include "LIB::tit_comm_0001.js"		// X-Framework Lib
//@@컨버터에서 주석처리 #include "lib::sc_sql_common.js"		// 공통팝업
//@@컨버터에서 주석처리 #include "lib::fm_common.js"			// FM공통
//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//=========================================================================================

var serverSaveDir = "FMM_UPJANG_IMG";			// 파일패스
var serverSaveUrl;								// 파일패스URL
var fstrSaveUpjang;
var Auth_Chk;                                   //여신한도초과금액/여신한도초과금액 종료일 권한에 따른 Enable 추가 2008.12.29 by KyuWan
//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//=========================================================================================

function form_onload(obj:Form, e:LoadEventInfo)
{
	//gfn_formOnLoad(obj, false);
	gfn_formOnLoad(this);
	// 업데이트 DS
	v_ds_check = "ds_main";	

	// X-Framework : Action 정보 생성 
	fsp_init(this);	

	// 공통코드조회
	var v_fil_cond;
	var v_ds = fn_common_code("'고객구분','FM0004','MA0015'","","","all","Y");	

	// 시스템구분(ds_CustType, GROUP_CODE : '고객구분')
	v_fil_cond = "GROUP_CODE == '고객구분'";
	v_ds.filter(v_fil_cond);
	CopyF(ds_CustType,v_ds.name);	
	
	// 식대지급구분
	var v_ds = fn_common_code("'MA0015'","","","non","Y");	
	ds_PAY_GUBUN_CD.copyData(v_ds);		

	//ds_input.setColumn(0,"CUST_TYPE",rdo_CUST_TYPE.value);						// 고객구분	

	// 초기값 셋팅
	//serverSaveUrl = tit_getServerDir(serverSaveDir);
	serverSaveUrl = fsp_getServerDir(serverSaveDir);
	
	// 여신한도 초과 권한 체크.
	//여신한도초과금액/여신한도초과금액 종료일 권한에 따른 Enable 추가 2008.12.29 by KyuWan
	fn_Authority_Chk();
	//===[start]===========================================================================
	if(ds_Auth_out.getRowCount() > 0)	
	{
	  //여신 한도 초과 설정권한 관리자 로그인 >> 여신 한도 초과 관련 항목들을 수정 가능 하게 열어 줌.
	  med_CREDIT_OVER_AMOUNT.enable = true;
	  cal_CREDIT_OVER_END.enable    = true;
	  btn_CREDIT_OVER_END.enable    = true;
	  rdo_CREDIT_CONTROL_YN.enable  = true;
	  
	  // 그리드의 Safe Key 항목 추가 : 2015-05-13, 권한이 있는 사람만 표시
	   this.grd_list.setFormatColProperty(20,"size",107);
	  
	  
	  Auth_Chk = 'Y';
	}
	else
	{
	  //권한이 없는 사람 >> 여신한도초과액과 여신한도초과액종료일 항목들을 수정하지 못하게 닫음.
	  med_CREDIT_OVER_AMOUNT.enable = false;
	  cal_CREDIT_OVER_END.enable    = false;
	  btn_CREDIT_OVER_END.enable    = false;
	  rdo_CREDIT_CONTROL_YN.enable  = false;
	  
	  // 모든항목에 대해서 수정할 수 없게 처리한다.(2015-04-27)
	  rdo_HEAD_CREDIT_YN.enable 	= false;	//여신통합관리여부
	  cbo_CREDITTYPE.enable			= false;	//여신관리기준
	  cal_CREDIT_END.enable			= false;	//여신종료일
	  med_CREDIT_AMOUNT.enable		= false;	//기본여신책정액
	  cbo_PAY_GUBUN_CD.enable		= false;	//채권기준일_구분
	  me_PAY_DATE.enable			= false;	//채권기준일_일자
	  Edit0.enable					= false;	//비고	
	  
	  // 그리드의 Safe Key 항목 추가 : 2015-05-13, 권한이 있는 사람만 표시
	  this.grd_list.setFormatColProperty(20,"size",0);
	  
	  Auth_Chk = 'N';
	}
	// 여신연장금액, 여신연장일 항목 숨기기 : 사용X
	this.grd_list.setFormatColProperty(12,"size",0);	
	this.grd_list.setFormatColProperty(14,"size",0);	
	
		
}

function frm_OnKeyDown(obj,objSenderObj,nChar,bShift,bControl,bAlt,nLLParam,nHLParam)
{
	gfn_formKeyDown(obj, e); //(obj,objSenderObj,nChar,bShift,bControl,bAlt,nLLParam,nHLParam);
}

//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,인쇄,도움말,form닫기)
//=========================================================================================
/*
 ******************************************************************************************
 * 함  수  명   : fn_Search()
 * 기      능   : [조회버튼] 검색조건에 해당하는 정보를 조회
 ******************************************************************************************
 */

function fn_search()
{
	// 조회조건체크
	if (!chk_0.value) {
		if (!chk_1.value && !chk_2.value && !chk_3.value && !chk_4.value && !chk_5.value) {
			g_Message("EE","고객구분을 1개이상 선택하십시요.");
			return;
		}
	}	
	
	var v_custType = "";
	var v_chk1 = "";
	var v_chk2 = "";
	var v_chk3 = "";
	var v_chk4 = "";
	var v_chk5 = "";

	if (!chk_0.value) {
		v_custType = "1";
		if (chk_1.value) v_chk1 = chk_1.text;
		if (chk_2.value) v_chk2 = chk_2.text;
		if (chk_3.value) v_chk3 = chk_3.text;
		if (chk_4.value) v_chk4 = chk_4.text;
		if (chk_5.value) v_chk5 = chk_5.text;
	}
	
	// 초기화

	ds_list.clearData();
	ds_main.clearData();
	ds_input.clearData();
	ds_input.addRow();	

	// 조회
	var actionName, cmdName, inData, outData, otherArg, callBackFnc;	

	inData			= "ds_input=ds_input";
	outData			= "ds_list=ds_list";
	callBackFnc		= "fn_afterSearchList";	

	// 파라미터셋팅
	ds_input.setColumn(0,"MAIN_UPJANG_NM",gfn_trim(ed_S_MAIN_UPJANG.value));	// 본사코드
	ds_input.setColumn(0,"UPJANG_NM",gfn_trim(ed_S_UPJANG.value));				// 사업장코드
	//ds_input.setColumn(0,"CUST_TYPE",rdo_CUST_TYPE.value);						// 고객구분
	ds_input.setColumn(0,"CUST_TYPE",v_custType);									// 고객구분
	ds_input.setColumn(0,"CUST_CHK1",v_chk1);									// 고객구분(도매)
	ds_input.setColumn(0,"CUST_CHK2",v_chk2);									// 고객구분(캐터링)
	ds_input.setColumn(0,"CUST_CHK3",v_chk3);									// 고객구분(일반)
	ds_input.setColumn(0,"CUST_CHK4",v_chk4);									// 고객구분(외식(직영))
	ds_input.setColumn(0,"CUST_CHK5",v_chk5);									// 고객구분(외식(가맹점))
	ds_input.setColumn(0,"USE_YN",cbo_UseYN.value);								// 사용유무

	fsp_clear(this); 
    //fsp_addSearch(this, "fm/fms:FMS00100E_S001");									// 조회 : 공통으로 사용되는 것 같음
    fsp_addSearch(this, "fm/fms:FMS00175E_S003");									// 조회 : 신규로 QUERY 문 별도 작성
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 

}


/*
 ******************************************************************************************
 * 함  수  명   : fn_Insert()
 * 기      능   : [입력버튼] 입력 시 처리되는 작업
 * 비      고	: 팝업사용
 ******************************************************************************************
 */

function fn_insert()
{

}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Save()
 * 기      능   : [저장버튼] 저장 시 처리되는 작업
 ******************************************************************************************
 */

function fn_save()
{
	// 변경여부 확인
	if(gfn_dsIsUpdated(ds_main)==false)
	{
		g_Message("EE", "변경된 데이터가 없습니다.");
		return;
	}

	if(!fn_SaveCheck())
	{
		return;
	}
	
	//2016.11.01 이혜은 요청
	//변경한 내용이 사업장중 통합여부를 Y로 바꾼 업장
	if(ds_list.getColumn(ds_list.rowposition,"MAIN_UPJANG") <>  ds_list.getColumn(ds_list.rowposition,"UPJANG") && ds_main.getColumn(ds_main.rowposition,"HEAD_CREDIT_YN") == "Y")
	{
		//그 업장의 해당 메인업장의 통합여부를 Y로 변경
		fn_changeMainHead(ds_list.getColumn(ds_list.rowposition,"UPJANG"));
	}	

	fstrSaveUpjang = ds_main.getColumn(ds_main.rowposition,"UPJANG");	

    // 서비스셋팅
    var actionName, cmdName, inData, outData, otherArg, callBackFnc;
    var insertSql, updateSql, deleteSql,saveFlagColumn, keySqlName, keyIncrement, callbackSql;    

    inData		= "ds_main=ds_main:U ds_input=ds_input";
    outData		= "ds_main=ds_main ds_list=ds_list";
    callBackFnc	= "fn_afterSave";
    insertSql 	= "";
//    updateSql	= "fm/fms:FMS00100E_U001";
    //2011.11.11 박은규 별도의 수정쿼리 사용(매출처 정보관리와 여신정보 업데이트가 겹친다.)
    updateSql	= "fm/fms:FMS00175E_U002";
    deleteSql	= "";
    keyIncrement= -1;
    callbackSql	= "fm/fms:FMS00100E_S001";    

    fsp_clear(this);
    fsp_addSave(this, insertSql, updateSql, deleteSql,saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    fsp_addSave(this, insertSql, "fm/fms:FMS00175E_U001", deleteSql,saveFlagColumn, keySqlName, keyIncrement, "");
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Delete()
 * 기      능   : [삭제버튼] 삭제 시 처리되는 작업
 ******************************************************************************************
 */

function fn_delete()
{
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Print()
 * 기      능   : [출력버튼] 출력 시 처리되는 작업
 ******************************************************************************************
 */

function fn_print()
{
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Close()
 * 기      능   : [닫기버튼] 화면을 닫을때 처리되는 작업
 ******************************************************************************************
 */

function fn_Close()
{
	this.close();
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_Help()
 * 기      능   : [도움말버튼] 도움말
 ******************************************************************************************
 */

function fn_help()
{
	// tit_addSearchActionInfo(this, "fm/fms:SCC_MENU_SELECT");
	// tit_callService(this, "", "", "ds_cond=ds_cond", "ds_Menu=ds_list", "", "");	
}

//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================

/*
 ******************************************************************************************
 * 함  수  명   : fn_SerchSub(nUPJANG)
 * 입      력   : nUPJANG = 조회할 업장코드
 * 반      환   : 없음
 * 기      능   : 사업장 상세정보 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function fn_SerchSub(nUPJANG)
{
	// 초기화
	ds_main.clearData();	

	// 조회
	var actionName, cmdName, inData, outData, otherArg, callBackFnc;	

	//inData			= "ds_input=ds_input";
	outData			= "ds_main=ds_main ds_Hist=ds_Hist";
	callBackFnc		= "fn_afterSearch";
	otherArg		=  "UJ_UPJANG="	+ wrapQuote(nUPJANG);
	otherArg		+= " FILEURL="	+ wrapQuote(serverSaveUrl);

	// 파라미터셋팅
	ds_input.setColumn(0,"UJ_UPJANG",nUPJANG);						// 사업장코드
	ds_input.setColumn(0,"FILEURL",serverSaveUrl);	

	fsp_clear(this); 
    fsp_addSearch(this, "fm/fms:FMS00100E_S002");									// 메인상세
    fsp_addSearch(this, "fm/fms:FMS00175E_S001");									// 여신내역
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 
    
	if(Auth_Chk == 'Y')	
	{
	  //여신 한도 초과 설정권한 관리자 로그인 >> 여신 한도 초과 관련 항목들을 수정 가능 하게 열어 줌.
	  med_CREDIT_OVER_AMOUNT.enable = true;
	  cal_CREDIT_OVER_END.enable    = true;
	  btn_CREDIT_OVER_END.enable    = true;	  
	}
	else
	{
	  //권한이 없는 사람 >> 여신한도초과액과 여신한도초과액종료일 항목들을 수정하지 못하게 닫음.
	  med_CREDIT_OVER_AMOUNT.enable = false;
	  cal_CREDIT_OVER_END.enable    = false;
	  btn_CREDIT_OVER_END.enable    = false;	  
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_SaveCheck()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 저상시 필수입력 체크
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function fn_SaveCheck()
{

	var nFRow,nRow,strValue,btp,strmsg;

	nRow = ds_main.rowposition;	

    // 여신정보 체크
    // 관리기준이 관리안함인 경우는 체크안함. 여신일,여신액,여신일+여신액인 경우 각 항목의 값이 0이상 인지를 체크
    btp = false;
    strValue = ds_main.getColumn(nRow,"CREDIT_TYPE");
	
    if (strValue!="관리안함" && ds_main.getColumn(nRow,"HEAD_CREDIT_YN") == "N")
    {
		if (strValue!="여신일")
		{
			if (toNumber(ds_main.getColumn(nRow,"CREDIT_AMOUNT"))<=0)
			{
				btp = true;
			}
		}

		if (strValue!="여신액")
		{
			if (toNumber(ds_main.getColumn(nRow,"CREDIT_TURN_DAYS"))<=0)
			{
				btp = true;
			}
		}		

		if (btp)
		{
			strmsg = "설정 및 채권/여신정보를 등록하지 않으셨습니다.\n";
		}
    }    

    // 저장확인
	if(!g_Confirm("02",gfn_nvl(strmsg,"")+"그대로 저장하시겠습니까?"))
	{
		return false;
	}    

    return true;
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_FormSetting()
 * 입      력   : 없음
 * 반      환   : 없음
 * 기      능   : 조회 후 화면셋팅
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function fn_FormSetting()
{
	var nRow,strValue;
	var btp1,btp2,btp3,btp4;	

	nRow = ds_main.rowposition;	

	// 통합관리여부에 따른 셋팅
	if (ds_main.getColumn(nRow,"HEAD_CREDIT_YN") == "Y" 
		&& ds_main.getColumn(nRow,"UPJANG_TYPE") == "사업장")		// 본사 통합관리
	{
		btp1 = false;
		btp2 = false;
		btp3 = false;
		btp4 = true;
	}
	else
	{
	// 관리기준에 따른 폼셋팅
	strValue = ds_main.getColumn(nRow,"CREDIT_TYPE");
		if (strValue == "관리안함")
		{
			btp1 = false;
			btp2 = false;
			btp3 = false;
		}
		else if (strValue == "여신일")
		{
			btp1 = true;
			btp2 = true;
			btp3 = false;
		}
		else if (strValue == "여신액")
		{
			btp1 = true;
			btp2 = false;
			btp3 = true;
		}
		else	// 여신일 + 여신액
		{
			btp1 = true;
			btp2 = true;
			btp3 = true;
		}
		btp4 = btp1;
	}

	rdo_HEAD_CREDIT_YN.enable 			= btp4;
	med_CREDIT_TURN_DAYS.enable 		= btp2;
	btn_CREDIT_TURN_DAYS.enable 		= btp2;
	//med_CREDIT_EXT_DAYS.Enable 		= btp2;
	med_CREDIT_AMOUNT.enable 			= btp3;
	btn_CREDIT_AMOUNT.enable 			= btp3;
	//med_CREDIT_EXT_AMOUNT.Enable 		= btp3;
	//rdo_CREDIT_CONTROL_YN.Enable 		= btp4;
	med_CREDIT_OVER_AMOUNT.enable 		= btp1;
	
	if(Auth_Chk == 'Y')	
	{
	  //여신 한도 초과 설정권한 관리자 로그인 >> 여신 한도 초과 관련 항목들을 수정 가능 하게 열어 줌.
	  med_CREDIT_OVER_AMOUNT.enable = true;
	  cal_CREDIT_OVER_END.enable    = true;
	  btn_CREDIT_OVER_END.enable    = true;	  
	}
	else
	{
	  //권한이 없는 사람 >> 여신한도초과액과 여신한도초과액종료일 항목들을 수정하지 못하게 닫음.
	  med_CREDIT_OVER_AMOUNT.enable = false;
	  cal_CREDIT_OVER_END.enable    = false;
	  btn_CREDIT_OVER_END.enable    = false;	  
	  
	  // 모든항목에 대해서 수정할 수 없게 처리한다.(2015-04-27)
	  rdo_HEAD_CREDIT_YN.enable 	= false;	//여신통합관리여부
	  cbo_CREDITTYPE.enable			= false;	//여신관리기준
	  cal_CREDIT_END.enable			= false;	//여신종료일
	  med_CREDIT_AMOUNT.enable		= false;	//기본여신책정액
	  cbo_PAY_GUBUN_CD.enable		= false;	//채권기준일_구분
	  me_PAY_DATE.enable			= false;	//채권기준일_일자
	  Edit0.enable					= false;	//비고	
	  
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSearchList()
 * 입      력   : errCode 	= 에러코드
				  errMsg	= 에러메세지
 * 반      환   : 없음
 * 기      능   : 리스트 조회 후 실행 함수
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function fn_afterSearchList(errCode, errMsg)
{	
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오.");
		return;
	}
	else
	{
		if (ds_list.rowcount > 0)
		{
			fn_SerchSub(ds_list.getColumn(ds_list.rowposition,"UPJANG"));
		}
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSearch()
 * 입      력   : errCode 	= 에러코드
				  errMsg	= 에러메세지
 * 반      환   : 없음
 * 기      능   : 사업장 조회 후 실행 함수
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function fn_afterSearch(errCode, errMsg)
{
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오");
		return;
	}
	else
	{
		fn_FormSetting();
	}
}

/*
 ******************************************************************************************
 * 함  수  명   : fn_afterSave()
 * 입      력   : errCode 	= 에러코드
				  errMsg	= 에러메세지
 * 반      환   : 없음
 * 기      능   : 저장
 * 작  성  자   : 박지영
 * 작성  일자   : 2008-01-16 
 ******************************************************************************************
 */

function fn_afterSave(errCode, errMsg)
{
	if(errCode==0)
	{
		var nFRow = ds_list.findRow("UPJANG",fstrSaveUpjang);	

		if (nFRow >= 0)
		{
			ds_list.rowposition = nFRow;
			fn_SerchSub(fstrSaveUpjang);
		}
	}
}

//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 기요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================
/*

 ******************************************************************************************
 * 함  수  명   : grd_list_OnCellClick(obj,nRow,nCell,nX,nY,nPivotIndex)
 * 기      능   : 사업장 그리드 클릭 시 상세내역 조회
					- 본사명을 클릭한 경우 본사 상세내역 조회, 그외의 경우 해당 사업장 상세내역 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function grd_list_OnCellClick(obj:Grid, e:GridClickEventInfo)
{
	// 변경여부 확인
	if(gfn_dsIsUpdated(ds_main)==true)
	{
		if(g_Confirm("02","변경된 내역이 있습니다. 변경된 내역을 저장하시겠습니까?"))
		{
			fn_save();
		}
	}	

	var nUPJANG;	

	//=====================================
	// CSR : 34383 (기존 기능 제외) Strart
	//=====================================
	//if (nCell == 4)		// 본사명 클릭 
	//{
	//	nUPJANG = ds_list.GetColumn(nRow,"MAIN_UPJANG");
	//}
	//else				// 그외 다른셀 클릭
	//{
	//=====================================
	// CSR : 34383 (기존 기능 제외) End
	//=====================================	
	nUPJANG = ds_list.getColumn(e.row,"UPJANG");
	//}	

	fn_SerchSub(nUPJANG);
}

/******************************************************************************************
 * 함  수  명   : grd_List_OnHeadClick(obj,nCell,nX,nY,nPivotIndex)
 * 기      능   : 그리드헤드 더블클릭시 Sort
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function grd_List_OnHeadClick(obj:Grid, e:GridClickEventInfo)
{
	gfn_gridSort(obj, e); //(eval(obj.binddataset), obj, e.cell);
}

/******************************************************************************************
 * 함  수  명   : ds_main_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
 * 기      능   : 데이타 변경시 셋팅작업
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20  
 ******************************************************************************************
 */

function ds_main_OnColumnChanged(obj:Dataset, e:DSColChangeEventInfo)
{
	// 여신관리기준에 따라 여신일,여신액관리 셋팅,여신관리준이 관리안함인 경우 본사통합관리여부안함.
	if (e.columnid=="CREDIT_TYPE")
	{
		if (e.newvalue == "여신일+여신액")
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","Y");
		}
		else if (e.newvalue == "여신일")
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","N");
		}
		else if (e.newvalue == "여신액")
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","Y");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","N");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","Y");
		}
		else
		{
			ds_main.setColumn(e.row,"CREDIT_CONTROL_YN","N");
			ds_main.setColumn(e.row,"CREDIT_TURN_CONTROL_YN","N");
			ds_main.setColumn(e.row,"CREDIT_AMOUNT_CONTROL_YN","N");
			ds_main.setColumn(e.row,"HEAD_CREDIT_YN","N");
		}
	}	
/*20100319 이혜은대리 요청으로 제거. 박은규
	// 본사통합관리시 여신액,회전일 셋팅 클리어
	if (strColumnID=="HEAD_CREDIT_YN" && varNewValue == "Y" && ds_main.GetColumn(nRow,"UPJANG_TYPE") == "사업장")
	{
		ds_main.SetColumn(nRow,"CREDIT_AMOUNT",null);
		ds_main.SetColumn(nRow,"CREDIT_TURN_DAYS",null);
		ds_main.SetColumn(nRow,"CREDIT_OVER_AMOUNT",null);
	}
*/
	fn_FormSetting();
}

/******************************************************************************************
 * 함  수  명   : sed_common_OnChar(obj,strPreText,nChar,strPostText,LLParam,HLParam)
 * 기      능   : 검색조건 엔터시 조회
 * 작  성  자   : 박지영
 * 작성  일자   : 2007-11-20 
 ******************************************************************************************
 */
function sed_common_OnChar(obj:Edit, e:KeyEventInfo)
{
	if(e.keycode == 13)	//엔터
	{
		fn_search();
	}
}

/******************************************************************************************
 * 함  수  명   : btn_defalut_OnClick(obj)
 * 기      능   : 기본값 셋팅(버튼 UserData에 기본값 넣어둠.)
 * 작  성  자   : 박지영
 * 작성  일자   : 2008-07-29 
 ******************************************************************************************
 */
 
function btn_defalut_OnClick(obj:Button, e:ClickEventInfo)
{
	var strColNm = gfn_replace(obj.name,"btn_","");
	var strDefalutVal = btn_CREDIT_TURN_DAYS.userdata;
	
	// 기본값 셋팅 : 여신회전일 기본값 = 30
	ds_main.setColumn(ds_main.rowposition,strColNm,strDefalutVal);
}

function btn_DaySearch_OnClick(obj:Button, e:ClickEventInfo)
{
	var arr = gfn_openPopup("U_FMS::FMS00175V.xfdl", true);	
}


function btn_MobileSearch_onclick(obj:Button,  e:ClickEventInfo)
{
	var arr = gfn_openPopup("U_FMS::FMS00176V.xfdl", true);
}


//여신한도초과금액/여신한도초과금액 종료일 권한에 따른 Enable 추가 2008.12.29 by KyuWan
function fn_Authority_Chk()
{	
	//로그인 사용자 정보(사번으로 권한 체크)
	ds_Auth_in.setColumn(0,"SABUN",g_EmpNo);
	
  //ALERT(ds_Auth_in.GetColumn(0,"SABUN"));
	
	//
	fsp_clear(this);	
	fsp_addSearch(this, "fm/fms:FMS00175E_S002");
//http.Sync True 설정(Open).
	http.Sync = true;

		fsp_callService(this, "", "", "ds_Auth_in=ds_Auth_in","ds_Auth_out=ds_Auth_out","","");

//http.Sync False 설정(Close).
	http.Sync = false;
	
}
function Button0_OnClick(obj:Button, e:ClickEventInfo)
{
    if (gfn_length(ed_UPJANG.value)== 0)
    {
		g_Message("EE","매출처를 선택하시기 바랍니다.");
		return;
    }
	
	var arg = {fa_Upjang:ds_main.getColumn(ds_main.rowposition,"UPJANG"),fa_UpjangNm:ds_main.getColumn(ds_main.rowposition,"UPJANGNM_DISP")};
	//"fa_Upjang="+ds_main.getColumn(ds_main.rowposition,"UPJANG")+" fa_UpjangNm="+ds_main.getColumn(ds_main.rowposition,"UPJANGNM_DISP")
	gfn_dialog("", "U_FMS::FMS00505P.xfdl", arg);
}


/******************************************************************************************
 * 함  수  명   : 고객구분 전체 CHECK BOX에 따른 속성 처리
 ******************************************************************************************
 */
function fn_checkSet()
{
	// 고객구분 종류 CHECK 해제
	chk_1.value = "0";
	chk_2.value = "0";
	chk_3.value = "0";
	chk_4.value = "0";
	chk_5.value = "0";

	// 전체
	if (chk_0.value) {
		// 전체 선택 시 고객구분 종류 비활성화
		chk_0.text = "전체";
		chk_1.enable = false;
		chk_2.enable = false;
		chk_3.enable = false;
		chk_4.enable = false;
		chk_5.enable = false;
	} else {
		// 전체 선택 시 고객구분 종류 비활성화
		chk_0.text = "선택";
		chk_1.enable = true;
		chk_2.enable = true;
		chk_3.enable = true;
		chk_4.enable = true;
		chk_5.enable = true;
	}


}


function Button01_onclick(obj:Button,  e:ClickEventInfo)
{
	trace(ds_list.getColumn(ds_list.rowposition,"MAIN_UPJANG"));
	trace(ds_list.getColumn(ds_list.rowposition,"UPJANG"));
	trace(ds_main.getColumn(ds_main.rowposition,"HEAD_CREDIT_YN"));
	
	//변경한 내용이 사업장중 통합여부를 Y로 바꾼 업장
	if(ds_list.getColumn(ds_list.rowposition,"MAIN_UPJANG") <>  ds_list.getColumn(ds_list.rowposition,"UPJANG") && ds_main.getColumn(ds_main.rowposition,"HEAD_CREDIT_YN") == "Y")
	{
		//그 업장의 해당 메인업장의 통합여부를 Y로 변경
		fn_changeMainHead(ds_list.getColumn(ds_list.rowposition,"UPJANG"));
	}
}

/*특정 업장의 메인업장의 통합여부를 Y로 바꿔주는 함수*/
function fn_changeMainHead(sUpjang)
{
    // 서비스셋팅
    var actionName, cmdName, inData, outData, otherArg, callBackFnc;
    var insertSql, updateSql, deleteSql,saveFlagColumn, keySqlName, keyIncrement, callbackSql;
    
    //trace(ds_main.saveXML());
    
    inData		= "ds_input=ds_main:U";
    outData		= "ds_main=ds_main";
    callBackFnc	= "";
	otherArg 	= "g_EmpNo="+wrapQuote(g_EmpNo);
       
    fsp_clear(this);
    fsp_addSave(this, "", "fm/fms:FMS00100E_U006", "", saveFlagColumn, keySqlName, keyIncrement, callbackSql);
    fsp_callService(this, actionName, cmdName, inData, outData, otherArg, callBackFnc);		// 서비스 호출 
}
]]></Script>
  </Form>
</FDL>
