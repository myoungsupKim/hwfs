<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="ResvInput" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="예약등록" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static59" class="sta_WFDA_Labelbg" position="absolute 815 180 1237 207" anchor="left top"/>
        <Static id="Static55" class="sta_WFDA_Labelbg" position="absolute 815 154 1237 181" anchor="left top"/>
        <Static id="Static51" class="sta_WFDA_Labelbg" position="absolute 815 128 1237 155" anchor="left top"/>
        <Static id="Static45" class="sta_WFDA_Labelbg" position="absolute 815 102 1237 129" anchor="left top"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 71" anchor="left top right"/>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="0" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Static id="Static18" text="업장 예약 등록" class="sta_WF_Title01" position="absolute 0 84 246 102" anchor="left top"/>
        <Static id="Static19" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 71 450 84" anchor="left top"/>
        <Static id="Static20" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 97 450 102" anchor="left top"/>
        <Static id="Static00" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1179 464 1237 469" anchor="top right"/>
        <Static id="Static01" text="h06" class="Guide01_AreaRed" visible="false" position="absolute 1179 438 1237 444" anchor="top right"/>
        <Button id="btn_addData" taborder="1" class="btn_WF_GrdPlus" position="absolute 1199 444 1217 464" anchor="top right" onclick="btn_addData_onclick"/>
        <Button id="btn_subData" taborder="2" class="btn_WF_GrdMinus" position="absolute 1219 444 1237 464" anchor="top right" onclick="btn_subData_onclick"/>
        <Static id="Static02" text="w02" class="Guide01_AreaRed" visible="false" position="absolute 1197 444 1199 464" anchor="top right"/>
        <Static id="Static03" text="w02" class="Guide01_AreaRed" visible="false" position="absolute 1217 444 1219 464" anchor="top right"/>
        <Static id="Static04" text="w02" class="Guide01_AreaRed" visible="false" position="absolute 1177 444 1179 464" anchor="top right"/>
        <Static id="Static07" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 30 93 40" anchor="left top"/>
        <Static id="Static09" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 61 93 71" anchor="left top"/>
        <Static id="Static10" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 40 15 61" anchor="left top"/>
        <Static id="Static17" text="일자" class="sta_WFSA_label" position="absolute 15 40 53 61" anchor="left top"/>
        <Static id="Static21" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 47 40 57 61" anchor="left top"/>
        <ObjCalendar id="cal_searchRsvnDt" titletext="캘린더" taborder="5" text="ObjCalendar00" scrollbars="none" position="absolute 57 40 157 61" onclick="cal_searchRsvnDt_onclick"/>
        <Static id="Static11" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 157 40 187 61" anchor="left top"/>
        <Grid id="grd_tableList" taborder="7" useinputpanel="false" position="absolute 68 167 702 709" selecttype="cell" binddataset="ds_tableList" onselectchanged="grd_tableList_onselectchanged">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="79"/>
                <Column size="79"/>
                <Column size="79"/>
                <Column size="79"/>
                <Column size="79"/>
                <Column size="79"/>
                <Column size="79"/>
                <Column size="79"/>
              </Columns>
              <Rows>
                <Row size="27"/>
                <Row size="27"/>
                <Row size="27"/>
                <Row size="27"/>
              </Rows>
              <Band id="body">
                <Cell style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm01"/>
                <Cell col="1" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm02"/>
                <Cell col="2" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm03"/>
                <Cell col="3" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm04"/>
                <Cell col="4" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm05"/>
                <Cell col="5" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm06"/>
                <Cell col="6" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm07"/>
                <Cell col="7" style="background:mediumaquamarine;background2:mediumaquamarine;color:black;color2:black;" text="bind:tblNm08"/>
                <Cell row="1" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB01"/>
                <Cell row="1" col="1" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB02"/>
                <Cell row="1" col="2" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB03"/>
                <Cell row="1" col="3" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB04"/>
                <Cell row="1" col="4" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB05"/>
                <Cell row="1" col="5" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB06"/>
                <Cell row="1" col="6" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB07"/>
                <Cell row="1" col="7" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmB08"/>
                <Cell row="2" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL01"/>
                <Cell row="2" col="1" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL02"/>
                <Cell row="2" col="2" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL03"/>
                <Cell row="2" col="3" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL04"/>
                <Cell row="2" col="4" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL05"/>
                <Cell row="2" col="5" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL06"/>
                <Cell row="2" col="6" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL07"/>
                <Cell row="2" col="7" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmL08"/>
                <Cell row="3" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD01"/>
                <Cell row="3" col="1" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD02"/>
                <Cell row="3" col="2" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD03"/>
                <Cell row="3" col="3" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD04"/>
                <Cell row="3" col="4" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD05"/>
                <Cell row="3" col="5" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD06"/>
                <Cell row="3" col="6" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD07"/>
                <Cell row="3" col="7" style="align:left middle;background:white;background2:white;" text="bind:rsvnNmD08"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static32" text="테이블명" class="sta_WFDA_Label01" position="absolute 0 167 69 195" anchor="left top" style="background:mediumaquamarine;color:black;"/>
        <Static id="sta_tableGroupNm" class="sta_WFDA_Label01" position="absolute 0 102 69 152" anchor="left top" style="align:center middle;" text="테이블 \r 그룹"/>
        <Static id="Static23" text="조      식" class="sta_WFDA_Label01" position="absolute 0 194 69 222" anchor="left top"/>
        <Static id="Static24" text="중      식" class="sta_WFDA_Label01" position="absolute 0 221 69 249" anchor="left top"/>
        <Static id="Static25" text="석      식" class="sta_WFDA_Label01" position="absolute 0 248 69 276" anchor="left top"/>
        <Static id="Static26" text="테이블명" class="sta_WFDA_Label01" position="absolute 0 275 69 303" anchor="left top" style="background:mediumaquamarine;color:black;"/>
        <Static id="Static27" text="조      식" class="sta_WFDA_Label01" position="absolute 0 302 69 330" anchor="left top"/>
        <Static id="Static29" text="중      식" class="sta_WFDA_Label01" position="absolute 0 329 69 357" anchor="left top"/>
        <Static id="Static30" text="석      식" class="sta_WFDA_Label01" position="absolute 0 356 69 384" anchor="left top"/>
        <Static id="Static31" text="테이블명" class="sta_WFDA_Label01" position="absolute 0 383 69 411" anchor="left top" style="background:mediumaquamarine;color:black;"/>
        <Static id="Static33" text="조      식" class="sta_WFDA_Label01" position="absolute 0 410 69 438" anchor="left top"/>
        <Static id="Static34" text="중      식" class="sta_WFDA_Label01" position="absolute 0 437 69 465" anchor="left top"/>
        <Static id="Static35" text="석      식" class="sta_WFDA_Label01" position="absolute 0 464 69 492" anchor="left top"/>
        <Static id="Static36" text="테이블명" class="sta_WFDA_Label01" position="absolute 0 491 69 519" anchor="left top" style="background:mediumaquamarine;color:black;"/>
        <Static id="Static37" text="조      식" class="sta_WFDA_Label01" position="absolute 0 518 69 546" anchor="left top"/>
        <Static id="Static38" text="중      식" class="sta_WFDA_Label01" position="absolute 0 545 69 573" anchor="left top"/>
        <Static id="Static39" text="석      식" class="sta_WFDA_Label01" position="absolute 0 572 69 600" anchor="left top"/>
        <Static id="Static40" text="석      식" class="sta_WFDA_Label01" position="absolute 0 680 69 709" anchor="left top"/>
        <Static id="Static41" text="중      식" class="sta_WFDA_Label01" position="absolute 0 653 69 681" anchor="left top"/>
        <Static id="Static42" text="조      식" class="sta_WFDA_Label01" position="absolute 0 626 69 654" anchor="left top"/>
        <Static id="Static43" text="테이블명" class="sta_WFDA_Label01" position="absolute 0 599 69 627" anchor="left top" style="background:mediumaquamarine;color:black;"/>
        <Button id="btn_preTableList" taborder="8" text="&lt;&lt;" position="absolute 542 599 622 708" onclick="btn_preTableList_onclick"/>
        <Button id="btn_nextTableList" taborder="9" text="&gt;&gt;" position="absolute 621 599 701 708" onclick="btn_nextTableList_onclick"/>
        <Button id="btn_nexGroupTable" taborder="10" text="&gt;&gt;" position="absolute 630 102 702 151" onclick="btn_nexGroupTable_onclick"/>
        <Button id="btn_preGrpupTable" taborder="11" text="&lt;&lt;" position="absolute 68 102 140 151" onclick="btn_preGrpupTable_onclick"/>
        <Grid id="grd_tableGroup" taborder="6" useinputpanel="false" position="absolute 139 102 631 152" binddataset="ds_tableGroup" selecttype="cell" onselectchanged="grd_tableGroup_onselectchanged">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
              </Columns>
              <Rows>
                <Row size="48"/>
              </Rows>
              <Band id="body">
                <Cell text="bind:tblGrp01"/>
                <Cell col="1" text="bind:tblGrp02"/>
                <Cell col="2" text="bind:tblGrp03"/>
                <Cell col="3" text="bind:tblGrp04"/>
                <Cell col="4" text="bind:tblGrp05"/>
                <Cell col="5" text="bind:tblGrp06"/>
                <Cell col="6" text="bind:tblGrp07"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static22" text="예약번호" class="sta_WFDA_Label01" position="absolute 712 102 816 129" anchor="left top"/>
        <Edit id="edt_prmtCd" taborder="12" readonly="true" class="edt_WF_Essential" position="absolute 818 105 914 126" anchor="left top"/>
        <Static id="Static44" text="예약자명/인원" class="sta_WFDA_Label01" position="absolute 916 102 1020 129" anchor="left top"/>
        <Edit id="edt_reservNum" taborder="13" class="edt_WF_Essential" position="absolute 1022 105 1160 126" anchor="left top" autoselect="true"/>
        <Grid id="grd_menuList" taborder="22" binddataset="ds_reservGoods" scrollbars="autoboth" autoenter="select" useinputpanel="false" autofittype="none" position="absolute 712 469 1237 709" anchor="all" onexpanddown="grd_menuList_onexpanddown" onkeydown="grd_menuList_onkeydown">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="28"/>
                <Column size="150"/>
                <Column size="15"/>
                <Column size="39"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="124"/>
                <Column size="60"/>
              </Columns>
              <Rows>
                <Row size="26" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell displaytype="normal" edittype="normal" class="head_Excel"/>
                <Cell col="1" colspan="2" text="메뉴명" taborder="undefined"/>
                <Cell col="3" text="수량"/>
                <Cell col="4" text="단가"/>
                <Cell col="5" text="할인금액"/>
                <Cell col="6" text="소계"/>
                <Cell col="7" text="비고"/>
                <Cell col="8" text="사용유무"/>
              </Band>
              <Band id="body">
                <Cell displaytype="normal" edittype="none" style="padding: ;" text="expr:currow+1" expandshow="hide" combodisplay="display"/>
                <Cell col="1" edittype="text" text="bind:menuNm"/>
                <Cell col="2" displaytype="normal" edittype="expand" style="background: ;" text="bind:menuNm" expandshow="show"/>
                <Cell col="3" displaytype="number" edittype="masknumber" style="padding: ;" class="grd_edi" text="bind:quantity" editautoselect="true" editdisplay="edit" expandshow="hide"/>
                <Cell col="4" displaytype="number" edittype="masknumber" style="padding: ;" class="grd_edi" text="bind:uprice" editautoselect="true" editdisplay="edit" combodisplay="edit"/>
                <Cell col="5" displaytype="number" edittype="masknumber" text="bind:discntAmt"/>
                <Cell col="6" displaytype="number" style="align:right middle;" class="grd_edi" text="bind:totAmt"/>
                <Cell col="7" displaytype="normal" edittype="text" class="grd_edi" text="bind:remark" editautoselect="true"/>
                <Cell col="8" displaytype="checkbox" edittype="checkbox" text="bind:useYn"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static46" text="세부자료" class="sta_WF_Title01" position="absolute 712 84 958 102" anchor="left top"/>
        <Static id="Static47" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 712 71 1162 84" anchor="left top"/>
        <Static id="Static48" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 712 97 1162 102" anchor="left top"/>
        <Static id="Static49" text="w10" class="Guide01_AreaRed" visible="false" position="absolute 702 71 712 571"/>
        <Static id="Static50" text="예약시간" class="sta_WFDA_Label01" position="absolute 916 128 1020 155" anchor="left top"/>
        <Static id="Static52" text="예약일자" class="sta_WFDA_Label01" position="absolute 712 128 816 155" anchor="left top"/>
        <Static id="Static53" text="예약구분" class="sta_WFDA_Label01" position="absolute 712 180 816 207" anchor="left top"/>
        <Static id="Static54" text="행사명" class="sta_WFDA_Label01" position="absolute 712 154 816 181" anchor="left top"/>
        <ObjCalendar id="cal_reserDate" titletext="캘린더" taborder="19" text="ObjCalendar00" scrollbars="none" position="absolute 818 131 914 152" enable="false" enableevent="true"/>
        <MaskEdit id="msk_startTime" taborder="15" displaynulltext="00:00" position="absolute 1022 131 1077 152" style="padding:3 0 0 -5;align:center middle;" class="msk_WF_Essential" mask="@@:@@" type="string" ontextchange="msk_startTime_ontextchange" autoselect="true"/>
        <MaskEdit id="msk_endTime" taborder="16" displaynulltext="00:00" position="absolute 1099 131 1154 152" style="padding:3 0 0 -5;align:center middle;" class="msk_WF_Essential" mask="@@:@@" type="string" ontextchange="msk_endTime_ontextchange" autoselect="true"/>
        <Static id="Static86" class="Guide01_AreaRed" visible="false" position="absolute 1076 137 1084 144"/>
        <Static id="Static56" text="~" class="sta_WF_Dash" position="absolute 1084 131 1100 152"/>
        <Static id="Static57" class="Guide01_AreaRed" visible="false" position="absolute 1092 137 1100 144"/>
        <Edit id="edt_eventNm" taborder="17" position="absolute 818 157 1233 178" anchor="left top" autoselect="true"/>
        <Static id="Static58" text="테이블명" class="sta_WFDA_Label01" position="absolute 916 180 1020 207" anchor="left top"/>
        <Edit id="edt_classNm" taborder="20" position="absolute 818 183 914 204" anchor="left top" readonly="true" enable="false"/>
        <Edit id="edt_tableNm" taborder="21" position="absolute 1022 183 1145 204" anchor="left top" readonly="true" enable="false"/>
        <Static id="Static60" text="비고사항" class="sta_WFDA_Label01" position="absolute 712 206 816 438" anchor="left top"/>
        <Static id="Static61" class="sta_WFDA_Labelbg" position="absolute 815 206 1237 438" anchor="left top"/>
        <TextArea id="txt_remark" taborder="18" position="absolute 818 209 1233 434"/>
        <Static id="Static05" class="Guide01_AreaRed" visible="false" position="absolute 1159 113 1167 120"/>
        <Static id="Static62" text="/" class="sta_WF_Dash" position="absolute 1167 107 1183 128"/>
        <Static id="Static63" class="Guide01_AreaRed" visible="false" position="absolute 1175 113 1183 120"/>
        <MaskEdit id="msk_psn" taborder="14" value="123456" mask="@@@,@@@" class="msk_WF_Essential" position="absolute 1183 105 1233 126" autoselect="true"/>
        <CheckBox id="chk_useYn" taborder="23" text="사용여부" position="absolute 1157 184 1233 203"/>
        <Static id="Static28" text="사업장" class="sta_WFSA_label" position="absolute 538 40 585 61" anchor="left top"/>
        <Static id="Static12" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 584 40 594 61" anchor="left top"/>
        <Static id="Static13" text="사업부" class="sta_WFSA_label" position="absolute 187 40 234 61" anchor="left top"/>
        <Static id="Static14" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 232 40 242 61" anchor="left top"/>
        <MuSearchComponent id="cbo_mu" titletext="사업부 선택 Component" taborder="24" onkeydown="cbo_mu_onkeydown" text="MuSearchComponent00" position="absolute 242 40 343 61" bindDataset="" bindMuCdColumn="" appendText="" onItemChangedEvent="fn_muChange" class="cmb_WF_Essential"/>
        <TmSearchComponent id="edt_tm" titletext="팀 검색용 Component" taborder="25" text="TmSearchComponent00" position="absolute 401 40 508 61" bindDataset="" bindTmCdColumn="" bindTmNmColumn="" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChange" eventBeforeTrigger="" class="edt_WF_Essential" onclick="edt_tm_onclick"/>
        <UpjangSearchComponent id="edt_upjang" titletext="업장 검색용 Component" taborder="26" text="UpjangSearchComponent00" position="absolute 593 40 716 61" bindDataset="" bindUpjangCodeColumn="" bindUpjangNameColumn="" eventBeforeTrigger="" eventAfterTrigger="fn_upjangChange" roleSetId="" class="edt_WF_Essential" onclick="edt_upjang_onclick"/>
        <Static id="Static15" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 343 40 373 61" anchor="left top"/>
        <Static id="Static16" text="팀" class="sta_WFSA_label" position="absolute 373 40 397 61" anchor="left top"/>
        <Static id="Static64" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 391 40 401 61" anchor="left top"/>
        <Static id="Static65" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 508 40 538 61" anchor="left top"/>
        <Static id="Static66" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 716 40 746 61" anchor="left top"/>
        <Static id="Static67" text="24시간제 사용" position="absolute 1159 135 1249 152"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="edt_prmtCd" propid="value" datasetid="ds_reservMst" columnid="reservNum"/>
      <BindItem id="item13" compid="edt_reservNum" propid="value" datasetid="ds_reservMst" columnid="rsvnNm"/>
      <BindItem id="item2" compid="msk_startTime" propid="value" datasetid="ds_reservMst" columnid="startTime"/>
      <BindItem id="item3" compid="msk_endTime" propid="value" datasetid="ds_reservMst" columnid="endTime"/>
      <BindItem id="item4" compid="edt_eventNm" propid="value" datasetid="ds_reservMst" columnid="eventNm"/>
      <BindItem id="item5" compid="edt_classNm" propid="value" datasetid="ds_reservMst" columnid="reservClassNm"/>
      <BindItem id="item6" compid="edt_tableNm" propid="value" datasetid="ds_reservMst" columnid="tableNm"/>
      <BindItem id="item7" compid="txt_remark" propid="value" datasetid="ds_reservMst" columnid="remark"/>
      <BindItem id="item46" compid="msk_psn" propid="value" datasetid="ds_reservMst" columnid="psn"/>
      <BindItem id="item39" compid="chk_useYn" propid="value" datasetid="ds_reservMst" columnid="useYn"/>
    </Bind>
    <Objects>
      <Dataset id="ds_tableGroup" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="tblGrp01" type="STRING" size="256"/>
          <Column id="tblGrp02" type="STRING" size="256"/>
          <Column id="tblGrp03" type="STRING" size="256"/>
          <Column id="tblGrp04" type="STRING" size="256"/>
          <Column id="tblGrp05" type="STRING" size="256"/>
          <Column id="tblGrp06" type="STRING" size="256"/>
          <Column id="tblGrp07" type="STRING" size="256"/>
          <Column id="tblGrpCd01" type="STRING" size="256"/>
          <Column id="tblGrpCd02" type="STRING" size="256"/>
          <Column id="tblGrpCd03" type="STRING" size="256"/>
          <Column id="tblGrpCd04" type="STRING" size="256"/>
          <Column id="tblGrpCd05" type="STRING" size="256"/>
          <Column id="tblGrpCd06" type="STRING" size="256"/>
          <Column id="tblGrpCd07" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="tblGrp01">홀</Col>
            <Col id="tblGrp02">홀2</Col>
            <Col id="tblGrp03">홀3</Col>
            <Col id="tblGrp04">홀4</Col>
            <Col id="tblGrp05">홀5</Col>
            <Col id="tblGrp06">홀6</Col>
            <Col id="tblGrp07">홀9</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_tableGrpList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="tblGrp01" type="STRING" size="256"/>
          <Column id="tblGrp02" type="STRING" size="256"/>
          <Column id="tblGrp03" type="STRING" size="256"/>
          <Column id="tblGrp04" type="STRING" size="256"/>
          <Column id="tblGrp05" type="STRING" size="256"/>
          <Column id="tblGrp06" type="STRING" size="256"/>
          <Column id="tblGrp07" type="STRING" size="256"/>
          <Column id="tblGrpCd01" type="STRING" size="256"/>
          <Column id="tblGrpCd02" type="STRING" size="256"/>
          <Column id="tblGrpCd03" type="STRING" size="256"/>
          <Column id="tblGrpCd04" type="STRING" size="256"/>
          <Column id="tblGrpCd05" type="STRING" size="256"/>
          <Column id="tblGrpCd06" type="STRING" size="256"/>
          <Column id="tblGrpCd07" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="tblGrp01">홀</Col>
            <Col id="tblGrp02">홀2</Col>
            <Col id="tblGrp03">홀3</Col>
            <Col id="tblGrp04">홀4</Col>
            <Col id="tblGrp05">홀5</Col>
            <Col id="tblGrp06">홀6</Col>
            <Col id="tblGrp07">홀9</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_tableList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="tblGrp" type="STRING" size="256"/>
          <Column id="tblCd01" type="STRING" size="256"/>
          <Column id="tblCd02" type="STRING" size="256"/>
          <Column id="tblCd03" type="STRING" size="256"/>
          <Column id="tblCd04" type="STRING" size="256"/>
          <Column id="tblCd05" type="STRING" size="256"/>
          <Column id="tblCd06" type="STRING" size="256"/>
          <Column id="tblCd07" type="STRING" size="256"/>
          <Column id="tblCd08" type="STRING" size="256"/>
          <Column id="tblNm01" type="STRING" size="256"/>
          <Column id="tblNm02" type="STRING" size="256"/>
          <Column id="tblNm03" type="STRING" size="256"/>
          <Column id="tblNm04" type="STRING" size="256"/>
          <Column id="tblNm05" type="STRING" size="256"/>
          <Column id="tblNm06" type="STRING" size="256"/>
          <Column id="tblNm07" type="STRING" size="256"/>
          <Column id="tblNm08" type="STRING" size="256"/>
          <Column id="rsvnNmB01" type="STRING" size="256"/>
          <Column id="rsvnNmB02" type="STRING" size="256"/>
          <Column id="rsvnNmB03" type="STRING" size="256"/>
          <Column id="rsvnNmB04" type="STRING" size="256"/>
          <Column id="rsvnNmB05" type="STRING" size="256"/>
          <Column id="rsvnNmB06" type="STRING" size="256"/>
          <Column id="rsvnNmB07" type="STRING" size="256"/>
          <Column id="rsvnNmB08" type="STRING" size="256"/>
          <Column id="rsvnNmL01" type="STRING" size="256"/>
          <Column id="rsvnNmL02" type="STRING" size="256"/>
          <Column id="rsvnNmL03" type="STRING" size="256"/>
          <Column id="rsvnNmL04" type="STRING" size="256"/>
          <Column id="rsvnNmL05" type="STRING" size="256"/>
          <Column id="rsvnNmL06" type="STRING" size="256"/>
          <Column id="rsvnNmL07" type="STRING" size="256"/>
          <Column id="rsvnNmL08" type="STRING" size="256"/>
          <Column id="rsvnNmD01" type="STRING" size="256"/>
          <Column id="rsvnNmD02" type="STRING" size="256"/>
          <Column id="rsvnNmD03" type="STRING" size="256"/>
          <Column id="rsvnNmD04" type="STRING" size="256"/>
          <Column id="rsvnNmD05" type="STRING" size="256"/>
          <Column id="rsvnNmD06" type="STRING" size="256"/>
          <Column id="rsvnNmD07" type="STRING" size="256"/>
          <Column id="rsvnNmD08" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tableReserv" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="256"/>
          <Column id="tblGrp" type="STRING" size="256"/>
          <Column id="tblCd01" type="STRING" size="256"/>
          <Column id="tblCd02" type="STRING" size="256"/>
          <Column id="tblCd03" type="STRING" size="256"/>
          <Column id="tblCd04" type="STRING" size="256"/>
          <Column id="tblCd05" type="STRING" size="256"/>
          <Column id="tblCd06" type="STRING" size="256"/>
          <Column id="tblCd07" type="STRING" size="256"/>
          <Column id="tblCd08" type="STRING" size="256"/>
          <Column id="tblNm01" type="STRING" size="256"/>
          <Column id="tblNm02" type="STRING" size="256"/>
          <Column id="tblNm03" type="STRING" size="256"/>
          <Column id="tblNm04" type="STRING" size="256"/>
          <Column id="tblNm05" type="STRING" size="256"/>
          <Column id="tblNm06" type="STRING" size="256"/>
          <Column id="tblNm07" type="STRING" size="256"/>
          <Column id="tblNm08" type="STRING" size="256"/>
          <Column id="rsvnNmB01" type="STRING" size="256"/>
          <Column id="rsvnNmB02" type="STRING" size="256"/>
          <Column id="rsvnNmB03" type="STRING" size="256"/>
          <Column id="rsvnNmB04" type="STRING" size="256"/>
          <Column id="rsvnNmB05" type="STRING" size="256"/>
          <Column id="rsvnNmB06" type="STRING" size="256"/>
          <Column id="rsvnNmB07" type="STRING" size="256"/>
          <Column id="rsvnNmB08" type="STRING" size="256"/>
          <Column id="rsvnNmL01" type="STRING" size="256"/>
          <Column id="rsvnNmL02" type="STRING" size="256"/>
          <Column id="rsvnNmL03" type="STRING" size="256"/>
          <Column id="rsvnNmL04" type="STRING" size="256"/>
          <Column id="rsvnNmL05" type="STRING" size="256"/>
          <Column id="rsvnNmL06" type="STRING" size="256"/>
          <Column id="rsvnNmL07" type="STRING" size="256"/>
          <Column id="rsvnNmL08" type="STRING" size="256"/>
          <Column id="rsvnNmD01" type="STRING" size="256"/>
          <Column id="rsvnNmD02" type="STRING" size="256"/>
          <Column id="rsvnNmD03" type="STRING" size="256"/>
          <Column id="rsvnNmD04" type="STRING" size="256"/>
          <Column id="rsvnNmD05" type="STRING" size="256"/>
          <Column id="rsvnNmD06" type="STRING" size="256"/>
          <Column id="rsvnNmD07" type="STRING" size="256"/>
          <Column id="rsvnNmD08" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">Y</Col>
            <Col id="insYn">Y</Col>
            <Col id="delYn">Y</Col>
            <Col id="savYn">Y</Col>
            <Col id="prtYn">Y</Col>
            <Col id="exlYn">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_reservMst" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_reservMst_oncolumnchanged">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="reservNum" type="STRING" size="50"/>
          <Column id="reservDate" type="STRING" size="8"/>
          <Column id="rsvnNm" type="STRING" size="50"/>
          <Column id="psn" type="BIGDECIMAL" size="22"/>
          <Column id="startTime" type="STRING" size="6"/>
          <Column id="endTime" type="STRING" size="6"/>
          <Column id="eventNm" type="STRING" size="100"/>
          <Column id="reservClass" type="STRING" size="50"/>
          <Column id="reservClassNm" type="STRING" size="256"/>
          <Column id="tableGrp" type="STRING" size="50"/>
          <Column id="tableCd" type="STRING" size="50"/>
          <Column id="tableNm" type="STRING" size="256"/>
          <Column id="remark" type="STRING" size="4000"/>
          <Column id="useYn" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_reservMstValid" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="rsvnNm" type="STRING" size="50"/>
          <Column id="psn" type="BIGDECIMAL" size="22"/>
          <Column id="startTime" type="STRING" size="6"/>
          <Column id="endTime" type="STRING" size="6"/>
          <Column id="reservClass" type="STRING" size="50"/>
          <Column id="tableGrp" type="STRING" size="50"/>
          <Column id="tableCd" type="STRING" size="50"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="outletCd">title:업장코드,required:true</Col>
            <Col id="rsvnNm">title:예약자명,required:true</Col>
            <Col id="psn">title:인원수,required:true</Col>
            <Col id="startTime">title:시작시간,required:true,length:4</Col>
            <Col id="endTime">title:종료시간,required:true,comparemax:startTime:시작시간,length:4</Col>
            <Col id="reservClass">title:예약구분(조중석),required:true</Col>
            <Col id="tableCd">title:테이블 코드,required:true</Col>
            <Col id="tableGrp">title:테이블그룹 코드,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_reservGoods" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_reservGoods_oncolumnchanged">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="reservNum" type="STRING" size="50"/>
          <Column id="seq" type="BIGDECIMAL" size="22"/>
          <Column id="menuCd" type="STRING" size="50"/>
          <Column id="menuNm" type="STRING" size="256"/>
          <Column id="quantity" type="BIGDECIMAL" size="22"/>
          <Column id="uprice" type="BIGDECIMAL" size="22"/>
          <Column id="discntAmt" type="BIGDECIMAL" size="22"/>
          <Column id="totAmt" type="BIGDECIMAL" size="22"/>
          <Column id="remark" type="STRING" size="1000"/>
          <Column id="useYn" type="STRING" size="1"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_reservGoodsValid" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="outletCd" type="STRING" size="50"/>
          <Column id="menuCd" type="STRING" size="50"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="outletCd">title:업장코드,required:true</Col>
            <Col id="menuCd">title:메뉴코드,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <InitValue/>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : 예약등록
  파 일 명 : ResvInput.xfdl
  기    능 : 예약등록

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2015.04.27   박대영   최초 생성
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";


/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var fv_sGrpNo=1;	//테이블 그룹 페이지 관리
var fv_tGrpNo=1;	//테이블 리스트 페이지 관리
var fv_tblGrp="";	//테이블 그룹코드
var fv_tblCd="";	//테이블코드
var fv_rClass="";	//조중석구분
var fv_tblNm="";	//테이블 명
var fv_gridFlag=false;
var fv_gridFlagGrp=false;
var fv_selectUpjang=false; //업장을 변경한경우 마직막입니다 안나오게..
/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo)
{	
	// Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
	gfn_formOnLoad(this);
	 
	// 초기값 셋팅
	fn_init();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init()
{
	// 업데이트여부를 체크할 DataSet, 여러개 있을 경우 ;로 구분
	v_ds_check = "ds_reservMst;ds_reservGoods";
	
	
	// 권한설정
	edt_tm.applyAuthLevel(cbo_mu);
	edt_upjang.applyAuthLevel(edt_tm);
	edt_upjang.setForcedRoleSet("OutletUpjang");
	
	sta_tableGroupNm.text = "테이블" + "\r" + "그   룹"		//타이틀명
	gfn_clearSortMark(grd_menuList);
	
	cal_searchRsvnDt.fn_initMonthCal(this, fv_sToday, "fn_calendarCallBack", null, null, "Y");
	cal_reserDate.fn_initMonthCal(this, fv_sToday, "fn_calendarCallBackTo", ds_reservMst, "reservDate", "N");
	fn_gridSetting();
	ds_tableGroup.clearData();
	ds_tableList.clearData();
	ds_tableGrpList.clearData();
	ds_tableReserv.clearData();
	
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") != "") 
	{
		fn_search();
	}
}
 


/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 조회 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_search()
{ 
	//업장 선택은
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","업장");
		return;
	}
	ds_tableGroup.clearData();
	ds_tableGrpList.clearData();
	ds_tableList.clearData();
	fv_sGrpNo=1;
	fn_tableGroupList("N");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert()
{	
 
	//조건체크
	if (fn_dataCheck("insert") == false)  return;
	 
	 
 
	gfn_clearSortMark(grd_menuList);
  	var nRow = ds_reservMst.addRow();	
  	
  	ds_reservMst.setColumn(nRow, "useYn", '1');										//사용유무
	ds_reservMst.setColumn(nRow, "outletCd",      gfn_nvl(edt_upjang.getUpjangCode(),""));			//업장
  	ds_reservMst.setColumn(nRow, "reservDate",    cal_searchRsvnDt.fn_getValue());	//일자
  	ds_reservMst.setColumn(nRow, "tableGrp",      fv_tblGrp);						//테이블 그룹
  	ds_reservMst.setColumn(nRow, "tableCd",       fv_tblCd);						//테이블 코드
  	ds_reservMst.setColumn(nRow, "tableNm",       fv_tblNm);					    //테이블명
  	ds_reservMst.setColumn(nRow, "reservClass",   fv_rClass);						//조중석구분코드
  	ds_reservMst.setColumn(nRow, "reservClassNm", (fv_rClass=="01"?"조식":(fv_rClass=="02"?"중식":"석식")));	//조식,중식,석식
  	ds_reservMst.setColumn(nRow, "reservDate", gfn_nvl(cal_searchRsvnDt.fn_getValue(),""));
  	
  	
  	// Grid 입력 cell 지정
 	edt_reservNum.setFocus();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete()
{
	var nRow = ds_reservMst.rowposition;
	
	if(ds_reservMst.rowposition == -1) 
	{
		gfn_alert("msg.err.grid.noselect", "delete row");	// 선택된 항목이 없습니다.
		return;
	}

	var rtVal = gfn_confirm("confirm.before.delete");	// 선택된 자료를 삭제 하시겠습니까?
	if (rtVal == true) 
	{	
		var bIsProcRow = false;
		//기본정보
		if (ds_reservMst.getRowType(nRow) == Dataset.ROWTYPE_INSERT)
		{
			ds_reservMst.deleteRow(nRow);
		} else
		{
			ds_reservMst.setColumn(nRow, "useYn", 0);
			bIsProcRow = true;
		}
		
		//업장정보
		for(var j = 0 ; j <= ds_reservGoods.getRowCount()-1 ; j++)
		{
			if (ds_reservGoods.getRowType(j) == Dataset.ROWTYPE_INSERT)
			{
				ds_reservGoods.deleteRow(j);
			} else
			{
				ds_reservGoods.setColumn(j, "useYn", 0);
				bIsProcRow = true;
			}
		}
		 
		if (!bIsProcRow) return;
		
		sMsg = gfn_getMessage("msg.action.success", "");
		sMsg = sMsg += "\r\r" + gfn_getMessage("rc.sle.save.data", "");
		
		//실제 저장처리를 수행할 지를 알려준다.
		if (gfn_confirm(sMsg, "", "C"))
		{
			fn_save();
		}
		else
		{
			sMsg = gfn_getMessage("rc.sle.resave.data","");  //"변경된 자료는 나중에 저장하시기 바랍니다.";
			gfn_alert(sMsg, "", "A");
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_save()
{
  	if (!gfn_dsIsUpdated(ds_reservMst) && !gfn_dsIsUpdated(ds_reservGoods))
 	{
 		gfn_alert("msg.save.nochange");	// 변경된 내역이 없습니다.
 		return;
 	}
 	
	if (gfn_validCheck(ds_reservMst, ds_reservMstValid) == false)	return;	//기본자료는 꼭 입력되어야 함
 	if (gfn_validCheck(ds_reservGoods, ds_reservGoodsValid) == false)	return;	//기본자료는 꼭 입력되어야 함
 	
 	var strSvcID    = "save";
    var strURL      = "rc/sle/reservMgmt/saveData.xdo";
    var strInDs     = "ds_reservMst=ds_reservMst:U ds_reservGoods=ds_reservGoods:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
     
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print()
{
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help()
{
	
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	// 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
	if (nErrorCode < 0) 
	{
		return;
	}
	
    switch(strSvcID)
    {
		
        case "search" :
			//예약 현황 검색
			var nRow = ds_reservMst.rowcount;
			if (nRow != -1)
			{
				fn_reservListGoods();
				
			}
            break;
        case "searchGropTblPre":
			//처음이면 더이상 읽지 않기 때문에 처리 할것이 없다
			var nRowCnt;
			nRowCnt = ds_tableGroup.copyData(ds_tableGrpList);

			break;
		case "searchGropTblNex":
			//다음을 읽었는데 자료가 없는 경우 없다는 메시지를 보여 줘야 한다.
			//있는 경우 해당 자료를 복사 준다.
			var strData = "";
			strData = ds_tableGrpList.getColumn(0,"tblGrp01") + ds_tableGrpList.getColumn(0,"tblGrp02") + ds_tableGrpList.getColumn(0,"tblGrp03")
			        + ds_tableGrpList.getColumn(0,"tblGrp04") + ds_tableGrpList.getColumn(0,"tblGrp05") + ds_tableGrpList.getColumn(0,"tblGrp06")
			        + ds_tableGrpList.getColumn(0,"tblGrp07")
			//trace("strData:" + strData);
			if (strData != "" ) 
			{
				var nRowCnt;
				nRowCnt = ds_tableGroup.copyData(ds_tableGrpList);
			}
			else
			{
				fv_sGrpNo = fv_sGrpNo - 1; 
				//gfn_alert("rc.sle.not.next","테이블 그룹");	// [$1] 마지막 자료 입니다.
				if (fv_selectUpjang != true)
				{
					gfn_alert("rc.sle.not.next","테이블 그룹");
				}
				fv_selectUpjang=false;
			}
			break;
		
		//테이블리스트
		case "searchTblPre":
			//처음이면 더이상 읽지 않기 때문에 처리 할것이 없다
			var nRowCnt;
			nRowCnt = ds_tableList.copyData(ds_tableReserv);
			break;
		case "searchTblNex":
			var strData = "";
			for(var i=0; i <= ds_tableReserv.getRowCount()-1; i ++)
			{
				for(var j=2; j <= ds_tableReserv.getColCount()-1; j++)
				{
					strData = strData + ds_tableReserv.getColumn(i,j)  
				}
			}
			//trace("strData:" + strData);
			if (strData != "" ) 
			{
				var nRowCnt;
				nRowCnt = ds_tableList.copyData(ds_tableReserv);
			}
			else
			{
				//trace("DataCnt:" + ds_tableList.rowposition);
				if(ds_tableList.rowposition == -1) break;
				fv_tGrpNo = fv_tGrpNo - 1; 
				gfn_alert("rc.sle.not.next","테이블 그룹"); // [$1] 마지막 자료 입니다.
			}
			break;
			
		case "searchGoods":
			//상품리스트 읽기
			break;
        // 저장
        case "save" :
			gfn_alert("msg.save.success");	// 저장 되었습니다.
			fn_search();
            break;    
    }
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (상단의 일자를 클릭한경우)
 *---------------------------------------------------------------------------------------------*/
function fn_calendarCallBack()
{
	
	//업장 선택 없으면 그냥 나가 버림...
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") return;
 
	ds_tableGroup.clearData();
	ds_tableGrpList.clearData();
	fv_sGrpNo=1;
	fn_tableGroupList("N");
}
function fn_calendarCallBackTo()
{
	//처리내역 없음
}
/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/
function fn_gridSetting()
{
	var sAttr1 = "0 none #808080ff, 1 solid #dddddddd, 0  none #808080ff, 0 solid #808080ff";
	var sAttr2 = "0 none #808080ff, 1 solid #dddddddd, 1  solid #dddddddd, 0 solid #808080ff";
	for(var i=8; i<32; i++) 
	{
		if(i < 24)
		{
			grd_tableList.setCellProperty("body", i, "line", sAttr1);
		}
		else
		{
			grd_tableList.setCellProperty("body", i, "line", sAttr2);
		}
		 
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : table group List 검색 
 *---------------------------------------------------------------------------------------------*/
function fn_tableGroupList(strID)
{
 
	//strID : P 이전 N 다음
	//strNo : 검색할 테이블 그룹 화면 해당 화면 번호는 XX 두자리 로 통일 한다.
	ds_tableGrpList.clearData();
	var strSvcID    = (strID == "P"?"searchGropTblPre":"searchGropTblNex");
    var strURL      = "rc/sle/tableMgmt/selectViewGrpList.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_tableGrpList=ds_tableGrpList";
    var strArg      = "outletCd="   + gfn_nvl(edt_upjang.getUpjangCode(),"") 
					+ " page=" 		+ fv_sGrpNo
					+ " maskAuth="  + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 테이블 리스트를 예약된 내용과 같이 보여 준다.
 *              strID: P:이전 N:다음     strTblGrp :테이블 그룹 코드
 *---------------------------------------------------------------------------------------------*/
function fn_tableList(strID)
{
	// Grid sort 표시 초기화(필수)
    gfn_clearSortMark(grd_tableList);
    ds_tableReserv.clearData();
	
	
	
	var strSvcID    = (strID == "P"?"searchTblPre":"searchTblNex");
    var strURL      = "rc/sle/reservMgmt/selectListTable.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_tableReserv=ds_tableReserv";
    var strArg      = "outletCd="   + gfn_nvl(edt_upjang.getUpjangCode(),"")
					+ " tablGrp=" 	+ fv_tblGrp
					+ " resrvDate=" + gfn_nvl(cal_searchRsvnDt.fn_getValue(),"")
					+ " page=" 		+ fv_tGrpNo
					+ " maskAuth="  + SCAuth.getMaskAuth(this);
    var strCallback = "fn_callBack";
    var bAsync      = true;
 
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}


/*----------------------------------------------------------------------------------------------
 * 설명      : 테이블을 클릭하는 경우 해당 예약이 있는 경우 읽어서 보여 준다.
 *---------------------------------------------------------------------------------------------*/
function fn_reservList()
{
	//조건체크
	if (fn_dataCheck("reservList") == false)  return;
	
	
	//자료를 읽어 본다. 없는 경우 입력 하게 한다.
	
	 ds_reservMst.clearData();
	 
     var strSvcID   = "search";
     var strURL     = "rc/sle/reservMgmt/selectList.xdo";
     var strInDs    = "";
     var strOutDs   = "ds_reservMst=ds_reservMst";
     var strArg     = "outletCd="      + gfn_nvl(edt_upjang.getUpjangCode(),"") 
 					+ " reservDate="   + gfn_nvl(cal_searchRsvnDt.fn_getValue(),"")
 					+ " reservClass="  + fv_rClass
 					+ " tableGrp="	   + fv_tblGrp
 					+ " tableCd="      + fv_tblCd 
 					+ " maskAuth="     + SCAuth.getMaskAuth(this);
     var strCallback = "fn_callBack";
     var bAsync      = true;
     
     gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 기본 예약 내역을 읽은후 메뉴 상세를 읽어 온다.
 *---------------------------------------------------------------------------------------------*/
function fn_reservListGoods()
{
	 
	
	//자료를 읽어 본다. 없는 경우 입력 하게 한다.
	
	 ds_reservGoods.clearData();
	 
     var strSvcID   = "searchGoods";
     var strURL     = "rc/sle/reservMgmt/selectListGoods.xdo";
     var strInDs    = "";
     var strOutDs   = "ds_reservGoods=ds_reservGoods";
     var strArg     = "outletCd="      + gfn_nvl(edt_upjang.getUpjangCode(),"") 
 					+ " reservNum="    + gfn_nvl(ds_reservMst.getColumn(ds_reservMst.rowposition ,"reservNum"),"")
 					+ " maskAuth="     + SCAuth.getMaskAuth(this);
     var strCallback = "fn_callBack";
     var bAsync      = true;
     
     gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	
}

/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/
  
/*----------------------------------------------------------------------------------------------
 * 설명      : Table Group 의 이전 선택
 *---------------------------------------------------------------------------------------------*/
function btn_preGrpupTable_onclick(obj:Button,  e:ClickEventInfo)
{
	
	//업장 선택은
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","영업장");
		return;
	}
	
	if(fv_sGrpNo == 1 ) 
	{
		gfn_alert("rc.sle.not.previous","테이블 그룹");
		return;
	}
		//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
	if (gfn_dsIsUpdated(ds_reservMst) || gfn_dsIsUpdated(ds_reservGoods) )
 	{
		var retValue = gfn_confirm("confirm.before.moveropos");	// 해당 row의 위치를 이동하면 변경된 데이터가 사라집니다.@계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	ds_reservMst.clearData();
	ds_reservGoods.clearData();
	
	fv_sGrpNo = fv_sGrpNo - 1; 
	fn_tableGroupList("P");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : Table Group 의 다음 선택
 *---------------------------------------------------------------------------------------------*/
function btn_nexGroupTable_onclick(obj:Button,  e:ClickEventInfo)
{
	//업장 선택은
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","영업장");
		return;
	}
		//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
	if (gfn_dsIsUpdated(ds_reservMst) || gfn_dsIsUpdated(ds_reservGoods) )
 	{
		var retValue = gfn_confirm("confirm.before.moveropos");	// 해당 row의 위치를 이동하면 변경된 데이터가 사라집니다.@계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	ds_reservMst.clearData();
	ds_reservGoods.clearData();
	
	fv_sGrpNo = fv_sGrpNo + 1; 
	fn_tableGroupList("N");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : TableGroup 의 Grid Click시 해당 클릭된 테이블 그룹의 코드를 저장 한다.
 *---------------------------------------------------------------------------------------------*/
function grd_tableGroup_onselectchanged(obj:Grid, e:GridSelectEventInfo)
{
	 
	
	if (e.col > -1)
	{
		if(fv_gridFlagGrp==true) 
		{
			fv_gridFlagGrp=false;
			return;
		}
 		//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
 		if (gfn_dsIsUpdated(ds_reservMst) || gfn_dsIsUpdated(ds_reservGoods) )
 		{
 			var retValue = gfn_confirm("confirm.before.moveropos");	// 해당 row의 위치를 이동하면 변경된 데이터가 사라집니다.@계속 진행 하시겠습니까?
 			if (retValue == false) 
 			{
				fv_gridFlagGrp=true;
 				obj.setCellPos(e.oldcell);
 				return;
 			}
 		}
 		
 		ds_reservMst.clearData();
 		ds_reservGoods.clearData();

		fv_tGrpNo=1;	//테이블 리스트 페이지 관리
		fv_tblCd="";	//테이블코드
		fv_rClass="";	//조중석구분
		
		fv_tblGrp = ds_tableGroup.getColumn(0,e.col + 7 );
		if (gfn_nvl(fv_tblGrp) == "") 
		{
			ds_tableList.clearData();
			return;
		}

		
		ds_tableList.clearData();
		ds_tableReserv.clearData();
		fn_tableList("N");
	}
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : Table List 다음 클릭
 *---------------------------------------------------------------------------------------------*/
function btn_nextTableList_onclick(obj:Button,  e:ClickEventInfo)
{
	//업장 선택은
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","영업장");
		return;
	}
	if (gfn_nvl(fv_tblGrp) == "") 
	{
		gfn_alert("msg.noselect","테이블 그룹");
		return;
	}

		//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
	if (gfn_dsIsUpdated(ds_reservMst) || gfn_dsIsUpdated(ds_reservGoods) )
 	{
		var retValue = gfn_confirm("confirm.before.moveropos");	// 해당 row의 위치를 이동하면 변경된 데이터가 사라집니다.@계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	ds_reservMst.clearData();
	ds_reservGoods.clearData();
	
	fv_tGrpNo = fv_tGrpNo + 1; 
	fn_tableList("N");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : Table List 이전 클릭
 *---------------------------------------------------------------------------------------------*/
function btn_preTableList_onclick(obj:Button,  e:ClickEventInfo)
{
	//업장 선택은
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","영업장");
		return;
	}
	if (gfn_nvl(fv_tblGrp) == "") 
	{
		gfn_alert("msg.noselect","테이블 그룹");
		return;
	}
	
	if(fv_tGrpNo == 1 ) 
	{
		gfn_alert("rc.sle.not.previous","테이블 그룹");
		return;
	}
	
		//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
	if (gfn_dsIsUpdated(ds_reservMst) || gfn_dsIsUpdated(ds_reservGoods) )
 	{
		var retValue = gfn_confirm("confirm.before.moveropos");	// 해당 row의 위치를 이동하면 변경된 데이터가 사라집니다.@계속 진행 하시겠습니까?
		if (retValue == false) return;
	}
	
	ds_reservMst.clearData();
	ds_reservGoods.clearData();
	
	fv_tGrpNo = fv_tGrpNo - 1; 
	fn_tableList("P");
}
 

/*----------------------------------------------------------------------------------------------
 * 설명      : Table List 등록을 위해 선택 한경우
 *---------------------------------------------------------------------------------------------*/
function grd_tableList_onselectchanged(obj:Grid, e:GridSelectEventInfo)
{
	//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
	if (gfn_dsIsUpdated(ds_reservMst) || gfn_dsIsUpdated(ds_reservGoods) )
 	{
		//trace("fv_gridFlag:" + fv_gridFlag);
		if(fv_gridFlag==true) 
		{
			fv_gridFlag=false;
			return;
		}
		var retValue = gfn_confirm("confirm.before.moveropos");	// 해당 row의 위치를 이동하면 변경된 데이터가 사라집니다.@계속 진행 하시겠습니까?
		if (retValue == false) 
		{
			fv_gridFlag=true;
			//trace("fv_gridFlagSet:" + fv_gridFlag);
			//trace("cell:" + e.cell + " oldcell:" + e.oldcell);
			obj.setCellPos(e.oldcell);
			return;
		}
	}
	
	ds_reservMst.clearData();
	ds_reservGoods.clearData();
	
	//테이블명
	if (e.cell < 8) return;
	
	//조식 2값을 찾는다.
	if ((e.cell >= 8) && (e.cell <= 15))
	{
		fv_rClass="01"; 
		var strColID  = ds_tableList.getColID(e.cell-6);
		fv_tblCd = ds_tableList.getColumn(e.row,e.cell-6);
		fv_tblNm = ds_tableList.getColumn(e.row,e.cell+2);
		//trace("breakfast ==> Row:" + e.row + " cell:" + e.cell + " colID:" + strColID + " Data:" + fv_tblCd );
	}
	//중식 2값을 만든다
	if ((e.cell >= 16) && (e.cell <= 23))
	{
		fv_rClass="02";
		var strColID  = ds_tableList.getColID(e.cell-14);
		fv_tblCd = ds_tableList.getColumn(e.row,e.cell-14);
		fv_tblNm = ds_tableList.getColumn(e.row,e.cell-6);
		//trace("Lunch ==> Row:" + e.row + " cell:" + e.cell + " colID:" + strColID + " Data:" + fv_tblCd );
		 
	}
	//석식 2값을 만든다.
	if ((e.cell >= 24) && (e.cell <= 31))
	{
		fv_rClass="03";
		var strColID  = ds_tableList.getColID(e.cell-22);
		fv_tblCd = ds_tableList.getColumn(e.row,e.cell-22);
		fv_tblNm = ds_tableList.getColumn(e.row,e.cell-14);
		//trace("Dinner ==> Row:" + e.row + " cell:" + e.cell + " colID:" + strColID + " Data:" + fv_tblCd );
	}
	
	//자료를 저장 하거나 검색해 온다.
	fn_reservList();
	
}

 

/*----------------------------------------------------------------------------------------------
 * 설명      : 입력조건이 맞는지 검색 한다.
 *---------------------------------------------------------------------------------------------*/
function fn_dataCheck(chkType)
{
	//업장 선택은
	 
	if (gfn_nvl(edt_upjang.getUpjangCode(),"") == "") 
	{
		gfn_alert("msg.noselect","영업장");
		return false;
	}
	//테입블 그룹
	if (gfn_nvl(fv_tblGrp) == "") 
	{
		gfn_alert("msg.noselect","테이블 그룹");
		return false;
	}
	
	if (chkType == "reservList")
	{
		//테이블 선택
		if (gfn_nvl(fv_tblCd) == "") return false;
		return true;
	}
	
	//테이블 선택
	if (gfn_nvl(fv_tblCd) == "") 
	{
		gfn_alert("msg.noselect","테이블");
		return false;
	}
	
	//조중석구분
	if (chkType == "insert")
	{
		if (gfn_nvl(fv_rClass) == "") 
		{
			gfn_alert("msg.noselect","조중석구분");
			return false;
		}
	}
	return true;
}


/*----------------------------------------------------------------------------------------------
 * 설명      : 예약에 대한 메뉴를 등록 한다.
 *---------------------------------------------------------------------------------------------*/
function btn_addData_onclick(obj:Button,  e:ClickEventInfo)
{
	//조건체크
	if (fn_dataCheck("insert") == false)  return;
	
	//상단이 입력되지 않는 경우
	if(ds_reservMst.rowposition == -1) 
	{
		gfn_alert("msg.noinput", "상단(세부자료)");	// 선택된 항목이 없습니다.
		return;
	}
	var nRow = ds_reservGoods.addRow();
	ds_reservGoods.setColumn(nRow,"useYn","1");
	ds_reservGoods.setColumn(nRow,"outletCd", gfn_nvl(edt_upjang.getUpjangCode(),""));
	ds_reservGoods.setColumn(nRow,"reservNum", gfn_nvl(ds_reservMst.getColumn(ds_reservMst.rowposition,"reservNum"),""));
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 예약에 대한 메뉴를 삭제 한다.
 *---------------------------------------------------------------------------------------------*/
function btn_subData_onclick(obj:Button,  e:ClickEventInfo)
{
	var nRow = ds_reservGoods.rowposition;
	
	if(ds_reservGoods.rowposition == -1) 
	{
		gfn_alert("msg.err.grid.noselect", "delete row");	// 선택된 항목이 없습니다.
		return;
	}

	var rtVal = gfn_confirm("confirm.before.delete");	// 선택된 자료를 삭제 하시겠습니까?
	if (rtVal == true) 
	{	
		var bIsProcRow = false;
		if (ds_reservGoods.getRowType(nRow) == Dataset.ROWTYPE_INSERT)
		{
			ds_reservGoods.deleteRow(nRow);
		} else
		{
			ds_reservGoods.setColumn(nRow, "useYn", 0);
			bIsProcRow = true;
		}
		
		if (!bIsProcRow) return;
		
		sMsg = gfn_getMessage("msg.action.success", "");
		sMsg = sMsg += "\r\r" + gfn_getMessage("rc.sle.save.data", "");
		
		//실제 저장처리를 수행할 지를 알려준다.
		if (gfn_confirm(sMsg, "", "C"))
		{
			fn_save();
		}
		else
		{
			sMsg = gfn_getMessage("rc.sle.resave.data","");  //"변경된 자료는 나중에 저장하시기 바랍니다.";
			gfn_alert(sMsg, "", "A");
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : Grid Menu 검색 버튼을 누른 경우
 *---------------------------------------------------------------------------------------------*/
function grd_menuList_onexpanddown(obj:Grid, e:GridMouseEventInfo)
{
	if (e.col == 2 )
	{
		fn_menuSerch(); 
	}
}

function fn_menuSerch()
{
	var nRow = ds_reservGoods.rowposition;
	var arrParam = new Array();
	arrParam[0] = gfn_nvl(ds_reservGoods.getColumn(nRow,"outletCd"),"");	// 업장 코드를 전송 한다.
	arrParam[1] = gfn_nvl(edt_upjang.getUpjangName(),"") ;					// 업장 코드를 전송 한다.
	arrParam[8] = gfn_nvl(ds_reservGoods.getColumn(nRow,"menuNm"),"");
	if (gfn_nvl(arrParam[0],"") == "")
	{
		gfn_alert("msg.noselect","업장");
		return;
	}
	
	var rtnVal = gfn_dialog("MenuPop"				// dialogId
				   , "X_SLE::MenuPop.xfdl"			// Url
				   , {fv_Contents:arrParam}			// 배열 
				   , null, null, null, null, null, false, true, -1);

	if (rtnVal instanceof Object)
	{
		arr = rtnVal.datas;
		
		for(var i=0; i<rtnVal.dataRow; i++)
		{
			if (i==0)
			{
				var nRow = ds_reservGoods.rowposition;
			}
			else
			{ 
				var nRow = ds_reservGoods.addRow();
			}
			ds_reservGoods.setColumn(nRow , "useYn","1");
			ds_reservGoods.setColumn(nRow , "outletCd", gfn_trim(arr[i].outletCd));
			ds_reservGoods.setColumn(nRow , "menuCd", gfn_trim(arr[i].menuCd));
			ds_reservGoods.setColumn(nRow , "menuNm", gfn_trim(arr[i].menuNm));
			ds_reservGoods.setColumn(nRow , "quantity", "1");
			ds_reservGoods.setColumn(nRow , "uprice", gfn_trim(arr[i].applyPrice));
			ds_reservGoods.setColumn(nRow , "discntAmt", "0");
			ds_reservGoods.setColumn(nRow , "totAmt", gfn_trim(arr[i].applyPrice));
		}
	}
}
  
function ds_reservGoods_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
	
	if(e.columnid == "menuNm")
	{
		trace("menu:"+ obj.getColumn(obj.rowposition,"menuNm"));
		var nCd = gfn_nvl(obj.getColumn(obj.rowposition,"menuCd"),"");
		if (nCd == "")
		{
			fn_menuSerch(); 
		}
// function grd_menuList_onkeydown(obj:Grid, e:KeyEventInfo)
// {
// 	if ((obj.getCellPos() == 1) && (e.keycode==13))
// 	{
// 		fn_menuSerch(); 
// 	}
// }
		var nNm = gfn_nvl(obj.getColumn(obj.rowposition,"menuNm"),"");
		if (nNm == "")
		{
			obj.setColumn(obj.rowposition,"menuCd","" );
			obj.setColumn(obj.rowposition,"quantity","0" );
			obj.setColumn(obj.rowposition,"uprice","0" );
			obj.setColumn(obj.rowposition,"discntAmt","0" );
			obj.setColumn(obj.rowposition,"totAmt","0" );
			obj.setColumn(obj.rowposition,"remark","" );
			
			return;
		}
	}
	
	var nQty = gfn_nvl(obj.getColumn(obj.rowposition,"quantity"),0);
	var nPri = gfn_nvl(obj.getColumn(obj.rowposition,"uprice"),0);
	var nAmt = nQty * nPri;
	obj.setColumn(obj.rowposition,"totAmt",nAmt );
	
	var nDc = gfn_nvl(obj.getColumn(obj.rowposition,"discntAmt"),0);
	if (nDc > nAmt)
	{
		gfn_alert("msg.err.validator.comparemin","할인값^소계값"); //msg.err.validator.comparemin  $1 이(가) $2 보다 큽니다.
		//grd_menuList.setCellPos((obj.rowposition * obj.colcount) + 4 );
		//trace("grdSetcell:" + (obj.rowposition * obj.colcount) + 4 );
		obj.setColumn(obj.rowposition,"discntAmt","0");
		return;
	}
	var nTot = nAmt - nDc;
	obj.setColumn(obj.rowposition,"totAmt",nTot );
}

 


 //사업부 변경되는 경우
function fn_muChange(obj, event)
{
	edt_tm.setTmCode("");
	edt_upjang.setUpjangCode("");
	ds_tableGroup.clearData();
	ds_tableGrpList.clearData();
	ds_tableList.clearData();
}
//팀(운영부서) 변경되는 경우
function fn_tmChange(obj, data)
{
	edt_upjang.setUpjangCode("");
	ds_tableGroup.clearData();
	ds_tableGrpList.clearData();
	ds_tableList.clearData();
}
function fn_upjangChange(obj,data)
{
	fv_selectUpjang=true;
	fn_search();
	
}


   

function msk_startTime_ontextchange(obj:MaskEdit,  e:TextChangeEventInfo)
{
	
	if (gfn_nvl(e.chartext,"") == "") return;
	//시간만 입력되게 처리함.
	var tempStr =gfn_nvl(obj.value,"") + e.chartext;
	 
	if (tempStr.length == 1)
	{
		if ((tempStr != "0") && (tempStr != "1") && (tempStr != "2"))
		{
			e.chartext="";
			return;
		}
	}else if (tempStr.length == 2)
	{
		if (!(tempStr >= "00"  &&  tempStr <= "23"))
		{
			e.chartext="";
			return;
		}
	}else if (tempStr.length == 3)
	{
		var tempM = e.chartext;
		if  (!(tempM >="0" && tempM <= "5")) 
		{
			e.chartext="";
			return;
		}
	}else if (tempStr.length == 4)
	{
		var tempM = e.chartext;
		if  (!(tempM >="0" && tempM <= "9")) 
		{
			e.chartext="";
			return;
		}
	}else
	{
		e.chartext="";
		return;
	}
}

function msk_endTime_ontextchange(obj:MaskEdit,  e:TextChangeEventInfo)
{
	if (gfn_nvl(e.chartext,"") == "") return;
	//시간만 입력되게 처리함.
	var tempStr =gfn_nvl(obj.value,"") + e.chartext;
	 
	if (tempStr.length == 1)
	{
		if ((tempStr != "0") && (tempStr != "1") && (tempStr != "2"))
		{
			e.chartext="";
			return;
		}
	}else if (tempStr.length == 2)
	{
		if (!(tempStr >= "00"  &&  tempStr <= "23"))
		{
			e.chartext="";
			return;
		}
	}else if (tempStr.length == 3)
	{
		var tempM = e.chartext;
		if  (!(tempM >="0" && tempM <= "5")) 
		{
			e.chartext="";
			return;
		}
	}else if (tempStr.length == 4)
	{
		var tempM = e.chartext;
		if  (!(tempM >="0" && tempM <= "9")) 
		{
			e.chartext="";
			return;
		}
	}else
	{
		e.chartext="";
		return;
	}
}


function ds_reservMst_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
	if (e.columnid=="endTime")
	{
		var sTime = ds_reservMst.getColumn(ds_reservMst.rowposition, "startTime");
		var eTime = ds_reservMst.getColumn(ds_reservMst.rowposition, "endTime");
		if (parseInt(sTime) > parseInt(eTime))
		{
			gfn_alert("msg.err.validator.comparemin","시작시간^종료시간"); //msg.err.validator.comparemin  $1 이(가) $2 보다 큽니다.
			ds_reservMst.setColumn(ds_reservMst.rowposition, "endTime","");
		}
		
	}
}
 
]]></Script>
  </Form>
</FDL>
