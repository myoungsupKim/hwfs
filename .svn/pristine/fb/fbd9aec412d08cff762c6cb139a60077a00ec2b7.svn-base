<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="FSM00630E" classname="SAMPLE01" inheritanceid="" position="absolute 0 0 800 450" titletext="공유레시피등록이력" onload="form_onload">
    <Layouts>
      <Layout>
        <Grid id="grd_list" taborder="0" binddataset="ds_upjangList" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute 15 40 785 435" anchor="all" autofittype="col" formats="&lt;Formats&gt;&#10;  &lt;Format id=&quot;default&quot;&gt;&#10;    &lt;Columns&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;    &lt;/Columns&gt;&#10;    &lt;Rows&gt;&#10;      &lt;Row band=&quot;head&quot; size=&quot;24&quot;/&gt;&#10;      &lt;Row band=&quot;body&quot; size=&quot;24&quot;/&gt;&#10;    &lt;/Rows&gt;&#10;    &lt;Band id=&quot;head&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;업장명&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;운영부서&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;직군&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;상세직군&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;리더&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;대팀장&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;소팀장&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;점장&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;전화번호&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;오픈일&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;배식형태&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;입주인원&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;조리원수&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;오븐보유여부&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;개별&quot;/&gt;&#10;      &lt;Cell col=&quot;15&quot; disptype=&quot;normal&quot; text=&quot;기간&quot;/&gt;&#10;      &lt;Cell col=&quot;16&quot; disptype=&quot;normal&quot; text=&quot;오븐&quot;/&gt;&#10;      &lt;Cell col=&quot;17&quot; disptype=&quot;normal&quot; text=&quot;조회수&quot;/&gt;&#10;      &lt;Cell col=&quot;18&quot; disptype=&quot;normal&quot; text=&quot;추천수&quot;/&gt;&#10;      &lt;Cell col=&quot;19&quot; disptype=&quot;normal&quot; text=&quot;배정일&quot;/&gt;&#10;      &lt;Cell col=&quot;20&quot; disptype=&quot;normal&quot; text=&quot;배정자&quot;/&gt;&#10;    &lt;/Band&gt;&#10;    &lt;Band id=&quot;body&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;bind:업장명&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;bind:운영부서&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;bind:직군&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;bind:상세직군&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;bind:리더&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;bind:대팀장&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;bind:소팀장&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;bind:점장&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;bind:전화번호&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;bind:오픈일&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;bind:배식형태&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;bind:입주인원&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;bind:조리원수&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;bind:오븐보유여부&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;bind:개별&quot;/&gt;&#10;      &lt;Cell col=&quot;15&quot; disptype=&quot;normal&quot; text=&quot;bind:기간&quot;/&gt;&#10;      &lt;Cell col=&quot;16&quot; disptype=&quot;normal&quot; text=&quot;bind:오븐&quot;/&gt;&#10;      &lt;Cell col=&quot;17&quot; disptype=&quot;normal&quot; text=&quot;bind:조회수&quot;/&gt;&#10;      &lt;Cell col=&quot;18&quot; disptype=&quot;normal&quot; text=&quot;bind:추천수&quot;/&gt;&#10;      &lt;Cell col=&quot;19&quot; disptype=&quot;normal&quot; text=&quot;bind:배정일&quot;/&gt;&#10;      &lt;Cell col=&quot;20&quot; disptype=&quot;normal&quot; text=&quot;bind:배정자&quot;/&gt;&#10;    &lt;/Band&gt;&#10;  &lt;/Format&gt;&#10;&lt;/Formats&gt;&#10;" oncelldblclick="grd_list_oncelldblclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="29"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="80"/>
                <Column size="0"/>
                <Column size="0"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell class="head_Excel" taborder="undefined"/>
                <Cell col="1" text="공유년월"/>
                <Cell col="2" text="공유주차"/>
                <Cell col="3" text="공유구분" taborder="undefined"/>
                <Cell col="4" text="점장"/>
                <Cell col="5" text="오픈일"/>
                <Cell col="6" text="배식형태"/>
                <Cell col="7" text="조회수"/>
                <Cell col="8" text="추천수"/>
                <Cell col="9" text="등록"/>
                <Cell col="10" text="상태" taborder="undefined"/>
              </Band>
              <Band id="body">
                <Cell style="background:white;background2:white;" text="expr:rowidx+1"/>
                <Cell col="1" displaytype="date" style="background:white;background2:white;" text="bind:JOINT_YYMM" mask="yyyy-MM" calendardisplaynulltype="none"/>
                <Cell col="2" displaytype="combo" edittype="expr:JOINT_YN == &quot;Y&quot; ? &quot;none&quot; : &quot;combo&quot;" style="background:white;background2:white;" text="bind:JOINT_WEEKSEQ" combodataset="ds_cboWeekSeq" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell col="3" displaytype="combo" style="background:white;background2:white;" text="bind:JOINT_CLASS" combodataset="ds_cboJointClass" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell col="4" style="background:white;background2:white;" text="bind:CHARGE_SABUN_NM"/>
                <Cell col="5" style="background:white;background2:white;" text="bind:오픈일"/>
                <Cell col="6" style="background:white;background2:white;" text="bind:배식형태"/>
                <Cell col="7" style="background:white;background2:white;" text="bind:INQUERY_CNT"/>
                <Cell col="8" style="background:white;background2:white;" text="bind:RECOMMEND_CNT"/>
                <Cell col="9" displaytype="combo" edittype="none" style="background:white;background2:white;" text="bind:JOINT_YN" combodataset="ds_cboJointYn" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell col="10" displaytype="combo" style="background:white;background2:white;" text="bind:STATUS_CD" combodataset="ds_cboStatusCd" combocodecol="CODE" combodatacol="CODE_NAME"/>
              </Band>
              <Band id="summary">
                <Cell colspan="5" style="align:center;" text="합계" taborder="undefined"/>
                <Cell col="5"/>
                <Cell col="6"/>
                <Cell col="7" displaytype="number" text="expr:getSum('INQUERY_CNT')"/>
                <Cell col="8" displaytype="number" text="expr:getSum('RECOMMEND_CNT')"/>
                <Cell col="9"/>
                <Cell col="10"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1252 725" anchor="left bottom"/>
        <Static id="Static22" text="공유이력" class="sta_WF_Title01" position="absolute 15 22 145 40" anchor="left top"/>
        <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 15 35 785 40" anchor="left top"/>
        <Static id="Static01" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 0 15 450"/>
        <Static id="Static02" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 785 0 800 450"/>
        <Static id="Static00" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 15 0 785 10"/>
        <Static id="Static03" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 15 435 785 450"/>
        <Button id="btn_close" taborder="1" text="닫기" onclick="fn_close" class="btn_WF_CRUD" position="absolute 740 10 785 35" anchor="top right"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="JOINT_YYMM" type="STRING" size="256"/>
          <Column id="UPJANG" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_upjangList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="JOINT_YYMM" type="STRING" size="256"/>
          <Column id="JOINT_WEEKSEQ" type="STRING" size="256"/>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="UPJANGNM" type="STRING" size="256"/>
          <Column id="TM_CD" type="STRING" size="256"/>
          <Column id="TM_NM" type="STRING" size="256"/>
          <Column id="JOB_CD" type="STRING" size="256"/>
          <Column id="JOB_NM" type="STRING" size="256"/>
          <Column id="SUB_JOB_CD" type="STRING" size="256"/>
          <Column id="SUB_JOB_NM" type="STRING" size="256"/>
          <Column id="LEADER_SABUN" type="STRING" size="256"/>
          <Column id="LEADER_SABUN_NM" type="STRING" size="256"/>
          <Column id="TEAM_MST_SABUN" type="STRING" size="256"/>
          <Column id="TEAM_MST_SABUN_NM" type="STRING" size="256"/>
          <Column id="SUBTEAM_MST_SABUN" type="STRING" size="256"/>
          <Column id="SUBTEAM_MST_SABUN_NM" type="STRING" size="256"/>
          <Column id="CHARGE_SABUN" type="STRING" size="256"/>
          <Column id="CHARGE_SABUN_NM" type="STRING" size="256"/>
          <Column id="UPJANG_TEL" type="STRING" size="256"/>
          <Column id="OVEN_DUTY_YN" type="STRING" size="256"/>
          <Column id="DIST_TYPE" type="STRING" size="256"/>
          <Column id="DIST_TYPE_NM" type="STRING" size="256"/>
          <Column id="LIVE_NO_MAN" type="STRING" size="256"/>
          <Column id="COOKS_B_PSN" type="STRING" size="256"/>
          <Column id="OPEN_DATE" type="STRING" size="256"/>
          <Column id="JOINT_NUM1" type="STRING" size="256"/>
          <Column id="JOINT_NUM2" type="STRING" size="256"/>
          <Column id="JOINT_NUM3" type="STRING" size="256"/>
          <Column id="JOINT_NUM4" type="STRING" size="256"/>
          <Column id="TOT_JOINT_NUM" type="STRING" size="256"/>
          <Column id="INQUERY_CNT" type="STRING" size="256"/>
          <Column id="RECOMMEND_CNT" type="STRING" size="256"/>
          <Column id="JOINT_YN" type="STRING" size="256"/>
          <Column id="STATUS_CD" type="STRING" size="256"/>
          <Column id="REMARK" type="STRING" size="256"/>
          <Column id="JOINT_CLASS" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboJointYn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="CODE_NAME">등록</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="CODE_NAME">미등록</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cboWeekSeq" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_NAME">1 주차</Col>
          </Row>
          <Row>
            <Col id="CODE">2</Col>
            <Col id="CODE_NAME">2 주차</Col>
          </Row>
          <Row>
            <Col id="CODE">3</Col>
            <Col id="CODE_NAME">3 주차</Col>
          </Row>
          <Row>
            <Col id="CODE">4</Col>
            <Col id="CODE_NAME">4 주차</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cboStatusCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cboJointClass" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind/>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";

/******************************************************************************************
 * 시스템구분 : 메뉴관리/식단공유
 * 프로그램명 : FSM00600P.XML
 * 기ㅡㅡㅡ능 : 레시피공유 이력조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-23
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************/
//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//=========================================================================================

//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================

//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(this);

	// X-Framework : Action 정보 생성
	fsp_init(this);
	
	//공통코드조회
	var objCode = fn_common_code("'FS0113','FS0105'","","","non","Y");

    // 식단공유-상태
	var sCond = "GROUP_CODE == 'FS0113'";
	objCode.filter(sCond);
	CopyF(ds_cboStatusCd, objCode.name);

    // 식단공유-구분
	var sCond = "GROUP_CODE == 'FS0105'";
	objCode.filter(sCond);
	CopyF(ds_cboJointClass, objCode.name);
		
	// 조회조건 DataSet 초기화
	ds_cond.clearData();
	ds_cond.addRow();
	ds_cond.setColumn(0, "UPJANG", fa_UPJANG);
	//ds_cond.setColumn(0, "JOINT_YYMM", fa_JOINT_YYMM);
	
	fn_search();
}

//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,출력)
//
//=========================================================================================
/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_search() 
 * 기ㅡㅡㅡ능 : 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-23
 ******************************************************************************************/
function fn_search() 
{
	// 데이터 초기화
	ds_upjangList.clearData();

	fsp_clear(this);
	fsp_addSearch(this,"fs/fsm:FSM00600P_S001");
	fsp_callService(this,"","","ds_cond=ds_cond","ds_upjangList=ds_upjangList","","fn_callBackSearch");
}

function fn_callBackSearch(errCode, errMsg) 
{
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오!");
		return;
	}
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_search() 
 * 기ㅡㅡㅡ능 : 닫기
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-23
 ******************************************************************************************/
function fn_close()
{
	this.close();
}

//=========================================================================================
// [ PART 5 ]
// Detail Process Event 정의 ( User Define function )
//
//=========================================================================================

//=========================================================================================
// [ PART 6 ]
// component Event 정의 ( User Define function )
// --> component Event의 기요,기능,동작 등 상세내용은 MiPlatform 메뉴얼을 참조하시기 바랍니다.
//=========================================================================================]]></Script>
  </Form>
</FDL>
