<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="PartTime" classname="PartTime" inheritanceid="" position="absolute 0 0 1251 725" titletext="용역 발생 등록" style="background:white;" onload="form_onload">
    <Layouts>
      <Layout>
        <Div id="div_cmnBtn" anchor="left top right" taborder="26" tabstop="false" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30"/>
        <Static id="Static22" text="용역 발생 리스트" class="sta_WF_Title01" position="absolute 0 85 450 103" anchor="left top"/>
        <Static id="Static15" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 72 450 85" anchor="left top"/>
        <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 98 450 103" anchor="left top"/>
        <Static id="Static58" class="sta_WFSA_Labelbg" position="absolute 0 30 1236 72" anchor="left top right"/>
        <Static id="Static60" text="발생일자" class="sta_WFSA_label" position="absolute 338 40 413 61" anchor="left top"/>
        <Static id="Static65" text="W10" visible="false" position="absolute 396 40 406 61" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Static id="Static70" text="H10" visible="false" position="absolute 15 30 278 40" style="background:#ff000055;align:center middle;"/>
        <Static id="Static72" text="W15" visible="false" position="absolute 0 30 15 66" style="background:#ff000055;align:center middle;"/>
        <Static id="Static00" text="H10" visible="false" position="absolute 15 61 278 71" style="background:#ff000055;align:center middle;"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 710 1251 725" anchor="left bottom"/>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1236 0 1251 724" anchor="top right"/>
        <Static id="Static01" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 506 40 536 61" anchor="left top"/>
        <Static id="Static02" text="발생차수" class="sta_WFSA_label" position="absolute 536 40 596 61" anchor="left top"/>
        <Static id="Static03" text="W10" visible="false" position="absolute 595 40 605 61" anchor="left top" style="background:#ff000055;align:center middle;"/>
        <Combo id="cbo_occurNumOfTimesSch" taborder="4" innerdataset="@ds_occurNumOfTimes" position="absolute 605 40 669 61" anchor="left top" index="-1" codecolumn="code" datacolumn="codeName" displaynulltext="전체" onitemchanged="cbo_occurNumOfTimesSch_onitemchanged"/>
        <Grid id="grd_list" taborder="25" binddataset="ds_list" autoenter="select" useinputpanel="false" cellsizingtype="col" formats="&lt;Formats&gt;&#10;  &lt;Format id=&quot;default&quot;&gt;&#10;    &lt;Columns&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;      &lt;Col size=&quot;80&quot;/&gt;&#10;    &lt;/Columns&gt;&#10;    &lt;Rows&gt;&#10;      &lt;Row band=&quot;head&quot; size=&quot;24&quot;/&gt;&#10;      &lt;Row band=&quot;body&quot; size=&quot;24&quot;/&gt;&#10;    &lt;/Rows&gt;&#10;    &lt;Band id=&quot;head&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;용역사원사번&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;용역사원명&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;소속회사&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;용역시급코드&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;근무시작일자&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;근무시작시간&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;근무종료일자&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;근무종료시간&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;공제시간&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;주간근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;야간근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;연장근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;주간금액&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;야간추가금액&quot;/&gt;&#10;      &lt;Cell col=&quot;15&quot; disptype=&quot;normal&quot; text=&quot;연장추가금액&quot;/&gt;&#10;    &lt;/Band&gt;&#10;    &lt;Band id=&quot;body&quot;&gt;&#10;      &lt;Cell col=&quot;0&quot; disptype=&quot;normal&quot; text=&quot;bind:용역사원사번&quot;/&gt;&#10;      &lt;Cell col=&quot;1&quot; disptype=&quot;normal&quot; text=&quot;bind:용역사원명&quot;/&gt;&#10;      &lt;Cell col=&quot;2&quot; disptype=&quot;normal&quot; text=&quot;bind:소속회사&quot;/&gt;&#10;      &lt;Cell col=&quot;3&quot; disptype=&quot;normal&quot; text=&quot;bind:용역시급코드&quot;/&gt;&#10;      &lt;Cell col=&quot;4&quot; disptype=&quot;normal&quot; text=&quot;bind:근무시작일자&quot;/&gt;&#10;      &lt;Cell col=&quot;5&quot; disptype=&quot;normal&quot; text=&quot;bind:근무시작시간&quot;/&gt;&#10;      &lt;Cell col=&quot;6&quot; disptype=&quot;normal&quot; text=&quot;bind:근무종료일자&quot;/&gt;&#10;      &lt;Cell col=&quot;7&quot; disptype=&quot;normal&quot; text=&quot;bind:근무종료시간&quot;/&gt;&#10;      &lt;Cell col=&quot;8&quot; disptype=&quot;normal&quot; text=&quot;bind:근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;9&quot; disptype=&quot;normal&quot; text=&quot;bind:공제시간&quot;/&gt;&#10;      &lt;Cell col=&quot;10&quot; disptype=&quot;normal&quot; text=&quot;bind:주간근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;11&quot; disptype=&quot;normal&quot; text=&quot;bind:야간근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;12&quot; disptype=&quot;normal&quot; text=&quot;bind:연장근무시간&quot;/&gt;&#10;      &lt;Cell col=&quot;13&quot; disptype=&quot;normal&quot; text=&quot;bind:주간금액&quot;/&gt;&#10;      &lt;Cell col=&quot;14&quot; disptype=&quot;normal&quot; text=&quot;bind:야간추가금액&quot;/&gt;&#10;      &lt;Cell col=&quot;15&quot; disptype=&quot;normal&quot; text=&quot;bind:연장추가금액&quot;/&gt;&#10;    &lt;/Band&gt;&#10;  &lt;/Format&gt;&#10;&lt;/Formats&gt;&#10;" autofittype="col" scrollbars="autoboth" anchor="all" position="absolute 0 101 1236 574" positiontype="position">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="30"/>
                <Column size="80"/>
                <Column size="70"/>
                <Column size="130"/>
                <Column size="61"/>
                <Column size="0"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="70"/>
                <Column size="80"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="60"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
                <Column size="70"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell style="background:#566572ff URL('theme://convertImages/new/img_WF_Excel.png') center middle;" class="head_Excel"/>
                <Cell col="1" text="용역사원"/>
                <Cell col="2" text="용역사원명"/>
                <Cell col="3" text="소속회사"/>
                <Cell col="4" text="근무위치"/>
                <Cell col="5" text="시급코드"/>
                <Cell col="6" text="시급"/>
                <Cell col="7" text="근무시작일"/>
                <Cell col="8" text="시작시간"/>
                <Cell col="9" text="근무종료일"/>
                <Cell col="10" text="종료시간"/>
                <Cell col="11" text="총근무시간"/>
                <Cell col="12" text="공제시간(분)"/>
                <Cell col="13" text="근무시간"/>
                <Cell col="14" text="야근시간"/>
                <Cell col="15" text="연장시간"/>
                <Cell col="16" text="금액"/>
                <Cell col="17" text="야간추가"/>
                <Cell col="18" text="연장추가"/>
                <Cell col="19" text="총합계"/>
              </Band>
              <Band id="body">
                <Cell expr="currow+1"/>
                <Cell col="1" text="bind:partTimeEmpSabun" suppress="0"/>
                <Cell col="2" text="bind:partTimeEmpNm" suppress="0"/>
                <Cell col="3" style="align:left middle;" text="bind:custNm" suppress="0"/>
                <Cell col="4" text="expr:dutyPlace == '0' ? '홀' : dutyPlace == '1' ? '주방' : ''"/>
                <Cell col="5" text="bind:occurDateSalaryCd"/>
                <Cell col="6" text="expr:occurDateSalaryCd == '87' ? '시간당 8,700' : occurDateSalaryCd == '91' ? '시간당 9,100' : occurDateSalaryCd == '98' ? '시간당 9,800(5시간)' : occurDateSalaryCd == '12' ? '시간당 12,000(4시간)' : occurDateSalaryCd == '70' ? '시간당 7,000원' : occurDateSalaryCd == '81' ? '시간당 7,300원' : occurDateSalaryCd == '82' ? '시간당 8,300원' : occurDateSalaryCd == '84' ? '시간당 15,000원' : occurDateSalaryCd == '85' ? '일당제 80,000원' : occurDateSalaryCd == '86' ? '일당제 120,000원' : ''"/>
                <Cell col="7" displaytype="date" text="bind:dutyStartDate"/>
                <Cell col="8" displaytype="normal" style="align:center;" text="bind:dutyStartTime" mask="##:##"/>
                <Cell col="9" displaytype="date" text="bind:dutyEndDate"/>
                <Cell col="10" displaytype="normal" style="align:center;" text="bind:dutyEndTime" mask="##:##"/>
                <Cell col="11" displaytype="number" style="align:right middle;" text="bind:totalDutyTime" mask="#,##0.#" displayexpdec="1"/>
                <Cell col="12" displaytype="number" style="align:right middle;" text="bind:deducTime" mask="#,##0" displayexpdec="1"/>
                <Cell col="13" displaytype="number" style="align:right middle;" text="bind:dutyTime" mask="#,##0.#" displayexpdec="1"/>
                <Cell col="14" displaytype="number" style="align:right middle;" text="bind:nghtDutyTime" mask="#,##0.#" displayexpdec="1"/>
                <Cell col="15" displaytype="number" style="align:right middle;" text="bind:extensionDutyTime" mask="#,##0.#" displayexpdec="1"/>
                <Cell col="16" displaytype="number" style="align:right middle;" text="bind:dutyAmt" mask="#,##0"/>
                <Cell col="17" displaytype="number" style="align:right middle;" text="bind:nghtAddAmt" mask="#,##0"/>
                <Cell col="18" displaytype="number" style="align:right middle;" text="bind:extensionAddAmt" mask="#,##0"/>
                <Cell col="19" displaytype="number" style="align:right middle;" text="bind:totalDutyAmt" mask="#,##0"/>
              </Band>
              <Band id="summary">
                <Cell colspan="15" style="align:right middle;" text="합계" taborder="undefined"/>
                <Cell col="15" displaytype="number" text="expr:getSum('totalDutyTime')"/>
                <Cell col="16" displaytype="number" text="expr:getSum('deducTime')"/>
                <Cell col="17" displaytype="number" text="expr:getSum('dutyTime')"/>
                <Cell col="18" displaytype="number" text="expr:getSum('nghtDutyTime')"/>
                <Cell col="19" displaytype="number" text="expr:getSum('extensionDutyTime')"/>
                <Cell col="20" displaytype="number" text="expr:getSum('dutyAmt')"/>
                <Cell col="21" displaytype="number" text="expr:getSum('nghtAddAmt')"/>
                <Cell col="22" displaytype="number" text="expr:getSum('extensionAddAmt')"/>
                <Cell col="23" displaytype="number" text="expr:getSum('totalDutyAmt')"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_detail03" class="sta_WFDA_Labelbg" position="absolute 93 605 1237 632" anchor="left right bottom"/>
        <Static id="sta_detail07" class="sta_WFDA_Labelbg" position="absolute 93 631 1237 658" anchor="left right bottom"/>
        <Static id="sta_detail02" text="용역사원" class="sta_WFDA_Label01" position="absolute 0 605 110 632" anchor="left bottom"/>
        <Static id="sta_detail06" text="시급" class="sta_WFDA_Label01" position="absolute 0 631 110 658" anchor="left bottom"/>
        <Static id="sta_detail10" text="근무 시작 시간" class="sta_WFDA_Label01" position="absolute 632 631 742 658" anchor="left bottom"/>
        <Static id="sta_detail18" text="소속협력업체" class="sta_WFDA_Label01" position="absolute 632 605 742 632" anchor="left bottom"/>
        <Static id="sta_detail21" text="근무 종료 시간" class="sta_WFDA_Label01" position="absolute 930 631 1048 658" anchor="left bottom"/>
        <Static id="Static20" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 600 450 605" anchor="left top"/>
        <Static id="Static19" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 574 450 587" anchor="left top"/>
        <Static id="Static18" text="용역 내역 등록" class="sta_WF_Title01" position="absolute 0 587 450 605" anchor="left bottom"/>
        <Combo id="cbo_partTimeSalaryCd" taborder="9" innerdataset="@ds_partTimeSalaryCd" codecolumn="partTimeSalaryCd" datacolumn="partTimeSalaryCdNm" class="cmb_WF_Essential" position="absolute 112 634 304 655" anchor="left bottom" displaynulltext="선택" onitemchanged="cbo_partTimeSalaryCd_onitemchanged"/>
        <MaskEdit id="msk_weeklyDutyAmt" taborder="10" readonly="true" mask="@@@,@@@" enable="false" position="absolute 306 634 412 655" anchor="left bottom"/>
        <Edit id="edt_partTimeEmpNm" taborder="7" class="edt_WF_Essential" position="absolute 304 608 412 629" enable="true" maxlength="50" imemode="hangul" anchor="left bottom"/>
        <MaskEdit id="msk_nghtDutyAmt" taborder="11" readonly="true" mask="@@@,@@@" enable="false" position="absolute 414 634 521 655" anchor="left bottom"/>
        <MaskEdit id="msk_dutyEndTime" taborder="16" class="msk_WF_Essential" position="absolute 1147 634 1187 655" style="align:center middle;" mask="##:##" type="string" onkillfocus="msk_dutyEndTime_onkillfocus" anchor="left bottom"/>
        <Edit id="edt_partTimeEmpSabun" taborder="5" class="edt_WF_Essential" position="absolute 112 608 284 629" anchor="left bottom"/>
        <Button id="btn_partTimeEmpSabun" taborder="6" class="btn_WF_popSearch" position="absolute 283 608 305 629" anchor="left bottom"/>
        <MaskEdit id="msk_dutyStartTime" taborder="14" class="msk_WF_Essential" position="absolute 841 634 881 655" mask="##:##" style="align:center middle;" type="string" onkillfocus="msk_dutyStartTime_onkillfocus" anchor="left bottom"/>
        <Static id="sta_detail09" class="sta_WFDA_Labelbg" position="absolute 109 683 1237 710" anchor="left right bottom"/>
        <Static id="sta_detail11" text="총합계" class="sta_WFDA_Label01" position="absolute 0 683 110 710" anchor="left bottom"/>
        <Static id="sta_detail12" text="야간추가금액" class="sta_WFDA_Label01" position="absolute 632 683 742 710" anchor="left bottom"/>
        <Static id="sta_detail13" text="연장추가금액" class="sta_WFDA_Label01" position="absolute 930 683 1048 710" anchor="left bottom"/>
        <MaskEdit id="msk_dutyAmt" taborder="22" readonly="true" enable="false" position="absolute 446 686 630 707" mask="#,##9" anchor="left bottom"/>
        <MaskEdit id="msk_nghtAddAmt" taborder="23" readonly="true" enable="false" position="absolute 744 686 928 707" mask="#,##9" anchor="left bottom"/>
        <MaskEdit id="msk_extensionAddAmt" taborder="24" readonly="true" enable="false" position="absolute 1050 686 1234 707" mask="#,##9" anchor="left bottom"/>
        <Static id="Static09" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 308 40 338 61" anchor="left top"/>
        <Static id="Static04" text="업장" class="sta_WFSA_label" position="absolute 15 40 77 61" anchor="left top"/>
        <Static id="Static05" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 48 40 58 61" anchor="left top"/>
        <Grid id="Grid00" taborder="27" useinputpanel="false" position="absolute 667 897 1001 960" binddataset="ds_search" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="upjang"/>
                <Cell col="1" disptype="normal" text="upjangnm"/>
                <Cell col="2" disptype="normal" text="occurDate"/>
                <Cell col="3" disptype="normal" text="occurNumOfTimes"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:upjang"/>
                <Cell col="1" disptype="normal" text="bind:upjangnm"/>
                <Cell col="2" disptype="normal" text="bind:occurDate"/>
                <Cell col="3" disptype="normal" text="bind:occurNumOfTimes"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid01" taborder="28" useinputpanel="false" position="absolute 730 978 908 1057" binddataset="ds_occurNumOfTimes" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="code"/>
                <Cell col="1" disptype="normal" text="codeName"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:code"/>
                <Cell col="1" disptype="normal" text="bind:codeName"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <MaskEdit id="msk_extensionDutyAmt" taborder="12" readonly="true" mask="@@@,@@@" enable="false" position="absolute 523 634 630 655" anchor="left bottom"/>
        <Grid id="Grid02" taborder="29" useinputpanel="false" position="absolute 604 800 1037 889" binddataset="ds_weeklyDutyAmt" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="partTimeSalaryCd"/>
                <Cell col="1" disptype="normal" text="partTimeSalaryCdNm"/>
                <Cell col="2" disptype="normal" text="weeklyDutyAmt"/>
                <Cell col="3" disptype="normal" text="nghtDutyAmt"/>
                <Cell col="4" disptype="normal" text="extensionDutyAmt"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:partTimeSalaryCd"/>
                <Cell col="1" disptype="normal" text="bind:partTimeSalaryCdNm"/>
                <Cell col="2" disptype="normal" text="bind:weeklyDutyAmt"/>
                <Cell col="3" disptype="normal" text="bind:nghtDutyAmt"/>
                <Cell col="4" disptype="normal" text="bind:extensionDutyAmt"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Combo id="cbo_custCd" taborder="8" displaynulltext="선택" innerdataset="@ds_custCd" onitemchanged="cbo_custCd_onitemchanged" class="cmb_WF_Essential" position="absolute 744 608 930 627" anchor="left bottom"/>
        <Button id="btn_newPartTimer" taborder="31" text="신규사원등록" class="btn_WF_CRUD" position="absolute 414 608 509 629" anchor="left bottom" onclick="btn_newPartTimer_onclick"/>
        <UpjangSearchComponent id="UpjangSearchComponent" titletext="업장 검색용 Component" taborder="33" text="UpjangSearchComponent" position="absolute 58 40 308 61" bindDataset="ds_search" bindUpjangCodeColumn="upjang" bindUpjangNameColumn="upjangnm" eventBeforeTrigger="" eventAfterTrigger="fn_afterStUpjang" roleSetId="StUpjang" class="edt_WF_Essential"/>
        <Edit id="edt_upjangSch" taborder="34" readonly="true" class="edt_WF_Essential" visible="false" position="absolute 685 40 785 61" anchor="left top"/>
        <Grid id="Grid03" taborder="35" useinputpanel="false" position="absolute 0 850 662 977" binddataset="ds_list2" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="partTimeEmpSabun"/>
                <Cell col="1" disptype="normal" text="upjang"/>
                <Cell col="2" disptype="normal" text="partTimeEmpNm"/>
                <Cell col="3" disptype="normal" text="partTimeSalaryCd"/>
                <Cell col="4" disptype="normal" text="dutyYn"/>
                <Cell col="5" disptype="normal" text="custCd"/>
                <Cell col="6" disptype="normal" text="sortOrder"/>
                <Cell col="7" disptype="normal" text="insertYn"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:partTimeEmpSabun"/>
                <Cell col="1" disptype="normal" text="bind:upjang"/>
                <Cell col="2" disptype="normal" text="bind:partTimeEmpNm"/>
                <Cell col="3" disptype="normal" text="bind:partTimeSalaryCd"/>
                <Cell col="4" disptype="normal" text="bind:dutyYn"/>
                <Cell col="5" disptype="normal" text="bind:custCd"/>
                <Cell col="6" disptype="normal" text="bind:sortOrder"/>
                <Cell col="7" disptype="normal" text="bind:insertYn"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid04" taborder="36" useinputpanel="false" position="absolute 779 824 885 889" binddataset="ds_partTimeEmpSabun" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="partTimeEmpSabun"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:partTimeEmpSabun"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Grid id="Grid05" taborder="37" useinputpanel="false" position="absolute 4 728 600 852" binddataset="ds_listValid" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="partTimeEmpSabun"/>
                <Cell col="1" disptype="normal" text="partTimeEmpNm"/>
                <Cell col="2" disptype="normal" text="occurDateSalaryCd"/>
                <Cell col="3" disptype="normal" text="dutyStartDate"/>
                <Cell col="4" disptype="normal" text="dutyStartTime"/>
                <Cell col="5" disptype="normal" text="dutyEndDate"/>
                <Cell col="6" disptype="normal" text="dutyEndTime"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:partTimeEmpSabun"/>
                <Cell col="1" disptype="normal" text="bind:partTimeEmpNm"/>
                <Cell col="2" disptype="normal" text="bind:occurDateSalaryCd"/>
                <Cell col="3" disptype="normal" text="bind:dutyStartDate"/>
                <Cell col="4" disptype="normal" text="bind:dutyStartTime"/>
                <Cell col="5" disptype="normal" text="bind:dutyEndDate"/>
                <Cell col="6" disptype="normal" text="bind:dutyEndTime"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_detail00" class="sta_WFDA_Labelbg" position="absolute 93 657 1237 684" anchor="left right bottom"/>
        <Static id="sta_detail01" text="총근무/공제 시간" class="sta_WFDA_Label01" position="absolute 0 657 110 684" anchor="left bottom"/>
        <Static id="sta_detail04" text="야간근무시간" class="sta_WFDA_Label01" position="absolute 632 657 742 684" anchor="left bottom"/>
        <Static id="sta_detail05" text="연장근무시간" class="sta_WFDA_Label01" position="absolute 930 657 1048 684" anchor="left bottom"/>
        <MaskEdit id="msk_totalDutyTime" taborder="38" readonly="true" mask="#,##9.9" enable="false" position="absolute 112 660 229 681" anchor="left bottom"/>
        <MaskEdit id="msk_deducTime" taborder="39" readonly="true" mask="#,##9.9" enable="false" position="absolute 642 739 735 760" anchor="left bottom" visible="false"/>
        <MaskEdit id="msk_nghtDutyTime" taborder="40" readonly="true" mask="#,##9.9" enable="false" position="absolute 744 660 928 681" anchor="left bottom"/>
        <MaskEdit id="msk_extensionDutyTime" taborder="41" readonly="true" mask="#,##9.9" enable="false" position="absolute 1050 660 1234 681" anchor="left bottom"/>
        <MaskEdit id="msk_dutyTime" taborder="42" readonly="true" mask="#,##9.9" enable="false" position="absolute 446 660 630 681" anchor="left bottom"/>
        <Static id="sta_detail14" text="근무시간" class="sta_WFDA_Label01" position="absolute 326 657 444 684" anchor="left bottom"/>
        <Static id="sta_detail15" text="근무금액" class="sta_WFDA_Label01" position="absolute 326 683 444 710" anchor="left bottom"/>
        <MaskEdit id="msk_totalDutyAmt" taborder="43" readonly="true" mask="#,##9.9" enable="false" position="absolute 112 686 324 707" anchor="left bottom"/>
        <ObjCalendar id="cal_occurDateSch" titletext="캘린더" taborder="44" scrollbars="none" class="cal_WF_Essential" position="absolute 406 40 501 61" onkillfocus="cal_occurDateSch_onkillfocus"/>
        <ObjCalendar id="cal_dutyStartDate" titletext="캘린더" taborder="45" onkillfocus="cal_occurDateSch_onkillfocus" scrollbars="none" class="cal_WF_Essential" position="absolute 744 634 839 655" anchor="left bottom"/>
        <ObjCalendar id="cal_dutyEndDate" titletext="캘린더" taborder="46" onkillfocus="cal_dutyEndDate_onkillfocus" scrollbars="none" class="cal_WF_Essential" position="absolute 1050 634 1145 655" anchor="left bottom"/>
        <Combo id="cbo_deductionTime" taborder="47" readonly="false" displaynulltext="선택" innerdataset="@ds_deductionTime" codecolumn="code" datacolumn="codeName" onitemchanged="cbo_deductionTime_onitemchanged" class="cmb_WF_Essential" position="absolute 231 660 324 681" anchor="left bottom" style="align:center middle;"/>
        <Grid id="Grid06" taborder="48" useinputpanel="false" position="absolute 715 359 1078 506" binddataset="ds_deductionTime" visible="false">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="code"/>
                <Cell col="1" disptype="normal" text="codeName"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:code"/>
                <Cell col="1" disptype="normal" text="bind:codeName"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_detail08" text="근무 위치" class="sta_WFDA_Label01" position="absolute 930 605 1048 632" anchor="left bottom"/>
        <Combo id="cbo_dutyPlace" taborder="49" displaynulltext="선택" innerdataset="ds_dutyPlace" onitemchanged="cbo_dutyPlace_onitemchanged" class="cmb_WF_Essential" position="absolute 1051 608 1139 628" anchor="left bottom" codecolumn="dutyPlaceCd" datacolumn="dutyPlaceNm"/>
        <Combo id="cbo_dutyDetail" taborder="50" displaynulltext="선택" innerdataset="@ds_dutyDetail" codecolumn="partTimeDutyDetailCd" datacolumn="partTimeDutyDetailCdNm" class="cmb_WF_Essential" position="absolute 1140 608 1234 628" anchor="left bottom"/>
        <Edit id="edt_dailyPayYn" taborder="51" imemode="hangul" maxlength="50" position="absolute 741 739 849 760" anchor="left bottom" visible="false" enable="false"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">1</Col>
            <Col id="insYn">1</Col>
            <Col id="delYn">1</Col>
            <Col id="savYn">1</Col>
            <Col id="prtYn">0</Col>
            <Col id="exlYn">0</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_search" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="upjang" type="STRING" size="256"/>
          <Column id="upjangnm" type="STRING" size="256"/>
          <Column id="occurDate" type="STRING" size="256"/>
          <Column id="occurNumOfTimes" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="upjang" type="STRING" size="256"/>
          <Column id="occurDate" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="upjang">title:업장,required:true</Col>
            <Col id="occurDate">title:발생일자,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_list_onrowposchanged" canrowposchange="ds_list_canrowposchange">
        <ColumnInfo>
          <Column id="occurDate" type="STRING" size="256"/>
          <Column id="occurNumOfTimes" type="INT" size="256"/>
          <Column id="partTimeEmpSabun" type="STRING" size="256"/>
          <Column id="partTimeEmpNm" type="STRING" size="256"/>
          <Column id="upjang" type="STRING" size="256"/>
          <Column id="upjangnm" type="STRING" size="256"/>
          <Column id="custCd" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="dutyStartDate" type="STRING" size="256"/>
          <Column id="dutyStartTime" type="STRING" size="256"/>
          <Column id="dutyEndDate" type="STRING" size="256"/>
          <Column id="dutyEndTime" type="STRING" size="256"/>
          <Column id="occurDateSalaryCd" type="STRING" size="256"/>
          <Column id="partTimeSalaryCdNm" type="STRING" size="256"/>
          <Column id="weeklyDutyAmt" type="INT" size="256"/>
          <Column id="nghtDutyAmt" type="INT" size="256"/>
          <Column id="extensionDutyAmt" type="INT" size="256"/>
          <Column id="totalDutyTime" type="FLOAT" size="256"/>
          <Column id="deducTime" type="INT" size="256"/>
          <Column id="dutyTime" type="FLOAT" size="256"/>
          <Column id="nghtDutyTime" type="FLOAT" size="256"/>
          <Column id="extensionDutyTime" type="FLOAT" size="256"/>
          <Column id="dutyAmt" type="BIGDECIMAL" size="256"/>
          <Column id="nghtAddAmt" type="BIGDECIMAL" size="256"/>
          <Column id="extensionAddAmt" type="BIGDECIMAL" size="256"/>
          <Column id="totalDutyAmt" type="BIGDECIMAL" size="256"/>
          <Column id="cuser" type="STRING" size="256"/>
          <Column id="cdate" type="STRING" size="256"/>
          <Column id="uuser" type="STRING" size="256"/>
          <Column id="udate" type="STRING" size="256"/>
          <Column id="insertYn" type="STRING" size="256"/>
          <Column id="dutyPlace" type="STRING" size="256"/>
          <Column id="dutyDetail" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listValid" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="partTimeEmpSabun" type="STRING" size="256"/>
          <Column id="partTimeEmpNm" type="STRING" size="256"/>
          <Column id="occurDateSalaryCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="partTimeEmpSabun">title:용역사원,required:true</Col>
            <Col id="partTimeEmpNm">title:용역사원명,required:true</Col>
            <Col id="occurDateSalaryCd">title:시급,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_list2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="partTimeEmpSabun" type="STRING" size="256"/>
          <Column id="upjang" type="STRING" size="256"/>
          <Column id="partTimeEmpNm" type="STRING" size="256"/>
          <Column id="partTimeSalaryCd" type="STRING" size="256"/>
          <Column id="dutyYn" type="STRING" size="256"/>
          <Column id="custCd" type="STRING" size="256"/>
          <Column id="sortOrder" type="STRING" size="256"/>
          <Column id="insertYn" type="STRING" size="256"/>
          <Column id="dutyPlace" type="STRING" size="256"/>
          <Column id="dutyDetail" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_listValid2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="custCd" type="STRING" size="256"/>
          <Column id="partTimeEmpNm" type="STRING" size="256"/>
          <Column id="occurDateSalaryCd" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="custCd">title:소속협력업체,required:true</Col>
            <Col id="partTimeEmpNm">title:용역사원명,required:true</Col>
            <Col id="occurDateSalaryCd">title:시급,required:true</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_occurNumOfTimes" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="codeName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_custCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_partTimeSalaryCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="partTimeSalaryCd" type="STRING" size="256"/>
          <Column id="partTimeSalaryCdNm" type="STRING" size="256"/>
          <Column id="weeklyDutyAmt" type="INT" size="256"/>
          <Column id="nghtDutyAmt" type="INT" size="256"/>
          <Column id="extensionDutyAmt" type="INT" size="256"/>
          <Column id="dailyPayYn" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_deducTime" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="deducBasisCd" type="STRING" size="256"/>
          <Column id="deducStartTime" type="STRING" size="256"/>
          <Column id="deducEndTime" type="STRING" size="256"/>
          <Column id="deducTime" type="FLOAT" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_partTimeEmpSabun" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="partTimeEmpSabun" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_deductionTime" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="codeName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dutyPlace" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="dutyPlaceCd" type="STRING" size="256"/>
          <Column id="dutyPlaceNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dutyDetail" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="partTimedutyDetailCd" type="STRING" size="256"/>
          <Column id="partTimedutyDetailCdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item2" compid="cbo_occurNumOfTimesSch" propid="value" datasetid="ds_search" columnid="occurNumOfTimes"/>
      <BindItem id="item3" compid="edt_partTimeEmpSabun" propid="value" datasetid="ds_list" columnid="partTimeEmpSabun"/>
      <BindItem id="item4" compid="edt_partTimeEmpNm" propid="value" datasetid="ds_list" columnid="partTimeEmpNm"/>
      <BindItem id="item6" compid="cbo_partTimeSalaryCd" propid="value" datasetid="ds_list" columnid="occurDateSalaryCd"/>
      <BindItem id="item7" compid="msk_weeklyDutyAmt" propid="value" datasetid="ds_list" columnid="weeklyDutyAmt"/>
      <BindItem id="item8" compid="msk_nghtDutyAmt" propid="value" datasetid="ds_list" columnid="nghtDutyAmt"/>
      <BindItem id="item9" compid="msk_extensionDutyAmt" propid="value" datasetid="ds_list" columnid="extensionDutyAmt"/>
      <BindItem id="item11" compid="msk_dutyStartTime" propid="value" datasetid="ds_list" columnid="dutyStartTime"/>
      <BindItem id="item13" compid="msk_dutyEndTime" propid="value" datasetid="ds_list" columnid="dutyEndTime"/>
      <BindItem id="item18" compid="msk_dutyAmt" propid="value" datasetid="ds_list" columnid="dutyAmt"/>
      <BindItem id="item19" compid="msk_nghtAddAmt" propid="value" datasetid="ds_list" columnid="nghtAddAmt"/>
      <BindItem id="item20" compid="msk_extensionAddAmt" propid="value" datasetid="ds_list" columnid="extensionAddAmt"/>
      <BindItem id="item5" compid="cbo_custCd" propid="value" datasetid="ds_list" columnid="custCd"/>
      <BindItem id="item1" compid="edt_upjangSch" propid="value" datasetid="ds_search" columnid="upjang"/>
      <BindItem id="item14" compid="msk_totalDutyTime" propid="value" datasetid="ds_list" columnid="totalDutyTime"/>
      <BindItem id="item15" compid="msk_deducTime" propid="value" datasetid="ds_list" columnid="deducTime"/>
      <BindItem id="item16" compid="msk_nghtDutyTime" propid="value" datasetid="ds_list" columnid="nghtDutyTime"/>
      <BindItem id="item17" compid="msk_extensionDutyTime" propid="value" datasetid="ds_list" columnid="extensionDutyTime"/>
      <BindItem id="item21" compid="msk_dutyTime" propid="value" datasetid="ds_list" columnid="dutyTime"/>
      <BindItem id="item22" compid="msk_totalDutyAmt" propid="value" datasetid="ds_list" columnid="totalDutyAmt"/>
      <BindItem id="item23" compid="cal_occurDateSch" propid="text" datasetid="ds_search" columnid="occurDate"/>
      <BindItem id="item0" compid="cal_dutyStartDate" propid="text" datasetid="ds_list" columnid="dutyStartDate"/>
      <BindItem id="item24" compid="cal_dutyEndDate" propid="text" datasetid="ds_list" columnid="dutyEndDate"/>
      <BindItem id="item10" compid="cbo_deductionTime" propid="value" datasetid="ds_list" columnid="deducTime"/>
      <BindItem id="item12" compid="cbo_dutyPlace" propid="value" datasetid="ds_list" columnid="dutyPlace"/>
      <BindItem id="item25" compid="cbo_dutyDetail" propid="value" datasetid="ds_list" columnid="dutyDetail"/>
      <BindItem id="item26" compid="edt_dailyPayYn" propid="value" datasetid="ds_partTimeSalaryCd" columnid="dailyPayYn"/>
    </Bind>
    <InitValue/>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : PartTime
  파 일 명 : PartTime.xfdl
  기    능 : 용역 발생 등록

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2015.03.23   JUN   최초 생성
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";

/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var fv_objColInfo; 		//용역 발생 데이터셋 컬럼정보
var v_ds_check = "";
var fv_searchYn = false;
var fv_insertYn = false;	//용역사원 등록 여부

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo){

	// Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
	gfn_formOnLoad(this);
	
	// 초기값 셋팅
	fn_init();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init(){

	// 업데이트여부를 체크할 DataSet, 여러개 있을 경우 ;로 구분
	v_ds_check = "ds_list";

	//조회조건을 초기화한다.
	fn_clearSearch();

	//콤보/팝업조회
	fn_setCombo();
	
	fn_comCode("ds_deductionTime",	"DEDUCTION_TIME",	"Y");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 닫기 전 변경 유무 체크 (필수-Frame에서 창 닫힐때 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_close(){

	// v_ds_check 사용시 변경사항 체크
	if(gfn_length(v_ds_check) != 0){	
		// v_ds_check 설정기준 변경사항 체크
		if(gfn_isDataChange() == true){
			if(!gfn_confirm("confirm.before.movepage")) return false;	// 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
		}
	}
	return true;
}


/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수-공통버튼)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 조회 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 * gfn_transaction(
 * 		@param objForm         - Form Object(this)
 * 		@param strSvcID        - 트랜잭션을 구분하기 위한 ID
 * 		@param strURL          - 트랜잭션을 요청할 주소
 * 		@param strInDatasets   - 트랜잭션을 요청할 때 입력값으로 보낼 데이터셋의 ID
 * 		@param strOutDatasets  - 트랜잭션을 처리 결과를 받을 데이터셋의 ID
 * 		@param strArgument     - 트랜잭션을 위한 인자값
 * 		@param strCallbackFunc - 트랜잭션의 결과를 돌려줄 함수의 이름
 * 		@param bAsync          - 비동기 여부(true: Async, false : Sync)
 * 		@param bProgress       - Wait Cursor 표시여부 (true : 사용, false : 사용안함)
 * )
 *---------------------------------------------------------------------------------------------*/
function fn_search(){

	// 조회시 Validation Check
	if(gfn_validCheck(ds_search, ds_searchValid, true) == false) return;

    // Grid sort 표시 초기화(필수)
    gfn_clearSortMark(grd_list);
    //ds_list.clear;
    
    //ds_list.reset;
    //ds_list.deleteAll;
    
	//서비스 쿼리결과로 데이터가 없는 경우 데이터셋 컬럼정보가 사라지는 현상을 복원하기 위해 현재 컬럼정보 저장
	fv_objColInfo = gfn_getDatasetInfo(ds_list);
	
	var params				= "";
	var strUpjang			= "";
	var strOccurDate		= "";
	var strOccurNumOfTimes	= "";

	strUpjang			= gfn_trim(ds_search.getColumn(0, "upjang"));
	strOccurDate		= gfn_trim(ds_search.getColumn(0, "occurDate"));
	strOccurNumOfTimes	= gfn_trim(ds_search.getColumn(0, "occurNumOfTimes"));
	
	if(strUpjang != "")				params += "upjang="+wrapQuote(strUpjang);
	if(strOccurDate != "")			params += " occurDate="+wrapQuote(strOccurDate);
	if(strOccurNumOfTimes != "")	params += " occurNumOfTimes="+wrapQuote(strOccurNumOfTimes);

    gfn_transaction(this
					,"search"
					,"rc/roa/partTime/selectList.xdo"
					,""
					,"ds_list=ds_list"
					,params
					,"fn_callBack"
					,true);
}

function fn_search2(){

	// 조회시 Validation Check
	if(gfn_validCheck(ds_search, ds_searchValid, true) == false) return;

    // Grid sort 표시 초기화(필수)
    gfn_clearSortMark(grd_list);

	//서비스 쿼리결과로 데이터가 없는 경우 데이터셋 컬럼정보가 사라지는 현상을 복원하기 위해 현재 컬럼정보 저장
	fv_objColInfo = gfn_getDatasetInfo(ds_list);
	
	var params				= "";
	var strUpjang			= "";
	var strOccurDate		= "";
	var strOccurNumOfTimes	= "";

	strUpjang			= gfn_trim(ds_search.getColumn(0, "upjang"));
	strOccurDate		= gfn_trim(ds_search.getColumn(0, "occurDate"));
	strOccurNumOfTimes	= gfn_trim(ds_search.getColumn(0, "occurNumOfTimes"));
	
	if(strUpjang != "")				params += "upjang="+wrapQuote(strUpjang);
	if(strOccurDate != "")			params += " occurDate="+wrapQuote(strOccurDate);
	if(strOccurNumOfTimes != "")	params += " occurNumOfTimes="+wrapQuote(strOccurNumOfTimes);

    gfn_transaction(this
					,"search2"
					,"rc/roa/partTime/selectList.xdo"
					,""
					,"ds_list=ds_list"
					,params
					,"fn_callBack"
					,true);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert(){

	if(gfn_isNull(edt_upjangSch.value)){
		gfn_alert("msg.noinput", "업장");	// $1 을(를) 선택해 주십시요.
		//edt_upjangSch.setFocus();
		return;
	}
	
	if(gfn_isNull(cal_occurDateSch.text)){
		gfn_alert("msg.noinput", "발생일자");	// $1 을(를) 선택해 주십시요.
		cal_occurDateSch.setFocus();
		return;
	}	
		
	//변경 또는 입력중에 입력(추가) 버튼을 누른 경우 
	var nRow = ds_list.rowposition;
 	if (ds_list.getRowType(nRow) == Dataset.ROWTYPE_INSERT)
	{
		var sMsg = "입력중 입니다. \r예를 누르면 입력중인 데이터가 사라집니다. \r진행 하시겠습니까?"; 
		//if ( gfn_confirm("rc.bms.err.updateAfter", "확인", "C") == false) return;	
		if (gfn_confirm( sMsg, "확인", "C") == false) return;	
		 
	}
	
	ds_list.clear;
	//alert(ds_list.addRow());
	
	//2016.03.31 그리드에 중복되는 문제 해결하기 위해 조회 후 추가로 변경
	fn_search2();
	/*
	
	var nRow = ds_list.addRow();	
	ds_list.setColumn(nRow, "upjang", 		edt_upjangSch.value);
	ds_list.setColumn(nRow, "occurDate", 	cal_occurDateSch.text);
	ds_list.setColumn(nRow, "dutyStartDate",cal_occurDateSch.text);
	ds_list.setColumn(nRow, "dutyEndDate", 	cal_occurDateSch.text);
	fn_setInputEnable(false, true, true, false, false);
	*/
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete(){
	if(ds_list.getRowCount() == 0){
		gfn_alert("msg.search.nodata", "");	// 조건에 해당하는 자료가 없습니다.
		return;
	}
	
	var nRow = ds_list.rowposition;
	
	if(nRow == -1){
		gfn_alert("msg.err.grid.noselect", "삭제할 row");	// 선택된 항목이 없습니다.
		return;
	}

	var rtVal = gfn_confirm("confirm.before.delete");	// 선택된 자료를 삭제 하시겠습니까?
	
	if(rtVal == true){	
		ds_list.deleteRow(nRow);
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_save(){
 	// v_ds_check 미사용시 변경사항 체크
 	if(gfn_dsIsUpdated(ds_list) == false){
 		gfn_alert("msg.save.nochange");	// 변경된 내역이 없습니다.
 		return;
 	}
	for(var i=0; i<ds_list.rowcount; i++){
		if(gfn_isNull(cbo_partTimeSalaryCd.text)){
		gfn_alert("msg.noselect", "시급");	// $1 을(를) 선택해 주십시요.
		cbo_partTimeSalaryCd.setFocus();
		return false;
		}

		if(gfn_isNull(cal_dutyStartDate.text)){
			gfn_alert("msg.noinput", "근무시작일자");	// $1 을(를) 입력해 주십시요.
			cal_dutyStartDate.setFocus();
			return false;
		}
			
		if(gfn_isNull(msk_dutyStartTime.value)){
			gfn_alert("msg.noinput", "근무시작시간");	// $1 을(를) 입력해 주십시요.
			msk_dutyStartTime.setFocus();
			return false;
		}
		
		if(gfn_isNull(cal_dutyStartDate.text)){
			gfn_alert("msg.noinput", "근무종료일자");	// $1 을(를) 입력해 주십시요.
			cal_dutyStartDate.setFocus();
			return false;
		}
			
		if(gfn_isNull(msk_dutyEndTime.value)){
			gfn_alert("msg.noinput", "근무종료시간");	// $1 을(를) 입력해 주십시요.
			msk_dutyEndTime.setFocus();
			return false;
		}
	}
	

	var iStratDate	= 0;
	var iEndDate	= 0;
	
	iStratDate	= parseFloat(cal_dutyStartDate.text+""+msk_dutyStartTime.value,10);
	iEndDate	= parseFloat(cal_dutyEndDate.text+""+msk_dutyEndTime.value,10);
	
	if(iStratDate > iEndDate){
		gfn_alert("근무 시작 시간이(가) 근무 종료 시간보다 큽니다.");
		cal_dutyEndDate.setFocus();
		return false;
	}

	//용역사원 조회
	if(fv_insertYn == "Y"){

		// 저장시 Validation Check	
		if(gfn_validCheck(ds_list, ds_listValid2) == false) return;

		if(!gfn_confirm("confirm.before.save")) return;
		
		gfn_transaction(this
						,"partTimeEmpSabun"
						,"rc/roa/partTime/selectPartTimeEmpSabun.xdo"
						,""
						,"ds_partTimeEmpSabun=ds_partTimeEmpSabun"
						,"upjang="+wrapQuote(edt_upjangSch.value)
						,"fn_callBack"
						,false);

	}else{

		// 저장시 Validation Check	
		if(gfn_validCheck(ds_list, ds_listValid) == false) return;

		if(!gfn_confirm("confirm.before.save")) return;
		
		gfn_transaction(this
						,"save"
						,"rc/roa/partTime/saveList.xdo"
						,"ds_list=ds_list:U"
						,""
						,""
						,"fn_callBack"
						,true);
	}
}

//저장(신규용역사원 포함)
function fn_save2(){

	for(var i=0; i<ds_list.rowcount; i++){
		if(ds_list.getRowType(i) == "2"){
			if(ds_list.getColumn(i, "insertYn") == "Y"){
				ds_list2.insertRow(0);
				ds_list2.setColumn(0, "partTimeEmpSabun",	ds_partTimeEmpSabun.getColumn(0, "partTimeEmpSabun"));
				ds_list2.setColumn(0, "upjang", 			ds_list.getColumn(i, "upjang"));
				ds_list2.setColumn(0, "partTimeEmpNm", 		ds_list.getColumn(i, "partTimeEmpNm"));
				ds_list2.setColumn(0, "partTimeSalaryCd",	ds_list.getColumn(i, "occurDateSalaryCd"));
				ds_list2.setColumn(0, "dutyYn", 			"Y");
				ds_list2.setColumn(0, "custCd", 			ds_list.getColumn(i, "custCd"));
				ds_list2.setColumn(0, "dutyPlace", 			ds_list.getColumn(i, "dutyPlace"));
				ds_list2.setColumn(0, "dutyDetail", 		ds_list.getColumn(i, "dutyDetail"));
				ds_list2.setColumn(0, "sortOrder", 			"1");
				ds_list2.setColumn(0, "insertYn", 			ds_list.getColumn(i, "insertYn"));
				ds_list.setColumn(i, "partTimeEmpSabun",	ds_partTimeEmpSabun.getColumn(0, "partTimeEmpSabun"));
			}
		}
	}

	gfn_transaction(this
					,"save2"
					,"rc/roa/partTime/saveMgnt.xdo"
					,"ds_list2=ds_list2:U ds_list=ds_list:U"
					,""
					,""
					,"fn_callBack"
					,true);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print(){

}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help(){

}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 CallBack 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg){
	// 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
	if (nErrorCode < 0){
		return;
	}
    switch(strSvcID){

        //발생차수 조회
        case "occurNumOfTimes" :
			cbo_occurNumOfTimesSch.index = 0;
			if(fv_searchYn == true) fn_search();
            break;

        //공제시간 조회
        case "deducTime" :
			if(ds_deducTime.rowcount > 0){
				cbo_deductionTime.value = ds_deducTime.getColumn(0,"deducTime");
			}else{
				cbo_deductionTime.value = 0;
			}
            break;

        //조회
        case "search" :
			if(ds_list.getRowCount() == 0){ //서비스 쿼리 결과로 데이터가 없는 경우 데이터셋 컬럼정보 복원
				gfn_loadDatasetInfo (ds_list, fv_objColInfo);
			}
//			SCPopup.bind(this, "PartTimeEmpCode", 	"edt_partTimeEmpSabun", 	"btn_partTimeEmpSabun", 	null, {upjang:edt_upjangSch.value}, {after:"fn_popPartTimeEmpCodeAfter"});	//용역사원팝업(입력)
			fn_setInputEnable(false, false, true, false, false);
			fv_insertYn = "N";
			
//trace(ds_list.saveXML());
            break;
            
        //조회
        case "search2" :
			if(ds_list.getRowCount() == 0){ //서비스 쿼리 결과로 데이터가 없는 경우 데이터셋 컬럼정보 복원
				gfn_loadDatasetInfo (ds_list, fv_objColInfo);
			}
//			SCPopup.bind(this, "PartTimeEmpCode", 	"edt_partTimeEmpSabun", 	"btn_partTimeEmpSabun", 	null, {upjang:edt_upjangSch.value}, {after:"fn_popPartTimeEmpCodeAfter"});	//용역사원팝업(입력)
			var nRow = ds_list.addRow();	
			ds_list.setColumn(nRow, "upjang", 		edt_upjangSch.value);
			ds_list.setColumn(nRow, "occurDate", 	cal_occurDateSch.text);
			ds_list.setColumn(nRow, "dutyStartDate",cal_occurDateSch.text);
			ds_list.setColumn(nRow, "dutyEndDate", 	cal_occurDateSch.text);
			fn_setInputEnable(false, true, true, false, false);
			//fn_setInputEnable(false, false, true, false, false);
			//fv_insertYn = "N";
            break;
            
        // 신규용역사원 사번 조회
        case "partTimeEmpSabun" : 
            
			if(ds_partTimeEmpSabun.rowcount > 0) fn_save2();
			break;

        // 저장
        case "save" :
			gfn_alert("msg.save.success");	// 저장 되었습니다.
			fn_setOccurNumOfTimes();
			fn_search();
            break;	
            

        // 저장(신규용역사원 포함)
        case "save2" :
			gfn_alert("msg.save.success");	// 저장 되었습니다.
			fn_setOccurNumOfTimes();
			ds_list2.clearData();
			fn_search();
            break;			
    }
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 업장 후처리 함수
 *---------------------------------------------------------------------------------------------*/
function fn_afterStUpjang(){
	fn_setOccurNumOfTimes();
	fn_search();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 용역사원 전처리 함수
 *---------------------------------------------------------------------------------------------*/
function fn_popPartTimeEmpCodeBefore(p){
	if (gfn_isNull(edt_upjangSch.value)){
		gfn_alert("msg.noinput", "업장");	// $1 을(를) 선택해 주십시요.
		return false;
	}else{
		p.option.upjang = edt_upjangSch.value;
		return true;
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 용역사원 후처리 함수
 *---------------------------------------------------------------------------------------------*/
function fn_popPartTimeEmpCodeAfter(p, data){
	if(data.code != null && data.code != undefined){
		edt_partTimeEmpSabun.value = data.partTimeEmpSabun;
		edt_partTimeEmpNm.value = data.partTimeEmpNm;
		cbo_custCd.value = data.custCd;
		cbo_partTimeSalaryCd.value = data.partTimeSalaryCd;
		cbo_dutyDetail.value = data.partTimeDutyDetailCd;
		cbo_dutyPlace.value = data.dutyPlace;
		cbo_dutyDetail.value = data.dutyDetail;
		ds_list.setColumn(ds_list.rowposition, "custNm", data.custNm);
		ds_list.setColumn(ds_list.rowposition, "dutyPlace", data.dutyPlace);
		//ds_list.setColumn(ds_list.rowposition, "dutyDetail", data.dutyDetail);
		cbo_partTimeSalaryCd_onitemchanged();
		cbo_dutyDetail_onitemchanged();
	}
}

/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 입력폼 Readonly true/false
 *---------------------------------------------------------------------------------------------*/
function fn_setInputEnable(arg1, arg2, arg3, arg4, arg5){
	edt_partTimeEmpSabun.enable	= arg1;
	btn_partTimeEmpSabun.enable	= arg2;
	btn_newPartTimer.enable		= arg3;
	edt_partTimeEmpNm.enable	= arg4;
	cbo_custCd.enable			= arg5;
	cbo_dutyPlace.enable		= true;
	cbo_dutyDetail.enable		= true;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 조회조건 초기화
 *---------------------------------------------------------------------------------------------*/
function fn_clearSearch(){
	var nRow= ds_search.addRow();
	ds_search.setColumn(nRow, "upjang",			g_Upjang);
	ds_search.setColumn(nRow, "upjangnm",		g_UpjangNm);
	ds_search.setColumn(nRow, "occurDate",		fv_sToday);
	ds_search.setColumn(nRow, "occurNumOfTimes","");
	
	cal_occurDateSch.fn_initMonthCal(this, fv_sToday, null, ds_search, "occurDate", "Y");
	cal_dutyStartDate.fn_initMonthCal(this, fv_sToday, null, ds_list, "dutyStartDate", "Y");
	cal_dutyEndDate.fn_initMonthCal(this, fv_sToday, null, ds_list, "dutyEndDate", "Y");
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 콤보/팝업조회
 *---------------------------------------------------------------------------------------------*/
function fn_setCombo(){
	fv_searchYn = false;
	fn_setOccurNumOfTimes();
	SCPopup.bind(this, "PartTimeEmpCode", 	"edt_partTimeEmpSabun", 	"btn_partTimeEmpSabun", 	null, {upjang:""}, {before:"fn_popPartTimeEmpCodeBefore", after:"fn_popPartTimeEmpCodeAfter"});	//용역사원팝업(입력)
	SCCombo.bind(this, "ComCode", "cbo_custCd", null, {groupCode:"PART_TIME_CUST_CD", useYn:"Y"});	// 입력:소속협력업체	edt_upjangSch.value
	SCCombo.bind(this, "ComCode", "cbo_dutyPlace", null, {groupCode:"DUTY_PLACE", useYn:"Y"});	// 입력:소속협력업체	edt_upjangSch.value	
	//SCCombo.bind(this, "ComCode", "cbo_dutyDetail", null, {groupCode:"DUTY_DETAIL", useYn:"Y"});	// 입력:소속협력업체	edt_upjangSch.value	
	fn_setDutyDetail(this, "cbo_dutyDetail", "ds_dutyDetail");	//입력:시급
	fn_setDutyAmt(this, "cbo_partTimeSalaryCd", "ds_partTimeSalaryCd");	//입력:시급
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 발생차수 조회
 *---------------------------------------------------------------------------------------------*/
function fn_setOccurNumOfTimes(){

	if(edt_upjangSch.value == "" || edt_upjangSch.value == undefined){
		ds_occurNumOfTimes.addRow();
		ds_occurNumOfTimes.setColumn(0,"code"," ");
		ds_occurNumOfTimes.setColumn(0,"codeName","전체");
		ds_search.setColumn(0, "occurNumOfTimes"," ");
	}else{
		gfn_transaction(this
						,"occurNumOfTimes"
						,"rc/roa/partTime/getOccurNumOfTimes.xdo"
						,""
						,"ds_occurNumOfTimes=ds_occurNumOfTimes"
						,"occurDate="+wrapQuote(cal_occurDateSch.text)+" upjang="+wrapQuote(edt_upjangSch.value)
						,"fn_callBack"
						,false);					
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 시급Combo 조회
 *---------------------------------------------------------------------------------------------*/
function fn_setDutyAmt(obj, comboId, dsId){
    gfn_transaction(obj
					,comboId
					,"sm/cmn/common/selectDutyAmt.xdo"
					,""
					,dsId+"=ds_combo"
					,""
					,"fn_callBack"
					,false);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무내용Combo 조회
 *---------------------------------------------------------------------------------------------*/
function fn_setDutyDetail(obj, comboId, dsId){
    gfn_transaction(obj
					,comboId
					,"rc/roa/partTimeDutyDetail/selectDutyDetail.xdo"
					,""
					,dsId+"=ds_combo"
					,""
					,"fn_callBack"
					,false);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무시간 및 근무금액 초기화
 *---------------------------------------------------------------------------------------------*/
function fn_initDutyTimeAmt(arg){
    if(arg == "clearData"){
        msk_totalDutyTime.value     = 0;
        cbo_deductionTime.value         = 0;
        msk_dutyTime.value          = 0;
        msk_nghtDutyTime.value      = 0;
        msk_extensionDutyTime.value = 0;
        msk_dutyAmt.value           = 0;
        msk_nghtAddAmt.value        = 0;
        msk_extensionAddAmt.value   = 0;
    }else if(arg == "org"){
        msk_totalDutyTime.value     = ds_list.getOrgColumn(ds_list.rowposition, "totalDutyTime");
        cbo_deductionTime.value         = ds_list.getOrgColumn(ds_list.rowposition, "deducTime");
        msk_dutyTime.value          = ds_list.getOrgColumn(ds_list.rowposition, "dutyTime");
        msk_nghtDutyTime.value      = ds_list.getOrgColumn(ds_list.rowposition, "nghtDutyTime");
        msk_extensionDutyTime.value = ds_list.getOrgColumn(ds_list.rowposition, "extensionDutyTime");
        msk_dutyAmt.value           = ds_list.getOrgColumn(ds_list.rowposition, "dutyAmt");
        msk_nghtAddAmt.value        = ds_list.getOrgColumn(ds_list.rowposition, "nghtAddAmt");
        msk_extensionAddAmt.value   = ds_list.getOrgColumn(ds_list.rowposition, "extensionAddAmt");
    }
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무시간 입력확인
 *---------------------------------------------------------------------------------------------*/
function fn_chkDutyTime(val, div){
	if(val == "") return false;
	
	if(div == "date"){
		if(!gfn_isDate(val)) return false;
	}else{
		if(!gfn_isTime(val+"00")) return false;
	}
	return true;
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 공제시간 계산(동기로 실행)
 *---------------------------------------------------------------------------------------------*/
function fn_getDeducTime(sTotalTime){
	if(parseInt(sTotalTime,10) > 2359) sTotalTime = "2400"; //24시간 이상 근무할 경우 24시간으로 처리한다.
    gfn_transaction(this
					,"deducTime"
					,"rc/roa/partTime/getDeducTime.xdo"
					,""
					,"ds_deducTime=ds_deducTime"
					,"totalDutyTime="+wrapQuote(sTotalTime)
					,"fn_callBack"
					,false);
}

/************************************************************************************************
 * Function
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 근무시간 및 근무금액 계산(obj=obj ID, div=날짜/시간 구분, arg=obj Name)
 *---------------------------------------------------------------------------------------------*/
function fn_setPartTimeCalculation(obj, div, arg){

    var sPartTimeSalaryCd   = "";   //시급코드
    var iWeeklyDutyAmt      = 0;    //주간금액
    var iNghtDutyAmt        = 0;    //야간금액
    var iExtensionDutyAmt   = 0;    //연장금액
    var sDate               = "";   //근무시작일자
    var sTime               = "";   //근무시작시간
    var eDate               = "";   //근무종료일자
    var eTime               = "";   //근무종료시간
    var fTotalDutyTime      = 0;    //총근무시간
    var fDeducTime          = 0;    //공제시간
    var fDutyTime           = 0;    //근무시간
    var fNghtDutyTime       = 0;    //야간근무시간
    var fExtensionDutyTime  = 0;    //연장근무시간
    var fDutyAmt            = 0;    //주간근무금액
    var fNghtAddAmt         = 0;    //야간추가금액
    var fExtensionAddAmt    = 0;    //연장추가금액
    var iTotalHour          = 0;    //총근무시간(시간)
    var iTotalTime          = 0;    //총근무시간(분)
    var sTotalTime          = "";   //총근무시간(시분)
    var iSTime              = 0;
    var iETime              = 0;
    var iStdTime0           = 0;    //야간근무시간(총근무시간 중 22:00 ~ 06:00)
    var iStdTime6           = 600;
    var iStdTime22          = 2201;
    var iStdTime24          = 2400;
    var iNghtDutyTime       = 0;
    var sStartTime          = "";
    var sEndTime            = "";
    var iDay                = 0;
    var sDailyPayYn         = "N";  //일당제여부

    if(div == "time"){    //시간 정합성 체크
        if(!gfn_isTime(obj.value+"00")){    //시분초 6자리
            gfn_alert("msg.err.validator.data", arg);   // $1 이(가) 잘못된 형태로 입력 되었습니다.
            obj.setFocus();
            return;
        }
    }else if(div == "date"){    //날짜에 대한 형식 체크
        if(!gfn_isDate(obj.text)){
            gfn_alert("msg.err.validator.data", arg);   // $1 이(가) 잘못된 형태로 입력 되었습니다.
            obj.setFocus();
            return;
        }
    }

    sDate   = cal_dutyStartDate.text;
    sTime   = msk_dutyStartTime.value;
    eDate   = cal_dutyEndDate.text;
    eTime   = msk_dutyEndTime.value;

	if(gfn_isNull(sDate) || gfn_isNull(sTime) || gfn_isNull(eDate) || gfn_isNull(eTime)) return;

	if(gfn_isNull(cbo_partTimeSalaryCd.value)){
		gfn_alert("msg.noinput", "시급");   // $1 을(를) 입력해 주십시요.
		cbo_partTimeSalaryCd.setFocus();
		return;
	}
	
    //총근무시간
    fTotalDutyTime = fn_getDiffDate(sDate, sTime, eDate, eTime, "HOUR");

    iTotalHour = gfn_floor(fTotalDutyTime, 0);
    if(fTotalDutyTime > iTotalHour) iTotalTime = gfn_floor((fTotalDutyTime - iTotalHour) * 60, 0);
    else iTotalTime = 0;

    sTotalTime = gfn_lPad(iTotalHour,"0",2) + "" + gfn_lPad(iTotalTime,"0",2);

    if(fTotalDutyTime < 0){
        gfn_alert("msg.err.validator.time.great");    // 종료시간이 시작시간보다 빠릅니다.
        obj.value = "";
        obj.setFocus();
        return;
    }

    //총근무시간
    msk_totalDutyTime.value = fTotalDutyTime;

    //공제시간
//    alert(gfn_isNull(cbo_deductionTime.value));
    if(gfn_isNull(cbo_deductionTime.value)){
		fn_getDeducTime(sTotalTime);
	}
    fDeducTime = cbo_deductionTime.value;

    //근무시간(총근무시간 - 공제시간)
    fDutyTime    = gfn_round(parseFloat(msk_totalDutyTime.value) - (parseFloat(fDeducTime) / 60),1);
    msk_dutyTime.value = fDutyTime;

    //iDay = parseInt(eDate,10) - parseInt(sDate,10);
    iDay = fn_getDiffDate(sDate, sTime, eDate, eTime, "HOUR");
    if (iDay > 24) {
		iDay = Math.floor(iDay/24);
    } else {
		iDay = 0;
    }
    
    for(var i=0; i<=iDay; i++){
        if(iDay == 0){
            sStartTime = sTime;
            sEndTime = eTime;
            iSTime = parseInt(sTime,10);
            iETime = parseInt(eTime,10);
        }else{
            if(i == iDay){
                sStartTime = "0000";
                sEndTime = eTime;
                iSTime = 0;
                iETime = parseInt(eTime,10);
            }else{
                sStartTime = sTime;
                sEndTime = "2400";
                iSTime = parseInt(sTime,10);
                iETime = 2400;
            }
        }
//alert(sTime+":"+iSTime+":"+iETime)
        //Strat 00:00 ~ 06:00
        if(iSTime >= iStdTime0 && iSTime <= iStdTime6){

            //End 00:00 ~ 06:00
            if(iETime >= iStdTime0 && iETime <= iStdTime6){
                //alert("Strat 00:00 ~ 06:00    End 00:00 ~ 06:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime(sStartTime, sEndTime);

            //End 06:01 ~ 22:00
            }else if(iETime > iStdTime6 && iETime <= iStdTime22){
                //alert("Strat 00:00 ~ 06:00    End 06:01 ~ 22:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime(sStartTime, "0600");

            //End 22:01 ~ 24:00
            }else if(iETime > iStdTime22 && iETime <= iStdTime24){
                //alert("Strat 00:00 ~ 06:00   End 22:01 ~ 24:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime(sStartTime, "0600");
                iNghtDutyTime += fn_getDiffTime("2200", sEndTime);
            }

        //Strat 06:01 ~ 22:00
        }else if(iSTime > iStdTime6 && iSTime <= iStdTime22){

            //End 22:00 ~ 24:00
            if(iETime > iStdTime22 && iETime <= iStdTime24){
                //alert("Strat 06:01 ~ 22:00   End 22:01 ~ 24:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime("2200", sEndTime);
             
            //End 00:00 ~ 06:00
            } else if(iETime >= iStdTime0 && iETime <= iStdTime6){
                //alert("Strat 00:00 ~ 06:00    End 00:00 ~ 06:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime("2200", "2400");
                iNghtDutyTime += fn_getDiffTime("0000", sEndTime);
            }

        //Strat 22:01 ~ 24:00
        }else if(iSTime > iStdTime22 && iSTime <= iStdTime24){
            //End 22:01 ~ 24:00
            if(iETime > iStdTime22 && iETime <= iStdTime24){
                //alert("Strat 22:01 ~ 24:00   End 22:01 ~ 24:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime(sStartTime, sEndTime);
            
            //End 00:00 ~ 06:00
            } else if(iETime >= iStdTime0 && iETime <= iStdTime6){
                //alert("Strat 00:00 ~ 06:00    End 00:00 ~ 06:00  ::::::::::::::::: sStartTime=" + sStartTime+",  sEndTime="+sEndTime);
                iNghtDutyTime += fn_getDiffTime("2200", "2400");
                iNghtDutyTime += fn_getDiffTime("0000", sEndTime);
            }
        }
        //alert("for::::::::::iDay="+iDay+",   iNghtDutyTime="+iNghtDutyTime);
    }

    fNghtDutyTime = iNghtDutyTime;
    msk_nghtDutyTime.value = fNghtDutyTime;

    iWeeklyDutyAmt      = msk_weeklyDutyAmt.value;      //주간금액
    iNghtDutyAmt        = msk_nghtDutyAmt.value;        //야간금액
    iExtensionDutyAmt   = msk_extensionDutyAmt.value;   //연장금액
    sDailyPayYn         = edt_dailyPayYn.value          //일당제여부

    //연장근무시간(총근무시간 중 8시간 이상 근무((총근무시간 - 8))
    if(fTotalDutyTime > 8) fExtensionDutyTime = fDutyTime - 8;
    if(fExtensionDutyTime < 0) fExtensionDutyTime = 0;
    msk_extensionDutyTime.value = fExtensionDutyTime;

    //일당제일 경우 야간근무시간, 연장근무시간 0
    /*
    if(sDailyPayYn == "Y")
    {
		msk_nghtDutyTime.value = 0;
		msk_extensionDutyTime.value = 0;
    }
    */

	//alert("주간근무금액:"+fDutyTime+"*"+iWeeklyDutyAmt);
    //주간근무금액(근무시간 * 주간근무금액)
    //일당제일 경우 주간근무금액으로 세팅
    if(sDailyPayYn == "Y")
    {
		fDutyAmt = iWeeklyDutyAmt;
    }
    else
    {
		fDutyAmt = gfn_round(fDutyTime * iWeeklyDutyAmt, 0);
    }
    msk_dutyAmt.value = fDutyAmt;

    //야간추가금액(야간근무시간 * 야간금액)
    fNghtAddAmt = gfn_round(fNghtDutyTime * iNghtDutyAmt, 0);
    msk_nghtAddAmt.value = fNghtAddAmt;

    //연장추가금액(연장근무시간 * 연장금액)
    fExtensionAddAmt = gfn_round(fExtensionDutyTime * iExtensionDutyAmt, 0);
    msk_extensionAddAmt.value = fExtensionAddAmt;
    
    msk_totalDutyAmt.value = fDutyAmt + fNghtAddAmt + fExtensionAddAmt;
}

/*----------------------------------------------------------------------------------------------
 * @class 두 시간간의 차이 계산
 * @param sStartTime - HHmmss형태의 From 시간 ( 예 : "033025" )
 * @param sEndTime   - HHmmss형태의 To 시간 ( 예 : "034025" )
 * @return 차이 시간
 *---------------------------------------------------------------------------------------------*/
function fn_getDiffTime(sStartTime, sEndTime){
    var nReturnValue = 0;
    var nFrom_hh = toNumber(sStartTime.substring(0, 2));
    var nFrom_mm = toNumber(sStartTime.substring(2, 4));
    var nFrom_ss = toNumber(sStartTime.substring(4, 6));
    
    var nTo_hh = toNumber(sEndTime.substring(0, 2));
    var nTo_mm = toNumber(sEndTime.substring(2, 4));
    var nTo_ss = toNumber(sEndTime.substring(4, 6));
    
    var nFromTotal_ss = (nFrom_hh * 3600) + (nFrom_mm * 60) + nFrom_ss;
    var nToTotal_ss   = (nTo_hh * 3600) + (nTo_mm * 60) + nTo_ss;
    
    nReturnValue = gfn_round((nToTotal_ss - nFromTotal_ss) / 3600,1);
    
    return nReturnValue;
}

/*----------------------------------------------------------------------------------------------
 * 날짜와 시간의 차이를 구하는 함수
 * @param sDate  - 시작일자(yyyyMMdd 또는 yyyy-MM-dd)
 * @param sTime  - 시작시분(HH24MI)
 * @param eDate  - 종료일자(yyyyMMdd 또는 yyyy-MM-dd)
 * @param eTime  - 종료시분(HH24MI)
 * @param strDiv - 구분
 * @return 
 * 		구분이 "HOUR" 이면 소수점 첫째자리까지의 시간(반올림) - 315분 => 5.25시간 => return '5.3'
 *      구분이 "HH24MI" 이면 시분(HH24MI) ex) 8시간 15분 => return '0815'
 *---------------------------------------------------------------------------------------------*/
function fn_getDiffDate(sDate, sTime, eDate, eTime, strDiv){

    var retVal 	= 0;
    var sYear	= 0;
    var sMon	= 0;
    var sDay	= 0;
    var eMon	= 0;
    var eDay	= 0;
    var sHour	= 0;
    var sMin	= 0;
    var eHour	= 0;
    var eMin	= 0;
    var iTime 	= 0;
    var iHour 	= 0;
    var iMin 	= 0;
    
	var strSDate = new String(sDate);
	var strEDate = new String(eDate);
	
 	strSDate = strSDate.replace("/","").replace("/","");
 	strSDate = strSDate.replace("-","").replace("-","");
 	strSDate = strSDate.replace(".","").replace(".","");
 	strEDate = strEDate.replace("/","").replace("/","");
 	strEDate = strEDate.replace("-","").replace("-","");
 	strEDate = strEDate.replace(".","").replace(".","");

	sTime = gfn_replace(sTime,":","");
	eTime = gfn_replace(eTime,":","");

	sYear = parseInt(strSDate.substring(0, 4),10);
	sMon = parseInt(strSDate.substring(4, 6),10);
	sDay = parseInt(strSDate.substring(6, 8),10);


	eYear = parseInt(strEDate.substr(0, 4),10);
	eMon = parseInt(strEDate.substr(4, 2),10);
	eDay = parseInt(strEDate.substr(6, 2),10);
	
    sHour	= parseInt(sTime.substr(0, 2),10);
    sMin	= parseInt(sTime.substr(2, 4),10);

    eHour	= parseInt(eTime.substr(0, 2),10);
    eMin	= parseInt(eTime.substr(2, 4),10);

    //월 -1, Number()를 이용하여 08, 09월을 10진수로 인식하게함.
    sMon = (Number(sMon)-1)+"";
    eMon = (Number(eMon)-1)+"";

    var from_dt = new Date(sYear, sMon, sDay, sHour, sMin);
    var to_dt = new Date(eYear, eMon, eDay, eHour, eMin);

	if(strDiv == "HOUR"){
		retVal = (to_dt.getTime() - from_dt.getTime()) / 1000 / 60 / 60;
		retVal = gfn_round(retVal, 1);
	}else if(strDiv == "HH24MI"){
		iTime = (to_dt.getTime() - from_dt.getTime())  / 1000 / 60 / 60;
		iHour = gfn_floor((to_dt.getTime() - from_dt.getTime()) / 1000 / 60 / 60, 0);
    
		iMin = gfn_round((iTime - iHour) * 60, 0);
	
		retVal = gfn_lPad(iHour.toString(),"0",2) + gfn_lPad(iMin.toString(),"0",2);
	}
    return retVal;
}

/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 발생일자 변경 EVENT에 따른 발생차수 조회
 *---------------------------------------------------------------------------------------------*/
function cal_occurDateSch_onkillfocus(obj:ObjCalendar, e:KillFocusEventInfo){
	if(!gfn_isNull(cal_occurDateSch.text)){
		fv_searchYn = true;
		fn_setOccurNumOfTimes();
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 발생차수(조회조건) 변경 EVENT시 리스트 조회
 *---------------------------------------------------------------------------------------------*/
function cbo_occurNumOfTimesSch_onitemchanged(obj:Combo, e:ItemChangeEventInfo){
	fn_search();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 용역사원 등록버튼 EVENT
 *---------------------------------------------------------------------------------------------*/
function btn_newPartTimer_onclick(obj:Button,  e:ClickEventInfo){
	if(gfn_isDataChange() == true){
		if(ds_list.getRowType(ds_list.rowposition) != "2"){
			gfn_alert("msg.err.updateafter");	// 변경된 내역을 저장 후 작업하세요.
			return;
		}
	}
	
	if(gfn_isNull(edt_upjangSch.value)){
		gfn_alert("msg.noinput", "업장");	// $1 을(를) 선택해 주십시요.
		return;
	}
	
	if(gfn_isNull(cal_occurDateSch.text)){
		gfn_alert("msg.noinput", "발생일자");	// $1 을(를) 선택해 주십시요.
		cal_occurDateSch.setFocus();
		return;
	}

	var nRow = 0;
	
	if(ds_list.getRowType(ds_list.rowposition) != "2"){
		nRow = ds_list.addRow();
	}else{
		nRow = ds_list.rowposition;
	}
	ds_list.setColumn(nRow, "upjang", 		edt_upjangSch.value);
	ds_list.setColumn(nRow, "occurDate", 	cal_occurDateSch.text);
	ds_list.setColumn(nRow, "dutyStartDate",cal_occurDateSch.text);
	ds_list.setColumn(nRow, "dutyEndDate", 	cal_occurDateSch.text);
	ds_list.setColumn(nRow, "insertYn", 	"Y");
	
	//입력폼 초기화
	edt_partTimeEmpSabun.value = "";
	edt_partTimeEmpNm.value = "";
	cbo_custCd.value = "";
	cbo_dutyPlace.value = "";
	//cbo_dutyDetail.value = "";

	fn_setInputEnable(false, false, false, true, true);
	fv_insertYn = "Y";
	
	edt_partTimeEmpNm.setFocus();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 시급(입력) 변경 EVENT시 금액 조회
 *---------------------------------------------------------------------------------------------*/
function cbo_partTimeSalaryCd_onitemchanged(obj:Combo, e:ItemChangeEventInfo){
	if(cbo_partTimeSalaryCd.index > -1){
		msk_weeklyDutyAmt.value		= ds_partTimeSalaryCd.getColumn(cbo_partTimeSalaryCd.index, "weeklyDutyAmt");
		msk_nghtDutyAmt.value		= ds_partTimeSalaryCd.getColumn(cbo_partTimeSalaryCd.index, "nghtDutyAmt");
		msk_extensionDutyAmt.value	= ds_partTimeSalaryCd.getColumn(cbo_partTimeSalaryCd.index, "extensionDutyAmt");
		edt_dailyPayYn.value        = ds_partTimeSalaryCd.getColumn(cbo_partTimeSalaryCd.index, "dailyPayYn");
		fn_setPartTimeCalculation(obj, "combo", "시급");
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무 시작 일자 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cal_dutyStartDate_onkillfocus(obj:Calendar, e:KillFocusEventInfo){

	cal_dutyEndDate.fn_setValue(cal_dutyStartDate.text);
	
	if(cal_dutyStartDate.text != ds_list.getOrgColumn(ds_list.rowposition, "dutyStartDate") || ds_list.getRowType(ds_list.rowposition) != "2"){
		fn_initDutyTimeAmt("clearData");	//근무시간 및 근무금액 초기화
		
		if(fn_chkDutyTime(cal_dutyStartDate.text, "date")){
			fn_setPartTimeCalculation(obj, "date", "근무시작일자");	//근무시간 및 근무금액 계산
		}else{
			gfn_alert("msg.err.validator.date", "근무시작일자");	//$1 은(는) 유효하지 않은 날짜 형식입니다.
			cal_dutyStartDate.setFocus();
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무 종료 일자 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cal_dutyEndDate_onkillfocus(obj:ObjCalendar, e:KillFocusEventInfo){
	if(cal_dutyEndDate.text != ds_list.getOrgColumn(ds_list.rowposition, "dutyEndDate") || ds_list.getRowType(ds_list.rowposition) != "2"){
		fn_initDutyTimeAmt("clearData");	//근무시간 및 근무금액 초기화
		
		if(fn_chkDutyTime(cal_dutyEndDate.text, "date")){
			fn_setPartTimeCalculation(obj, "date", "근무종료일자");	//근무시간 및 근무금액 계산
		}else{
			gfn_alert("msg.err.validator.date", "근무종료일자");	//$1 은(는) 유효하지 않은 날짜 형식입니다.
			cal_dutyEndDate.setFocus();
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무 시작 시간 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function msk_dutyStartTime_onkillfocus(obj:MaskEdit, e:KillFocusEventInfo){
	if(msk_dutyStartTime.value == ds_list.getOrgColumn(ds_list.rowposition, "dutyStartTime")){
		if(ds_list.getRowType(ds_list.rowposition) != "2"){
			return;
		}
	}
	
	fn_initDutyTimeAmt("clearData");	//근무시간 및 근무금액 초기화
	if(msk_dutyStartTime.value == "2400") msk_dutyStartTime.value = "2359";

	if(fn_chkDutyTime(msk_dutyStartTime.value, "time")){
		fn_setPartTimeCalculation(obj, "time", "근무시작시간");	//근무시간 및 근무금액 계산
	}else{
		gfn_alert("msg.err.validator.data", "근무시작시간");	//$1 이(가) 잘못된 형태로 입력 되었습니다.
		msk_dutyStartTime.value = "0900";
		msk_dutyStartTime.setFocus();
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무 종료 시간 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function msk_dutyEndTime_onkillfocus(obj:MaskEdit, e:KillFocusEventInfo){
	if(msk_dutyEndTime.value == ds_list.getOrgColumn(ds_list.rowposition, "dutyEndTime")){
		if(ds_list.getRowType(ds_list.rowposition) != "2"){
			return;
		}
	}

	fn_initDutyTimeAmt("clearData");	//근무시간 및 근무금액 초기화
	if(msk_dutyEndTime.value == "2400") msk_dutyEndTime.value = "2359";

	if(fn_chkDutyTime(msk_dutyEndTime.value, "time")){
		fn_setPartTimeCalculation(obj, "time", "근무종료시간");	//근무시간 및 근무금액 계산
	}else{
		gfn_alert("msg.err.validator.data", "근무종료시간");	//$1 이(가) 잘못된 형태로 입력 되었습니다.
		msk_dutyEndTime.value = "1800";
		msk_dutyEndTime.setFocus();
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 소속협력업체 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cbo_custCd_onitemchanged(obj:Combo, e:ItemChangeEventInfo){
	ds_list.setColumn(ds_list.rowposition, "custNm", cbo_custCd.text);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 근무위치 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cbo_dutyPlace_onitemchanged(obj:Combo, e:ItemChangeEventInfo){
	ds_list.setColumn(ds_list.rowposition, "dutyPlace", cbo_dutyPlace.value);
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 업무내용 변경 EVENT
 *---------------------------------------------------------------------------------------------*/
function cbo_dutyDetail_onitemchanged(obj:Combo, e:ItemChangeEventInfo){
	ds_list.setColumn(ds_list.rowposition, "dutyDetail", cbo_dutyDetail.value);
}


/*----------------------------------------------------------------------------------------------
 * 설명      : 데이터셋 Row 이동시 EVENT
 *---------------------------------------------------------------------------------------------*/
function ds_list_canrowposchange(obj:Dataset, e:DSRowPosChangeEventInfo){
	if(ds_list.rowcount > 0){
		if(ds_list.getRowType(ds_list.rowposition) == "2" && ds_list.getColumn(ds_list.rowposition, "insertYn") == "Y"){
			var retValue = gfn_confirm("다른 항목으로 이동하면 신규 용역사원 정보가 삭제됩니다.@계속 진행 하시겠습니까?");
			
			if(retValue == true){
				ds_list.deleteRow(ds_list.rowposition);
				fn_setInputEnable(false, false, true, false, false);
				return true;
			}else{
				return false;
			}
		}
	}
	return true;
}

/*----------------------------------------------------------------------------------------------
 * ComCode 조회
 *-------------------------------------------------------------------------'--------------------*/
function fn_comCode(dataset,type, str){
		gfn_transaction(this
						,"salsType"
						,"sm/cmn/common/selectComCode.xdo"
						,""
						,dataset+"=ds_combo"
						,"groupCode="+wrapQuote(type)+" useYn="+wrapQuote(str)
						,"fn_callBack"
						,false);
}

function cbo_deductionTime_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	//fn_chkDutyTime(cbo_deductionTime.value, "time");
	fn_setPartTimeCalculation(obj, "combo", "공제시간");	//근무시간 및 근무금액 계산
}

function btn_dutyDetailMng_onclick(obj:Button,  e:ClickEventInfo)
{
	var rtnVal = gfn_dialog("ReleaseAddFunctionPop"				// dialogId
					   , "X_FTS::ReleaseAddFunctionPop.xfdl"			// Url
					   , {}			// 배열
					   , null, null, null, null, null, true, true, -1);
}
]]></Script>
  </Form>
</FDL>
