<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="FSM90371V" classname="SAMPLE01" inheritanceid="" position="absolute 0 0 1267 725" titletext="식재료율실적조회(팝업)" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1252 0 1267 710" anchor="top right"/>
        <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 15 710 1267 725" anchor="left bottom"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 15 30 1252 71" anchor="left top right"/>
        <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 15 30 1156 40" anchor="left top"/>
        <Static id="Static05" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 15 61 1196 71" anchor="left top"/>
        <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 15 40 30 61" anchor="left top"/>
        <Static id="Static22" text="일별 식재료율 실적" class="sta_WF_Title01" position="absolute 15 272 199 290" anchor="left top"/>
        <Static id="Static15" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 15 71 258 84" anchor="left top"/>
        <Static id="Static16" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 15 285 257 290" anchor="left top"/>
        <Static id="Static10" text="사업장" class="sta_WFSA_label" position="absolute 404 41 471 62" anchor="left top"/>
        <Static id="Static13" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 653 40 688 61" anchor="left top"/>
        <Static id="st_TM_CD" text="팀" class="sta_WFSA_label" position="absolute 227 41 257 62" anchor="left top" userdata="strMAQuery_Team"/>
        <Static id="Static00" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 374 40 404 61" anchor="left top"/>
        <Static id="Static54" text="h06" class="Guide01_AreaRed" visible="false" position="absolute 1194 71 1252 77" anchor="top right"/>
        <Static id="Static53" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1041 285 1252 290" anchor="top right"/>
        <Static id="st_TM_CD00" text="사업부" class="sta_WFSA_label" position="absolute 30 41 100 62" anchor="left top" userdata="strMAQuery_Team"/>
        <Static id="Static01" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 76 40 86 61"/>
        <MuSearchComponent id="cbo_mu" titletext="사업부 선택 Component" taborder="9" text="MuSearchComponent00" position="absolute 86 40 197 61" bindDataset="ds_cond" bindMuCdColumn="MU_CD" appendText="" onItemChangedEvent="fn_muChange"/>
        <Static id="Static09" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 197 40 227 61"/>
        <TmSearchComponent id="edt_tm" titletext="팀 검색용 Component" taborder="10" text="TmSearchComponent00" position="absolute 256 40 374 61" bindDataset="ds_cond" bindTmCdColumn="TM_CD" bindTmNmColumn="TM_NM" qoBuCd="" qoMuCd="" qoUseYn="" eventAfterTrigger="fn_tmChange" eventBeforeTrigger=""/>
        <Static id="Static11" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 246 40 256 61"/>
        <Static id="Static12" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 450 40 460 61"/>
        <UpjangSearchComponent id="edt_upjang" titletext="업장 검색용 Component" taborder="11" text="UpjangSearchComponent00" position="absolute 460 40 653 61" bindDataset="ds_cond" bindUpjangCodeColumn="UPJANG" bindUpjangNameColumn="UPJANGNM" eventBeforeTrigger="" eventAfterTrigger="fn_upjangAfterEvent" roleSetId=""/>
        <Grid id="grd_list00" taborder="12" binddataset="ds_dailyList" autoenter="select" useinputpanel="false" cellsizingtype="col" autofittype="col" position="absolute 15 290 1252 710" anchor="all" class="grd_WF_LineNone">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="37"/>
                <Column size="90"/>
                <Column size="43"/>
                <Column size="75"/>
                <Column size="0"/>
                <Column size="75"/>
                <Column size="75"/>
                <Column size="75"/>
                <Column size="0"/>
                <Column size="75"/>
                <Column size="75"/>
                <Column size="75"/>
                <Column size="75"/>
                <Column size="75"/>
                <Column size="55"/>
                <Column size="0"/>
                <Column size="55"/>
                <Column size="55"/>
                <Column size="80"/>
                <Column size="0"/>
                <Column size="0"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24" band="head"/>
                <Row size="24"/>
                <Row size="24" band="summ"/>
              </Rows>
              <Band id="head">
                <Cell rowspan="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" class="head_Excel" taborder="undefined"/>
                <Cell col="1" rowspan="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="일자" taborder="undefined"/>
                <Cell col="2" rowspan="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="요일" taborder="undefined"/>
                <Cell col="3" colspan="4" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="매출액" taborder="undefined"/>
                <Cell col="7" colspan="7" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="재료비" taborder="undefined"/>
                <Cell col="14" colspan="4" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="식재료율(%)" taborder="undefined"/>
                <Cell col="18" rowspan="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="재고금액&#13;&#10;"/>
                <Cell col="19" rowspan="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff ;" text="재고금액&#13;&#10;(재고)" taborder="undefined"/>
                <Cell col="20" rowspan="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff ;" text="차이" taborder="undefined"/>
                <Cell row="1" col="3" text="계획" taborder="undefined"/>
                <Cell row="1" col="4" text="추정"/>
                <Cell row="1" col="5" text="예상"/>
                <Cell row="1" col="6" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="실적"/>
                <Cell row="1" col="7" text="계획"/>
                <Cell row="1" col="8" text="추정"/>
                <Cell row="1" col="9" text="예상"/>
                <Cell row="1" col="10" text="실적" taborder="undefined"/>
                <Cell row="1" col="11" text="전산구매"/>
                <Cell row="1" col="12" text="현지구매"/>
                <Cell row="1" col="13" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="복리후생비"/>
                <Cell row="1" col="14" text="계획"/>
                <Cell row="1" col="15" text="추정"/>
                <Cell row="1" col="16" text="예상"/>
                <Cell row="1" col="17" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;" text="실적"/>
              </Band>
              <Band id="body">
                <Cell style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:white;background2:white;" text="expr:currow + 1"/>
                <Cell col="1" displaytype="date" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:BASE_DD"/>
                <Cell col="2" style="line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:WEEK_NAME"/>
                <Cell col="3" displaytype="number" edittype="none" style="align:right;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:SP_AMT" mask="#,##0"/>
                <Cell col="4" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:SR_AMT" mask="#,##0"/>
                <Cell col="5" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:EXPECT_SALE" mask="#,##0"/>
                <Cell col="6" displaytype="number" edittype="none" style="align:right;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:whitesmoke;background2:whitesmoke;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:SS_AMT" mask="#,##0"/>
                <Cell col="7" displaytype="number" edittype="none" style="align:right;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:MP_AMT" mask="#,##0" calendardisplaynulltype="nulltext"/>
                <Cell col="8" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:MR_AMT" mask="#,##0"/>
                <Cell col="9" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:EXPECT_COST" mask="#,##0"/>
                <Cell col="10" displaytype="number" edittype="none" style="align:right;background:whitesmoke;background2:whitesmoke;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:MS_AMT" mask="#,##0"/>
                <Cell col="11" displaytype="number" edittype="none" style="align:right;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:MS_AMT1" mask="#,##0"/>
                <Cell col="12" displaytype="number" edittype="none" style="align:right;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:MS_AMT2" mask="#,##0"/>
                <Cell col="13" displaytype="number" edittype="none" style="align:right;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:MS_AMT3" mask="#,##0"/>
                <Cell col="14" displaytype="number" edittype="none" style="align:right;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:P_RATE" mask="#,##0.00"/>
                <Cell col="15" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:R_RATE" mask="#,##0.00"/>
                <Cell col="16" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:EXPECT_RATE" mask="#,##0.00"/>
                <Cell col="17" displaytype="number" edittype="none" style="align:right;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:EXPR((S_RATE &gt; P_RATE) ? 'pink' : 'whitesmoke');background2:EXPR((S_RATE &gt; P_RATE) ? 'pink' : 'whitesmoke');color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:S_RATE" mask="#,##0.00" expandsize="22"/>
                <Cell col="18" displaytype="number" edittype="none" style="align:right;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:IS_AMT" mask="#,##0" combodataset="ds_cboStatusCd" combocodecol="CODE" combodatacol="CODE_NAME"/>
                <Cell col="19" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="bind:IS_AMT1" mask="#,##0"/>
                <Cell col="20" displaytype="number" style="background:white;background2:white;color:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');color2:EXPR(WEEK_NAME=='토'?'blue':WEEK_NAME=='일'?'red':'default');" text="expr:IS_AMT - IS_AMT1" mask="#,##0"/>
              </Band>
              <Band id="summary">
                <Cell colspan="3" style="align:center;padding:0 2 0 0;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;font:normal,9,bold;" text="합계" taborder="undefined"/>
                <Cell col="3" displaytype="number" style="padding:0 2 0 0;font:normal,9,bold;" text="expr:getSum('SP_AMT')" mask="#,##0"/>
                <Cell col="4" displaytype="number" style="font:normal,9,bold;" text="expr:getSum('SR_AMT')" mask="#,##0"/>
                <Cell col="5" displaytype="number" style="font:normal,9,bold;" text="expr:getSum('EXPECT_SALE')" mask="#,##0"/>
                <Cell col="6" displaytype="number" style="padding:0 2 0 0;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;font:normal,9,bold;" text="expr:getSum('SS_AMT')" mask="#,##0"/>
                <Cell col="7" displaytype="number" style="padding:0 2 0 0;font:normal,9,bold;" text="expr:getSum('MP_AMT')" mask="#,##0"/>
                <Cell col="8" displaytype="number" style="font:normal,9,bold;" text="expr:getSum('MR_AMT')" mask="#,##0"/>
                <Cell col="9" displaytype="number" style="font:normal,9,bold;" text="expr:getSum('EXPECT_COST')" mask="#,##0"/>
                <Cell col="10" displaytype="number" style="padding:0 2 0 0;font:normal,9,bold;" text="expr:getSum('MS_AMT')" mask="#,##0"/>
                <Cell col="11" displaytype="number" style="padding:0 2 0 0;font:normal,9,bold;" text="expr:getSum('MS_AMT1')" mask="#,##0"/>
                <Cell col="12" displaytype="number" style="padding:0 2 0 0;font:normal,9,bold;" text="expr:getSum('MS_AMT2')" mask="#,##0"/>
                <Cell col="13" displaytype="number" style="padding:0 2 0 0;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;font:normal,9,bold;" text="expr:getSum('MS_AMT3')" mask="#,##0"/>
                <Cell col="14" displaytype="number" style="padding:0 2 0 0;font:normal,9,bold;" text="expr:fn_clearNaN(Math.round(getSum('MP_AMT')/getSum('SP_AMT')*100,2))" mask="#,##0.00"/>
                <Cell col="15" displaytype="number" style="font:normal,9,bold;" text="expr:fn_clearNaN(Math.round(getSum('MR_AMT')/getSum('SR_AMT')*100,2))" mask="#,##0.00"/>
                <Cell col="16" displaytype="number" style="font:normal,9,bold;" text="expr:fn_clearNaN(Math.round(getSum('EXPECT_COST')/getSum('EXPECT_SALE')*100,2))" mask="#,##0.00"/>
                <Cell col="17" displaytype="number" style="padding:0 2 0 0;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;font:normal,9,bold;" text="expr:fn_clearNaN(Math.round(getSum('MS_AMT')/getSum('SS_AMT')*100,2))" mask="#,##0.00"/>
                <Cell col="18" displaytype="number" style="padding:0 2 0 0;line:1 solid #d0d3dcff,2 solid #808080ff,1 solid #d0d3dcff,1 solid #d0d3dcff;font:normal,9,bold;" text="expr:ds_dailyList.getColumn(ds_dailyList.getRowCount()-1, 'IS_AMT')" mask="#,##0"/>
                <Cell col="19" displaytype="number" style="align:right;font:normal,9;" text="expr:ds_dailyList.getColumn(ds_dailyList.getRowCount()-1, 'IS_AMT1')" mask="#,##0"/>
                <Cell col="20"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static2" text="조회일" class="sta_WFSA_label" position="absolute 688 38 739 64"/>
        <Static id="Static03" text="글자간격기준 w10" onclick="Static28_onclick" class="Guide01_AreaRed" visible="false" position="absolute 733 40 743 61"/>
        <ObjCalendar id="cal_startDate" anchor="left top" titletext="캘린더" taborder="13" scrollbars="none" position="absolute 743 40 838 61" onkillfocus="cal_startDate_onkillfocus"/>
        <Static id="Static8" text="~" position="absolute 841 41 850 62"/>
        <ObjCalendar id="cal_endDate" anchor="left top" titletext="캘린더" taborder="14" scrollbars="none" position="absolute 853 40 948 61"/>
        <Static id="Static68" text="단위 : 원 (VAT 별도)" class="sta_WF_DiscInfo" position="absolute 1102 83 1252 98" anchor="default"/>
        <Static id="Static14" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 15 259 258 272" anchor="left top"/>
        <Static id="Static17" class="sta_WFDA_Label03" position="absolute 15 102 167 155" anchor="left top"/>
        <Static id="Static19" text="매출액" class="sta_WFDA_Label03" position="absolute 15 154 167 181" anchor="left top"/>
        <Static id="Static18" text="식재료비" class="sta_WFDA_Label03" position="absolute 15 180 167 207" anchor="left top"/>
        <Static id="Static20" text="식재료비율(%)" class="sta_WFDA_Label03" position="absolute 15 206 167 233" anchor="left top"/>
        <Static id="Static21" text="재고비율(%)" class="sta_WFDA_Label03" position="absolute 15 232 167 259" anchor="left top"/>
        <Static id="Static23" class="sta_WFDA_Label03" position="absolute 166 102 322 155" anchor="left top" text="계획" style="align:center middle;"/>
        <Static id="Static24" text="예상" class="sta_WFDA_Label03" position="absolute 321 102 477 155" anchor="left top" style="align:center middle;"/>
        <Static id="Static25" text="실적누계" class="sta_WFDA_Label03" position="absolute 476 102 632 155" anchor="left top" style="align:center middle;"/>
        <Static id="Static26" text="계획대비" class="sta_WFDA_Label03" position="absolute 631 102 942 129" anchor="left top" style="align:center middle;"/>
        <Static id="Static27" text="예상대비" class="sta_WFDA_Label03" position="absolute 941 102 1252 129" anchor="left top" style="align:center middle;"/>
        <Static id="Static28" text="차이" class="sta_WFDA_Label03" position="absolute 631 128 787 155" anchor="left top" style="background:whitesmoke;align:center middle;"/>
        <Static id="Static29" text="비율(%)" class="sta_WFDA_Label03" position="absolute 786 128 942 155" anchor="left top" style="background:whitesmoke;align:center middle;"/>
        <Static id="Static30" text="차이" class="sta_WFDA_Label03" position="absolute 941 128 1097 155" anchor="left top" style="background:whitesmoke;align:center middle;"/>
        <Static id="Static31" text="비율(%)" class="sta_WFDA_Label03" position="absolute 1096 128 1252 155" anchor="left top" style="background:whitesmoke;align:center middle;"/>
        <Static id="Static32" text="식재료율 실적" class="sta_WF_Title01" position="absolute 15 84 199 102" anchor="left top"/>
        <Static id="Static33" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 15 97 257 102" anchor="left top"/>
        <Static id="Static34" text="h05" class="Guide01_AreaRed" visible="false" position="absolute 1041 97 1252 102" anchor="top right"/>
        <Button id="btn_Graph" taborder="43" class="btn_WF_chart" position="absolute 1231 264 1252 285" anchor="top right" onclick="btn_Graph_onclick"/>
        <Radio id="rdo_PRICE_TYPE" taborder="93" tabstop="false" columncount="2" rowcount="0" codecolumn="codecolumn" datacolumn="datacolumn" value="0" position="absolute 1150 41 1255 62">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">관리</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">재무</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <MaskEdit id="MaskEdit28" taborder="94" position="absolute 166 154 322 181" readonly="true" style="background:white;font:Gulim,9,bold;" mask="#,##0" tabstop="false"/>
        <MaskEdit id="MaskEdit00" taborder="95" tabstop="false" readonly="true" mask="#,##0" position="absolute 321 154 477 181" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit01" taborder="96" tabstop="false" readonly="true" mask="#,##0" position="absolute 476 154 632 181" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit02" taborder="97" tabstop="false" readonly="true" mask="#,##0" position="absolute 631 154 787 181" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit03" taborder="98" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 786 154 942 181" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit04" taborder="99" tabstop="false" readonly="true" mask="#,##0" position="absolute 941 154 1097 181" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit05" taborder="100" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 1096 154 1252 181" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit06" taborder="101" tabstop="false" readonly="true" mask="#,##0" position="absolute 166 180 322 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit07" taborder="102" tabstop="false" readonly="true" mask="#,##0" position="absolute 321 180 477 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit08" taborder="103" tabstop="false" readonly="true" mask="#,##0" position="absolute 476 180 632 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit09" taborder="104" tabstop="false" readonly="true" mask="#,##0" position="absolute 631 180 787 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit10" taborder="105" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 786 180 942 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit11" taborder="106" tabstop="false" readonly="true" mask="#,##0" position="absolute 941 180 1097 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit12" taborder="107" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 1096 180 1252 207" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit13" taborder="108" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 166 206 322 233" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit17" taborder="109" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 321 206 477 233" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit18" taborder="110" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 476 206 632 233" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="edt_RDP_RATE" taborder="111" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 631 206 787 233" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="edt_RDR_RATE" taborder="112" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 941 206 1097 233" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit15" taborder="113" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 166 232 322 259" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit16" taborder="114" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 476 232 632 259" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="edt_IDP_RATE" taborder="115" tabstop="false" readonly="true" mask="#,##0.00" position="absolute 631 232 787 259" style="background:white;font:Gulim,9,bold;"/>
        <MaskEdit id="MaskEdit21" taborder="116" position="absolute 321 232 477 259" enable="false"/>
        <MaskEdit id="MaskEdit22" taborder="117" enable="false" position="absolute 786 206 942 233"/>
        <MaskEdit id="MaskEdit23" taborder="118" enable="false" position="absolute 786 232 942 259"/>
        <MaskEdit id="MaskEdit24" taborder="119" enable="false" position="absolute 941 232 1097 259"/>
        <MaskEdit id="MaskEdit25" taborder="120" enable="false" position="absolute 1096 232 1252 259"/>
        <MaskEdit id="MaskEdit26" taborder="121" enable="false" position="absolute 1096 206 1252 233"/>
        <Static id="Static37" text="(%P)" position="absolute 947 207 983 232" style="font:Gulim,9,bold;"/>
        <Static id="Static36" text="(%P)" position="absolute 638 233 674 258" style="font:Gulim,9,bold;"/>
        <Static id="Static35" text="(%P)" position="absolute 638 207 674 232" style="font:Gulim,9,bold;"/>
        <Combo id="cbo_gbn" taborder="122" position="absolute 1027 40 1126 61" index="0" innerdataset="@ds_gbn" codecolumn="CODE" datacolumn="VALUE" value="1" text="식료"/>
        <Static id="Static38" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 948 40 983 61" anchor="left top"/>
        <Static id="Static39" text="구분" class="sta_WFSA_label" position="absolute 983 38 1034 64"/>
        <Static id="Static40" text="글자간격기준 w10" onclick="Static28_onclick" class="Guide01_AreaRed" visible="false" position="absolute 1017 40 1027 61"/>
        <Button id="btn_search" taborder="123" text="조회" onclick="fn_search" class="btn_WF_searchCm" position2="absolute r:62 w:59 t:2 h:25" positiontype="position2"/>
        <Button id="btn_close" taborder="124" text="닫기" onclick="fn_close" class="btn_WF_CRUD" position="absolute 1207 2 1252 27" anchor="top right"/>
        <Static id="Static41" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 0 15 710" anchor="top right"/>
        <Static id="Static100" class="sta_WF_DiscInfo" position="absolute 220 272 815 287" anchor="left top"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="MU_CD" type="STRING" size="256"/>
          <Column id="TM_CD" type="STRING" size="256"/>
          <Column id="TM_NM" type="STRING" size="256"/>
          <Column id="UPJANG" type="STRING" size="256"/>
          <Column id="UPJANGNM" type="STRING" size="256"/>
          <Column id="START_DATE" type="STRING" size="256"/>
          <Column id="END_DATE" type="STRING" size="256"/>
          <Column id="PRICE_TYPE" type="STRING" size="256"/>
          <Column id="GBN" type="STRING" size="256"/>
          <Column id="MGMM" type="STRING" size="256"/>
          <Column id="SELECT_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_dailyList" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BASE_DD" type="STRING" size="256"/>
          <Column id="WEEK_NAME" type="STRING" size="256"/>
          <Column id="SP_AMT" type="STRING" size="256"/>
          <Column id="SR_AMT" type="STRING" size="256"/>
          <Column id="SS_AMT" type="STRING" size="256"/>
          <Column id="MP_AMT" type="STRING" size="256"/>
          <Column id="MR_AMT" type="STRING" size="256"/>
          <Column id="MS_AMT" type="STRING" size="256"/>
          <Column id="MS_AMT1" type="STRING" size="256"/>
          <Column id="MS_AMT2" type="STRING" size="256"/>
          <Column id="MS_AMT3" type="STRING" size="256"/>
          <Column id="P_RATE" type="STRING" size="256"/>
          <Column id="R_RATE" type="STRING" size="256"/>
          <Column id="S_RATE" type="STRING" size="256"/>
          <Column id="IS_AMT" type="STRING" size="256"/>
          <Column id="EXPECT_SALE" type="STRING" size="256"/>
          <Column id="EXPECT_COST" type="STRING" size="256"/>
          <Column id="EXPECT_RATE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_mst" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="SP_AMT" type="STRING" size="256"/>
          <Column id="SR_AMT" type="STRING" size="256"/>
          <Column id="SS_AMT" type="STRING" size="256"/>
          <Column id="MP_AMT" type="STRING" size="256"/>
          <Column id="MR_AMT" type="STRING" size="256"/>
          <Column id="MS_AMT" type="STRING" size="256"/>
          <Column id="IP_RATE" type="STRING" size="256"/>
          <Column id="IS_RATE" type="STRING" size="256"/>
          <Column id="P_RATE" type="STRING" size="256"/>
          <Column id="R_RATE" type="STRING" size="256"/>
          <Column id="S_RATE" type="STRING" size="256"/>
          <Column id="SDP_VAL" type="STRING" size="256"/>
          <Column id="MDP_VAL" type="STRING" size="256"/>
          <Column id="RDP_RATE" type="STRING" size="256"/>
          <Column id="IDP_RATE" type="STRING" size="256"/>
          <Column id="SDP_RATE" type="STRING" size="256"/>
          <Column id="MDP_RATE" type="STRING" size="256"/>
          <Column id="SDR_VAL" type="STRING" size="256"/>
          <Column id="MDR_VAL" type="STRING" size="256"/>
          <Column id="RDR_RATE" type="STRING" size="256"/>
          <Column id="SDR_RATE" type="STRING" size="256"/>
          <Column id="MDR_RATE" type="STRING" size="256"/>
          <Column id="EXPECT_SALE" type="STRING" size="256"/>
          <Column id="EXPECT_COST" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gbn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="VALUE">식료</Col>
          </Row>
          <Row>
            <Col id="CODE">2</Col>
            <Col id="VALUE">상품</Col>
          </Row>
          <Row>
            <Col id="CODE">3</Col>
            <Col id="VALUE">전체</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_mgMm" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="MGMM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="rdo_PRICE_TYPE_value" compid="rdo_PRICE_TYPE" propid="value" datasetid="ds_cond" columnid="PRICE_TYPE"/>
      <BindItem id="item0" compid="MaskEdit28" propid="value" datasetid="ds_mst" columnid="SP_AMT"/>
      <BindItem id="item1" compid="MaskEdit00" propid="value" datasetid="ds_mst" columnid="EXPECT_SALE"/>
      <BindItem id="item2" compid="MaskEdit01" propid="value" datasetid="ds_mst" columnid="SS_AMT"/>
      <BindItem id="item10" compid="MaskEdit03" propid="value" datasetid="ds_mst" columnid="SDP_RATE"/>
      <BindItem id="item11" compid="MaskEdit04" propid="value" datasetid="ds_mst" columnid="SDR_VAL"/>
      <BindItem id="item12" compid="MaskEdit05" propid="value" datasetid="ds_mst" columnid="SDR_RATE"/>
      <BindItem id="item3" compid="MaskEdit06" propid="value" datasetid="ds_mst" columnid="MP_AMT"/>
      <BindItem id="item4" compid="MaskEdit07" propid="value" datasetid="ds_mst" columnid="EXPECT_COST"/>
      <BindItem id="item5" compid="MaskEdit08" propid="value" datasetid="ds_mst" columnid="MS_AMT"/>
      <BindItem id="item13" compid="MaskEdit09" propid="value" datasetid="ds_mst" columnid="MDP_VAL"/>
      <BindItem id="item14" compid="MaskEdit10" propid="value" datasetid="ds_mst" columnid="MDP_RATE"/>
      <BindItem id="item15" compid="MaskEdit11" propid="value" datasetid="ds_mst" columnid="MDR_VAL"/>
      <BindItem id="item16" compid="MaskEdit12" propid="value" datasetid="ds_mst" columnid="MDR_RATE"/>
      <BindItem id="item6" compid="MaskEdit13" propid="value" datasetid="ds_mst" columnid="P_RATE"/>
      <BindItem id="item7" compid="MaskEdit17" propid="value" datasetid="ds_mst" columnid="R_RATE"/>
      <BindItem id="item8" compid="MaskEdit18" propid="value" datasetid="ds_mst" columnid="S_RATE"/>
      <BindItem id="item17" compid="edt_RDP_RATE" propid="value" datasetid="ds_mst" columnid="RDP_RATE"/>
      <BindItem id="item18" compid="edt_RDR_RATE" propid="value" datasetid="ds_mst" columnid="RDR_RATE"/>
      <BindItem id="item19" compid="MaskEdit15" propid="value" datasetid="ds_mst" columnid="IP_RATE"/>
      <BindItem id="item20" compid="MaskEdit16" propid="value" datasetid="ds_mst" columnid="IS_RATE"/>
      <BindItem id="item21" compid="edt_IDP_RATE" propid="value" datasetid="ds_mst" columnid="IDP_RATE"/>
      <BindItem id="item9" compid="MaskEdit02" propid="value" datasetid="ds_mst" columnid="SDP_VAL"/>
      <BindItem id="item22" compid="cbo_gbn" propid="value" datasetid="ds_cond" columnid="GBN"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[include "U_lib::lib_conversionCom.xjs";

/******************************************************************************************
 * 시스템구분 : 운영관리/식재료비관리
 * 프로그램명 : FSM90382P.XML
 * 기ㅡㅡㅡ능 : 식재료율실적예상-자재수불집계적용
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-02
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************/

//=========================================================================================
// [ PART 1 ]
// Form에서 Include 할 내용을 정의
//
//=========================================================================================

//=========================================================================================
// [ PART 2 ]
// Form에서 사용될 전역변수를 선언
//
//=========================================================================================

//=========================================================================================
// [ PART 3 ]
// Form Loading 시 작업 정의
//
//=========================================================================================
function form_onload(obj:Form, e:LoadEventInfo)
{
	gfn_formOnLoad(this);

	// X-Framework : Action 정보 생성
	fsp_init(this);

	// 조회조건 DataSet 초기화
	ds_cond.clearData();
	ds_cond.addRow();
	
	// 조회기간 초기화
	cal_startDate.fn_initMonthCal(this, gfn_left(gfn_today(), 6) + '01', '', ds_cond, 'START_DATE');
	cal_endDate.fn_initMonthCal(this, gfn_today(), '', ds_cond, 'END_DATE');
	
	// 권한처리
	edt_tm.applyAuthLevel(cbo_mu);
	edt_upjang.applyAuthLevel(edt_tm);
	
	// 팀장권한이 있거나 권한레벨이 리더 이상일 경우 단가구분 조회조건 활성화
	if(SCAuth.isAuthLevel(16) || (g_AuthLevel > g_Leader_AuthLevel))
	{
		rdo_PRICE_TYPE.visible = true;
	}
	else
	{
		rdo_PRICE_TYPE.visible = false;
	}

	cbo_mu.setMuCode(fa_MU_CD);
	edt_tm.setTmCode(fa_TM_CD);
	edt_upjang.setUpjangCode(fa_UPJANG);

	ds_cond.setColumn(0, "UPJANG"    , fa_UPJANG);
	ds_cond.setColumn(0, "UPJANGNM"  , fa_UPJANGNM);
	ds_cond.setColumn(0, "TM_CD"     , fa_TM_CD);
	ds_cond.setColumn(0, "TM_NM"     , fa_TM_NM);
	ds_cond.setColumn(0, "MU_CD"     , fa_MU_CD);
	ds_cond.setColumn(0, "START_DATE", fa_START_DATE);
	ds_cond.setColumn(0, "END_DATE"  , fa_END_DATE);
	ds_cond.setColumn(0, "PRICE_TYPE", fa_PRICE_TYPE);
	ds_cond.setColumn(0, "GBN"       , fa_GBN);
	ds_cond.setColumn(0, "MGMM"       , fa_MGMM);
	//실적, 추정 조건추가 20160520
	ds_cond.setColumn(0, "SELECT_TYPE"       , fa_SELECT_TYPE);
	
	ds_mgMm.setColumn(0, "MGMM"       , fa_MGMM);
	
	Static100.text = fa_DESC;
	
	fn_init();
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_init()
 * 기ㅡㅡㅡ능 : 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-09-14
 ******************************************************************************************/
function fn_init()
{
    //재고금액 변경으로 마감월 체크 20151229 맹수영
	fn_mgMm_Search();
	
}
//=

//=========================================================================================
// [ PART 4 ]
// Main Process Event 정의(조회,입력,삭제,저장,출력)
//
//=========================================================================================
/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_search()
 * 기ㅡㅡㅡ능 : 조회
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-02
 ******************************************************************************************/
function fn_search() 
{ 
	
	if(gfn_isNull(ds_cond.getColumn(0, "UPJANG")))
	{
		g_Message("EE", "업장을 선택해주세요.");
		return false;
	}
	
	if(gfn_left(ds_cond.getColumn(0, "START_DATE"), 6) <> gfn_left(ds_cond.getColumn(0, "END_DATE"), 6))
	{
		g_Message("EE", "시작일과 종료일은 같은 달이어야 합니다.");
		return false;
	}	

	// 데이터 초기화
	ds_mst.clearData();
	ds_dailyList.clearData();

	fsp_clear(this);
	//fsp_addSearch(this,"fs/fsm:FSM90371V_S001");
	fsp_addSearch(this,"fs/fsm:FSM90381V_S002");
	fsp_callService(this,"","","ds_cond=ds_cond","ds_mst=ds_mst ds_dailyList=ds_dailyList","","fn_callBackSearch");
	//jsp_transaction(this, "FSM00371V_S001", "U_svc::fs/fsm/FSM00371V_S001.jsp", "ds_cond=ds_cond", "ds_dailyList=ds_dailyList", "", "", true, false, false);	
}

function fn_callBackSearch(errCode, errMsg) 
{
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오!");
		return;
	}

	/*
	for(var i=0; i < ds_dailyList.getRowCount(); i++)
	{
		if(i > 0 && Number(ds_dailyList.getColumn(i, 'IS_AMT')) == 0)
		{
			ds_dailyList.setColumn(i, 'IS_AMT', ds_dailyList.getColumn(i-1, 'IS_AMT'));
		}
	}
	*/
	ds_mst.addRow();
	ds_mst.setColumn(0, "SP_AMT", ds_dailyList.getSum("SP_AMT"));	        // 매출액-계획
	ds_mst.setColumn(0, "EXPECT_SALE", ds_dailyList.getSum("EXPECT_SALE"));	// 매출액-예상
	ds_mst.setColumn(0, "SS_AMT", ds_dailyList.getSum("SS_AMT"));	        // 매출액-실적
	ds_mst.setColumn(0, "MP_AMT", ds_dailyList.getSum("MP_AMT"));	        // 재료비-계획
	ds_mst.setColumn(0, "EXPECT_COST", ds_dailyList.getSum("EXPECT_COST"));	// 재료비-예상
	ds_mst.setColumn(0, "MS_AMT", ds_dailyList.getSum("MS_AMT"));	        // 재료비-실적
	
	ds_mst.setColumn(0, "P_RATE", ds_dailyList.getSum("MP_AMT") / ds_dailyList.getSum("SP_AMT") * 100);	          // 식재료비율(%)-계획
	ds_mst.setColumn(0, "R_RATE", ds_dailyList.getSum("EXPECT_COST") / ds_dailyList.getSum("EXPECT_SALE") * 100); // 식재료비율(%)-예상
	ds_mst.setColumn(0, "S_RATE", ds_dailyList.getSum("MS_AMT") / ds_dailyList.getSum("SS_AMT") * 100);	          // 식재료비율(%)-실적
	
	ds_mst.setColumn(0, "IP_RATE", ds_dailyList.getMax("IP_RATE"));	                                              // 재고비율(*)-계획
	ds_mst.setColumn(0, "IS_RATE", ds_dailyList.getColumn(ds_dailyList.getRowCount() - 1, "IS_AMT") / ds_dailyList.getSum("MS_AMT") * 100);	      // 재고비율(*)-실적
	
	ds_mst.setColumn(0, "SDP_VAL", ds_dailyList.getSum("SP_AMT") - ds_dailyList.getSum("SS_AMT"));             // 매출액-계획대비차이
	ds_mst.setColumn(0, "SDR_VAL", ds_dailyList.getSum("EXPECT_SALE") - ds_dailyList.getSum("SS_AMT"));        // 매출액-예상대비차이
	ds_mst.setColumn(0, "MDP_VAL", ds_dailyList.getSum("MP_AMT") - ds_dailyList.getSum("SS_AMT"));             // 재료비-계획대비차이
	ds_mst.setColumn(0, "MDR_VAL", ds_dailyList.getSum("EXPECT_COST") - ds_dailyList.getSum("SS_AMT"));        // 재료비-예상대비차이
	ds_mst.setColumn(0, "SDP_RATE", ds_dailyList.getSum("SS_AMT") / ds_dailyList.getSum("SP_AMT") * 100);      // 매출액-계획대비비율(%)
	ds_mst.setColumn(0, "SDR_RATE", ds_dailyList.getSum("SS_AMT") / ds_dailyList.getSum("EXPECT_SALE") * 100); // 매출액-예상대비비율(%)
	ds_mst.setColumn(0, "MDP_RATE", ds_dailyList.getSum("MS_AMT") / ds_dailyList.getSum("MP_AMT") * 100);      // 재료비-계획대비비율(%)
	ds_mst.setColumn(0, "MDR_RATE", ds_dailyList.getSum("MS_AMT") / ds_dailyList.getSum("EXPECT_COST") * 100); // 재료비-예상대비비율(%)
	
	ds_mst.setColumn(0, "RDP_RATE", Math.abs(ds_mst.getColumn(0, "P_RATE") - ds_mst.getColumn(0, "S_RATE"))); // 식재료비율(%)-계획대비
	ds_mst.setColumn(0, "RDR_RATE", Math.abs(ds_mst.getColumn(0, "R_RATE") - ds_mst.getColumn(0, "S_RATE"))); // 식재료비율(%)-예상대비
	ds_mst.setColumn(0, "IDP_RATE", Math.abs(ds_mst.getColumn(0, "IP_RATE") - ds_mst.getColumn(0, "IS_RATE"))); // 재료비-예상대비비율(%)
	
	/*
	// 식재료비율 계획대비 차이
	if(Number(ds_mst.getColumn(0, "RDP_RATE")) < 0)
	{
		edt_RDP_RATE.style.color = "#ff0000";
	} 
	else if(Number(ds_mst.getColumn(0, "RDP_RATE")) > 0)
	{
		edt_RDP_RATE.style.color = "#0000ff";
	}

	// 식재료비율 추정대비 차이
	if(Number(ds_mst.getColumn(0, "RDR_RATE")) < 0)
	{
		edt_RDR_RATE.style.color = "#ff0000";
	} 
	else if(Number(ds_mst.getColumn(0, "RDR_RATE")) > 0)
	{
		edt_RDR_RATE.style.color = "#0000ff";
	}
	
	// 재고비율 계획대비 차이
	if(Number(ds_mst.getColumn(0, "IDP_RATE")) < 0)
	{
		edt_IDP_RATE.style.color = "#ff0000";
	} 
	else if(Number(ds_mst.getColumn(0, "IDP_RATE")) > 0)
	{
		edt_IDP_RATE.style.color = "#0000ff";
	}
	*/
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_muChange(obj, event)
 * 기ㅡㅡㅡ능 : 사업부 변경시 운영부서, 사업장 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-02
 ******************************************************************************************/
function fn_muChange(obj, event)
{
	edt_tm.setTmCode("");
	edt_upjang.setUpjangCode("");
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : fn_tmChange(obj, data)
 * 기ㅡㅡㅡ능 : 운영부서 변경시 사업장 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-02
 ******************************************************************************************/
function fn_tmChange(obj, data)
{
	edt_upjang.setUpjangCode("");
}

/******************************************************************************************
 * 함ㅡ수ㅡ명 : btn_Graph_onclick(obj:Button,  e:ClickEventInfo)
 * 기ㅡㅡㅡ능 : 운영부서 변경시 사업장 초기화
 * 작ㅡ성ㅡ자 : 김민수
 * 작성ㅡ일자 : 2015-07-02
 ******************************************************************************************/
function btn_Graph_onclick(obj:Button,  e:ClickEventInfo)
{
	var strURL="U_FSM::FSM00372P.xfdl";
	var strInArgument;
		
	gfn_dialog("", strURL, strInArgument, "", "", "", "", "", "", "", "", false);
}

/******************************************************************************************
 * 함  수  명   : function fn_close(obj:Button,  e:ClickEventInfo)
 * 기      능   : 닫기
 * 작  성  자   : 김민수
 * 작성  일자   : 2015-02-20
 ******************************************************************************************/
function fn_close(obj:Button,  e:ClickEventInfo)
{
	this.close();
}


function fn_mgMm_Search()
{
	//마감월 가져오기
	ds_mgMm.clearData();

	fsp_clear(this);
	//fsp_addSearch(this,"fs/fsm:FSM90371V_S001");
	fsp_addSearch(this,"fs/fsm:FSM90371V_S003");
	fsp_callService(this,"","","ds_cond=ds_cond","ds_mgMm=ds_mgMm","","fn_callBackSearch2");
 
}

function fn_callBackSearch2(errCode, errMsg) 
{
	if(errCode!=0)
	{
		g_Message("EE", "서비스 오류:시스템 관리자에게 문의하십시오!");
		return;
	}

	//마감월 가져오기
    ds_cond.setColumn(0,"MGMM",ds_mgMm.getColumn(0,"MGMM"));

	// 메인화면에서 사업장 전체 조회 후 팝업 오픈시 사업장 마감월 정보가 없어서 재고금액이 달라지는 현상이 발생함.
	// 팝업에서 마감월 조회 후 콜백에서 리스트 조회로 변경함.
	fn_search();
}


function cal_startDate_onkillfocus(obj:ObjCalendar, e:KillFocusEventInfo)
{
	//재고금액 변경으로 마감월 체크 20151229 맹수영
    fn_mgMm_Search();
}

// 업장변경시 CC_CD를 다시 받아온다.
function fn_upjangAfterEvent()
{
	//재고금액 변경으로 마감월 체크 20151229 맹수영
    fn_mgMm_Search();
}
]]></Script>
  </Form>
</FDL>
