<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.4">
  <TypeDefinition url="..\..\..\default_typedef.xml"/>
  <Form id="OrderRequestConfirm" classname="COMP_GUIDE_13" inheritanceid="" position="absolute 0 0 1252 725" titletext="주문확정" scrollbars="autoboth" onload="form_onload">
    <Layouts>
      <Layout>
        <Static id="Static06" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 1237 0 1252 710" anchor="top right"/>
        <Div id="div_cmnBtn" anchor="left top right" taborder="9" url="cmn::CmnBtn.xfdl" text="Div00" scrollbars="none" position="absolute 0 0 1237 30" tabstop="false"/>
        <Static id="Static08" class="sta_WFSA_Labelbg" position="absolute 0 30 1237 71" anchor="left top right"/>
        <Static id="Static04" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 30 93 40" anchor="left top"/>
        <Static id="Static07" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 40 15 61" anchor="left top"/>
        <Static id="Static11" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 152 40 162 61" anchor="left top"/>
        <Static id="Static00" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 632 40 662 61" anchor="left top"/>
        <Static id="Static05" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 61 93 71" anchor="left top"/>
        <Static id="Static03" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 470 30 563 40" anchor="left top"/>
        <Static id="Static09" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 598 30 691 40" anchor="left top"/>
        <ObjCalendar id="cal_fromDate" titletext="캘린더" taborder="1" text="20150101" scrollbars="none" position="absolute 162 40 255 61"/>
        <Static id="Static26" text="~" position="absolute 256 43 272 62" style="align:center middle;"/>
        <ObjCalendar id="cal_toDate" titletext="캘린더" taborder="2" text="20150101" scrollbars="none" position="absolute 270 40 370 61"/>
        <Combo id="cbo_status" taborder="20" innerdataset="@ds_status" codecolumn="code" datacolumn="codeName" position="absolute 1386 43 1505 64" anchor="left top" index="-1" visible="false"/>
        <Static id="Static25" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 1288 42 1318 63" anchor="left top"/>
        <Static id="Static27" text="주문상태" class="sta_WFSA_label" position="absolute 1308 43 1370 64" anchor="left top" visible="false"/>
        <Static id="Static28" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 1376 42 1386 63" anchor="left top"/>
        <Static id="Static29" text="센터" class="sta_WFSA_label" position="absolute 392 40 427 62" anchor="left top"/>
        <Static id="Static30" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 426 40 436 62" anchor="left top"/>
        <Combo id="cbo_centerCode" taborder="21" innerdataset="ds_center" codecolumn="centerCode" datacolumn="centerName" class="cmb_WF_Essential" position="absolute 1100 40 1220 61" anchor="left top" visible="false"/>
        <Static id="Static31" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 370 40 400 62" anchor="left top"/>
        <Radio id="rdo_gubun" taborder="0" columncount="2" rowcount="0" index="0" codecolumn="codecolumn" datacolumn="datacolumn" value="1" position="absolute 15 38 153 66">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">결의일자</Col>
              </Row>
              <Row>
                <Col id="codecolumn">2</Col>
                <Col id="datacolumn">입고일자</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="Static01" text="사업장" class="sta_WFSA_label" position="absolute 653 41 715 62" anchor="left top"/>
        <Static id="Static02" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 703 41 713 62" anchor="left top"/>
        <UpjangSearchComponent id="comp_upjang" titletext="업장 검색용 Component" taborder="5" text="UpjangSearchComponent00" position="absolute 713 41 862 62" bindDataset="ds_search" bindUpjangCodeColumn="schUpjang" bindUpjangNameColumn="schUpjangNm" eventBeforeTrigger="" eventAfterTrigger="" roleSetId="FmsUpjang"/>
        <Static id="Static15" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 862 41 892 62" anchor="left top"/>
        <Static id="Static35" text="업체" class="sta_WFSA_label" position="absolute 884 40 921 61" anchor="left top"/>
        <Static id="Static36" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 918 40 928 61" anchor="left top"/>
        <Edit id="edt_cust" taborder="6" readonly="true" onkeydown="edt_cust_onkeydown" position="absolute 928 40 1065 62" style=":disabled {cursor:arrowwait;}" userdata=""/>
        <Button id="btn_cust" taborder="7" tabstop="false" onclick="btn_cust_onclick" class="btn_WF_popSearch" position="absolute 1064 40 1085 62"/>
        <Static id="Static19" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 71 450 84"/>
        <Tab id="tab" taborder="8" tabindex="0" scrollbars="autoboth" position="absolute 0 84 1235 710" anchor="all" canchange="tab_canchange">
          <Tabpages>
            <Tabpage id="tabp0" text="업체별/조회" dragscrolltype="none" scrollbars="none">
              <Layouts>
                <Layout>
                  <Grid id="grd_list" taborder="6" binddataset="ds_list" autoenter="select" useinputpanel="false" cellsizingtype="col" autofittype="col" oncelldblclick="grd_list_oncelldblclick" position="absolute -1 0 1234 171" anchor="left top right">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="40"/>
                          <Column size="75"/>
                          <Column size="151"/>
                          <Column size="100"/>
                          <Column size="138"/>
                          <Column size="389"/>
                          <Column size="110"/>
                          <Column size="108"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" text="센터"/>
                          <Cell col="2" text="업체"/>
                          <Cell col="3" text="결의일"/>
                          <Cell col="4" text="결의자"/>
                          <Cell col="5" text="결의내용"/>
                          <Cell col="6" text="결의금액"/>
                          <Cell col="7" text="진행상황"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                          <Cell col="1" displaytype="text" text="bind:centerName"/>
                          <Cell col="2" displaytype="normal" style="align:left middle;" text="bind:custNm"/>
                          <Cell col="3" displaytype="date" style="align:center middle;" text="bind:poDate"/>
                          <Cell col="4" displaytype="text" style="align:center middle;" text="bind:poSabunNm"/>
                          <Cell col="5" style="align:left middle;" text="bind:itemName"/>
                          <Cell col="6" displaytype="number" style="align:right middle;" text="bind:poAmt" mask="#,##0.#0"/>
                          <Cell col="7" style="align:center middle;" text="bind:soStatusNm"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static60" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 171 450 186" anchor="left top"/>
                  <Static id="Static38" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 227 450 240" anchor="left top"/>
                  <Static id="Static37" text="결의내역" class="sta_WF_Title01" position="absolute 0 241 450 259" anchor="left top"/>
                  <Static id="Static39" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 254 450 259" anchor="left top"/>
                  <Grid id="grd_sub" taborder="11" binddataset="ds_sub" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute -1 259 1234 599" anchor="all">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="69"/>
                          <Column size="122"/>
                          <Column size="154"/>
                          <Column size="154"/>
                          <Column size="93"/>
                          <Column size="167"/>
                          <Column size="152"/>
                          <Column size="67"/>
                          <Column size="101"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="189"/>
                          <Column size="86"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell class="head_Excel"/>
                          <Cell col="1" text="결의번호"/>
                          <Cell col="2" text="업장명"/>
                          <Cell col="3" text="창고명"/>
                          <Cell col="4" text="자재코드"/>
                          <Cell col="5" text="자재명"/>
                          <Cell col="6" text="규격"/>
                          <Cell col="7" text="단위"/>
                          <Cell col="8" text="과/면"/>
                          <Cell col="9" text="입고일자"/>
                          <Cell col="10" text="신청량"/>
                          <Cell col="11" text="결의량"/>
                          <Cell col="12" text="판매단가"/>
                          <Cell col="13" text="결의금액"/>
                          <Cell col="14" text="비고"/>
                          <Cell col="15" text="진행상황"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" style="align:center middle;" expr="expr:currow+1"/>
                          <Cell col="1" displaytype="text" style="align:center middle;" text="bind:poNum"/>
                          <Cell col="2" style="align:left middle;" text="bind:upjangnmDisp" subsumtext="UPJANGNM_DISP"/>
                          <Cell col="3" style="align:left middle;" text="bind:subinvName"/>
                          <Cell col="4" style="align:center middle;background:EXPR(poStatus!='HK'?'darkgray':fmpStatus=='Y'?'olive':poNoStatus=='Y'?'gold':'');background2:EXPR(poStatus!='HK'?'darkgray':fmpStatus=='Y'?'olive':poNoStatus=='Y'?'gold':'');" text="bind:itemCode"/>
                          <Cell col="5" style="align:left middle;" text="bind:itemName"/>
                          <Cell col="6" displaytype="text" style="align:left middle;" text="bind:itemSize"/>
                          <Cell col="7" style="align:center middle;" text="bind:itemUnit"/>
                          <Cell col="8" style="align:center middle;" text="expr:iif(taxCode == '100','면세','과세')"/>
                          <Cell col="9" displaytype="date" style="align:center middle;" text="bind:needDate"/>
                          <Cell col="10" displaytype="number" style="align:right middle;" text="bind:prQty" mask="#,##0.#0"/>
                          <Cell col="11" displaytype="number" style="align:right middle;" text="bind:poQty" mask="#,##0.#0"/>
                          <Cell col="12" displaytype="number" style="align:right middle;" text="bind:salePrice"/>
                          <Cell col="13" displaytype="number" style="align:right middle;" text="bind:poAmt" mask="#,##0.#0"/>
                          <Cell col="14" displaytype="text" edittype="none" style="align:left middle;" text="bind:prRemark"/>
                          <Cell col="15" displaytype="number" edittype="none" style="align:center middle;" text="bind:lineStatusNm"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Div id="div_center" anchor="left top right" taborder="16" style="background:transparent;color:aliceblue;" text="Div00" scrollbars="none" position="absolute 0 186 1238 236">
                    <Layouts>
                      <Layout>
                        <Static id="Static41" class="sta_WFSA_Labelbg01" position="absolute -1 4 1234 45" anchor="left top right"/>
                        <Static id="Static42" text="업체명" class="sta_WFSA_label01" position="absolute 280 14 342 35" anchor="left top"/>
                        <Static id="Static43" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 4 93 14" anchor="left top"/>
                        <Static id="Static44" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 35 93 45" anchor="left top"/>
                        <Static id="Static45" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 14 15 35" anchor="left top"/>
                        <Static id="Static46" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 340 14 350 35" anchor="left top"/>
                        <Static id="Static47" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 512 14 542 35" anchor="left top"/>
                        <Static id="Static12" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 599 13 609 34" anchor="left top"/>
                        <Static id="Static13" text="결의내용" class="sta_WFSA_label" position="absolute 541 14 602 35" anchor="left top"/>
                        <Static id="Static16" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 279 4 372 14" anchor="left top"/>
                        <Edit id="edt_item" taborder="1" readonly="true" position="absolute 609 14 862 35" anchor="left top" style="align:left middle;"/>
                        <Static id="Static10" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 864 13 894 34" anchor="left top"/>
                        <Static id="Static22" text="결의금액" class="sta_WFSA_label" position="absolute 895 15 956 36" anchor="left top"/>
                        <Static id="Static23" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 954 14 964 35" anchor="left top"/>
                        <Edit id="edt_cust" taborder="2" readonly="true" position="absolute 350 14 512 35" anchor="left top" style="align:left middle;"/>
                        <MaskEdit id="mak_Amt" taborder="3" readonly="true" mask="#,##0.#0" position="absolute 964 15 1087 36" anchor="default"/>
                        <Static id="Static00" text="센터" class="sta_WFSA_label01" position="absolute 16 14 78 35" anchor="left top"/>
                        <Edit id="edt_center" taborder="4" readonly="true" position="absolute 91 14 253 35" anchor="left top" style="align:left middle;"/>
                      </Layout>
                    </Layouts>
                  </Div>
                  <Splitter id="sp_line" type="vertical" position="absolute 0 173 1237 181" anchor="left top right" onmove="sp_line_onmove">
                    <Formats>
                      <Format id="default">
                        <SplitterItems id="items">
                          <SplitterItem id="item00" position="leftortop" bindtype="resize" componentid="grd_list"/>
                          <SplitterItem id="item02" position="rightorbottom" bindtype="resize" componentid="div_detail"/>
                        </SplitterItems>
                      </Format>
                    </Formats>
                  </Splitter>
                </Layout>
              </Layouts>
            </Tabpage>
            <Tabpage id="tabp1" text="사업장별/조회" dragscrolltype="none" scrollbars="none">
              <Layouts>
                <Layout>
                  <Static id="Static71" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 609 1252 624" anchor="left bottom"/>
                  <Grid id="grd_list" taborder="7" binddataset="ds_list" autoenter="select" useinputpanel="false" cellsizingtype="col" autofittype="col" oncelldblclick="grd_list_oncelldblclick" position="absolute -1 0 1234 171" anchor="left top right">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="40"/>
                          <Column size="74"/>
                          <Column size="160"/>
                          <Column size="100"/>
                          <Column size="138"/>
                          <Column size="389"/>
                          <Column size="110"/>
                          <Column size="108"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell displaytype="checkbox" edittype="checkbox"/>
                          <Cell col="1" text="센터"/>
                          <Cell col="2" text="사업장"/>
                          <Cell col="3" text="결의일"/>
                          <Cell col="4" text="결의자"/>
                          <Cell col="5" text="결의내용"/>
                          <Cell col="6" text="결의금액"/>
                          <Cell col="7" text="진행상황"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                          <Cell col="1" text="bind:centerName"/>
                          <Cell col="2" displaytype="normal" style="align:left middle;" text="bind:upjangnmDisp"/>
                          <Cell col="3" displaytype="date" style="align:center middle;" text="bind:poDate"/>
                          <Cell col="4" displaytype="text" style="align:center middle;" text="bind:poSabunNm"/>
                          <Cell col="5" style="align:left middle;" text="bind:itemName"/>
                          <Cell col="6" displaytype="number" style="align:right middle;" text="bind:poAmt" mask="#,##0.#0"/>
                          <Cell col="7" style="align:center middle;" text="bind:lineStatusNm"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Static id="Static60" text="h15" class="Guide01_AreaRed" visible="false" position="absolute 0 171 450 186" anchor="left top"/>
                  <Static id="Static38" text="h13" class="Guide01_AreaRed" visible="false" position="absolute 0 227 450 240" anchor="left top"/>
                  <Static id="Static37" text="결의내역" class="sta_WF_Title01" position="absolute 0 241 450 259" anchor="left top"/>
                  <Static id="Static39" text="글자기준간격 h05" class="Guide01_AreaRed" visible="false" position="absolute 0 254 450 259" anchor="left top"/>
                  <Grid id="grd_sub" taborder="10" binddataset="ds_sub" autoenter="select" useinputpanel="false" cellsizingtype="col" position="absolute -1 259 1234 599" anchor="all">
                    <Formats>
                      <Format id="default">
                        <Columns>
                          <Column size="109"/>
                          <Column size="228"/>
                          <Column size="154"/>
                          <Column size="93"/>
                          <Column size="167"/>
                          <Column size="152"/>
                          <Column size="67"/>
                          <Column size="101"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="86"/>
                          <Column size="189"/>
                          <Column size="86"/>
                        </Columns>
                        <Rows>
                          <Row size="26" band="head"/>
                          <Row size="24"/>
                        </Rows>
                        <Band id="head">
                          <Cell text="결의번호"/>
                          <Cell col="1" text="창고"/>
                          <Cell col="2" text="거래처명"/>
                          <Cell col="3" text="자재코드"/>
                          <Cell col="4" text="자재명"/>
                          <Cell col="5" text="규격"/>
                          <Cell col="6" text="단위"/>
                          <Cell col="7" text="과/면"/>
                          <Cell col="8" text="입고일자"/>
                          <Cell col="9" text="신청량"/>
                          <Cell col="10" text="결의량"/>
                          <Cell col="11" text="판매단가"/>
                          <Cell col="12" text="결의금액"/>
                          <Cell col="13" text="비고"/>
                          <Cell col="14" text="진행상황"/>
                        </Band>
                        <Band id="body">
                          <Cell displaytype="text" style="align:center middle;" text="bind:poNum"/>
                          <Cell col="1" style="align:left middle;" text="bind:subinvName"/>
                          <Cell col="2" style="align:left middle;" text="bind:custNm"/>
                          <Cell col="3" style="align:center middle;background:EXPR(poStatus!='HK'?'darkgray':fmpStatus=='Y'?'olive':poNoStatus=='Y'?'gold':'');background2:EXPR(poStatus!='HK'?'darkgray':fmpStatus=='Y'?'olive':poNoStatus=='Y'?'gold':'');" text="bind:itemCode"/>
                          <Cell col="4" style="align:left middle;" text="bind:itemName"/>
                          <Cell col="5" displaytype="text" style="align:left middle;" text="bind:itemSize"/>
                          <Cell col="6" style="align:center middle;" text="bind:itemUnit"/>
                          <Cell col="7" style="align:center middle;" text="expr:iif(taxCode == '100','면세','과세')"/>
                          <Cell col="8" displaytype="date" style="align:center middle;" text="bind:needDate"/>
                          <Cell col="9" displaytype="number" style="align:right middle;" text="bind:prQty" mask="#,##0.#0"/>
                          <Cell col="10" displaytype="number" style="align:right middle;" text="bind:poQty" mask="#,##0.#0"/>
                          <Cell col="11" displaytype="number" style="align:right middle;" text="bind:salePrice"/>
                          <Cell col="12" displaytype="number" style="align:right middle;" text="bind:poAmt" mask="#,##0.#0"/>
                          <Cell col="13" displaytype="text" edittype="none" style="align:left middle;" text="bind:prRemark"/>
                          <Cell col="14" displaytype="number" edittype="none" style="align:center middle;" text="bind:lineStatusNm"/>
                        </Band>
                      </Format>
                    </Formats>
                  </Grid>
                  <Div id="div_center" anchor="left top right" taborder="13" style="background:transparent;color:aliceblue;" text="Div00" scrollbars="none" position="absolute 0 186 1238 236">
                    <Layouts>
                      <Layout>
                        <Static id="Static41" class="sta_WFSA_Labelbg01" position="absolute -1 4 1234 45" anchor="left top right"/>
                        <Static id="Static42" text="사업장" class="sta_WFSA_label01" position="absolute 280 14 342 35" anchor="left top"/>
                        <Static id="Static43" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 4 93 14" anchor="left top"/>
                        <Static id="Static44" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 0 35 93 45" anchor="left top"/>
                        <Static id="Static45" text="w15" class="Guide01_AreaRed" visible="false" position="absolute 0 14 15 35" anchor="left top"/>
                        <Static id="Static46" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 342 14 352 35" anchor="left top"/>
                        <Static id="Static47" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 514 14 544 35" anchor="left top"/>
                        <Static id="Static12" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 601 13 611 34" anchor="left top"/>
                        <Static id="Static13" text="결의내용" class="sta_WFSA_label" position="absolute 541 14 602 35" anchor="left top"/>
                        <Static id="Static16" text="h10" class="Guide01_AreaRed" visible="false" position="absolute 279 4 372 14" anchor="left top"/>
                        <Edit id="edt_item" taborder="4" readonly="true" position="absolute 609 14 862 35" anchor="left top" style="align:left middle;"/>
                        <Static id="Static10" text="w30" class="Guide01_AreaRed" visible="false" position="absolute 864 13 894 34" anchor="left top"/>
                        <Static id="Static22" text="결의금액" class="sta_WFSA_label" position="absolute 895 15 956 36" anchor="left top"/>
                        <Static id="Static23" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 956 16 966 37" anchor="left top"/>
                        <Edit id="edt_upjang" taborder="5" readonly="true" position="absolute 350 14 512 35" anchor="left top" style="align:left middle;"/>
                        <MaskEdit id="mak_Amt" taborder="6" readonly="true" mask="#,##0.#0" position="absolute 964 15 1087 36" anchor="default"/>
                        <Edit id="edt_center" taborder="7" readonly="true" position="absolute 91 14 253 35" anchor="left top" style="align:left middle;"/>
                        <Static id="Static00" text="센터" class="sta_WFSA_label01" position="absolute 16 14 78 35" anchor="left top"/>
                        <Static id="Static01" text="글자간격기준 w10" class="Guide01_AreaRed" visible="false" position="absolute 76 14 86 35" anchor="left top"/>
                      </Layout>
                    </Layouts>
                  </Div>
                  <Splitter id="sp_line" type="vertical" position="absolute 0 173 1237 181" anchor="left top right" onmove="sp_line2_onmove">
                    <Formats>
                      <Format id="default">
                        <SplitterItems id="items">
                          <SplitterItem id="item00" position="leftortop" bindtype="resize" componentid="grd_list"/>
                          <SplitterItem id="item02" position="rightorbottom" bindtype="resize" componentid="div_detail"/>
                        </SplitterItems>
                      </Format>
                    </Formats>
                  </Splitter>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Edit id="edt_centerCode" taborder="3" readonly="true" class="edt_WF_Essential" position="absolute 436 41 612 62"/>
        <Button id="btn_centerCode" taborder="4" tabstop="false" onclick="btn_centerCode_onclick" class="btn_WF_popSearch" position="absolute 611 41 632 62"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item6" compid="cal_fromDate" propid="text" datasetid="ds_search" columnid="schFdate"/>
      <BindItem id="item7" compid="cal_toDate" propid="text" datasetid="ds_search" columnid="schTdate"/>
      <BindItem id="item2" compid="cbo_status" propid="value" datasetid="ds_search" columnid="schStatus"/>
      <BindItem id="item4" compid="cbo_centerCode" propid="value" datasetid="ds_search" columnid="schCenter"/>
      <BindItem id="item3" compid="rdo_gubun" propid="value" datasetid="ds_search" columnid="schGubun"/>
      <BindItem id="item0" compid="edt_cust" propid="userdata" datasetid="ds_search" columnid="schCust"/>
      <BindItem id="item1" compid="edt_cust" propid="UserData" datasetid="ds_search" columnid="GUBUN"/>
    </Bind>
    <Objects>
      <Dataset id="ds_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="poId" type="STRING" size="256"/>
          <Column id="poNum" type="STRING" size="256"/>
          <Column id="poDate" type="STRING" size="256"/>
          <Column id="poSabun" type="STRING" size="256"/>
          <Column id="poAmt" type="STRING" size="256"/>
          <Column id="poStatus" type="STRING" size="256"/>
          <Column id="chk" type="STRING" size="256"/>
          <Column id="itemName" type="STRING" size="256"/>
          <Column id="poSabunNm" type="STRING" size="256"/>
          <Column id="lineStatusNm" type="STRING" size="256"/>
          <Column id="lineStatus" type="STRING" size="256"/>
          <Column id="prNum" type="STRING" size="256"/>
          <Column id="prSabun" type="STRING" size="256"/>
          <Column id="prUpjnag" type="STRING" size="256"/>
          <Column id="upjangnmDisp" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="centerCode" type="STRING" size="256"/>
          <Column id="centerName" type="STRING" size="256"/>
          <Column id="soStatus" type="STRING" size="256"/>
          <Column id="soStatusNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sub" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="ds_sub_cancolumnchange"/>
      <Dataset id="ds_search" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_search_oncolumnchanged">
        <ColumnInfo>
          <Column id="schFdate" type="STRING" size="256"/>
          <Column id="schTdate" type="STRING" size="256"/>
          <Column id="schPoNum1" type="STRING" size="256"/>
          <Column id="schPoNum2" type="STRING" size="256"/>
          <Column id="schPoNum" type="STRING" size="256"/>
          <Column id="schStatus" type="STRING" size="256"/>
          <Column id="schPoNums" type="STRING" size="256"/>
          <Column id="schCenter" type="STRING" size="256"/>
          <Column id="schGubun" type="STRING" size="256"/>
          <Column id="schUpjang" type="STRING" size="256"/>
          <Column id="schUpjangNm" type="STRING" size="256"/>
          <Column id="schCust" type="STRING" size="256"/>
          <Column id="schCustNm" type="STRING" size="256"/>
          <Column id="schSearchGubun" type="STRING" size="256"/>
          <Column id="schSubCust" type="STRING" size="256"/>
          <Column id="schSubUpjang" type="STRING" size="256"/>
          <Column id="schSubCusts" type="STRING" size="256"/>
          <Column id="schSubUpjangs" type="STRING" size="256"/>
          <Column id="schCode" type="STRING" size="256"/>
          <Column id="schCodeRow" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cmnAuth" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="srcYn" type="STRING" size="256"/>
          <Column id="insYn" type="STRING" size="256"/>
          <Column id="delYn" type="STRING" size="256"/>
          <Column id="savYn" type="STRING" size="256"/>
          <Column id="prtYn" type="STRING" size="256"/>
          <Column id="exlYn" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="srcYn">1</Col>
            <Col id="insYn">0</Col>
            <Col id="delYn">0</Col>
            <Col id="savYn">1</Col>
            <Col id="prtYn">0</Col>
            <Col id="exlYn">0</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_status" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="groupCode" type="STRING" size="50"/>
          <Column id="code" type="STRING" size="50"/>
          <Column id="codeName" type="STRING" size="500"/>
          <Column id="contents" type="STRING" size="300"/>
          <Column id="sortSeq" type="BIGDECIMAL" size="22"/>
          <Column id="systemYn" type="STRING" size="1"/>
          <Column id="posYn" type="STRING" size="1"/>
          <Column id="set1" type="STRING" size="100"/>
          <Column id="set2" type="STRING" size="100"/>
          <Column id="set3" type="STRING" size="100"/>
          <Column id="set4" type="STRING" size="100"/>
          <Column id="set5" type="STRING" size="100"/>
          <Column id="remark" type="STRING" size="300"/>
          <Column id="useYn" type="STRING" size="1"/>
          <Column id="attr01" type="STRING" size="300"/>
          <Column id="attr02" type="STRING" size="300"/>
          <Column id="attr03" type="STRING" size="300"/>
          <Column id="attr04" type="STRING" size="300"/>
          <Column id="attr05" type="STRING" size="300"/>
          <Column id="attr06" type="STRING" size="300"/>
          <Column id="attr07" type="STRING" size="300"/>
          <Column id="attr08" type="STRING" size="300"/>
          <Column id="attr09" type="STRING" size="300"/>
          <Column id="attr10" type="STRING" size="300"/>
          <Column id="cuser" type="STRING" size="20"/>
          <Column id="cdate" type="DATETIME" size="7"/>
          <Column id="uuser" type="STRING" size="20"/>
          <Column id="udate" type="DATETIME" size="7"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_subflag" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" cancolumnchange="ds_sub_cancolumnchange">
        <ColumnInfo>
          <Column id="itemCode" type="STRING" size="256"/>
          <Column id="itemName" type="STRING" size="256"/>
          <Column id="itemSize" type="STRING" size="256"/>
          <Column id="itemUnit" type="STRING" size="256"/>
          <Column id="taxCode" type="STRING" size="256"/>
          <Column id="prRemark" type="STRING" size="256"/>
          <Column id="needDate" type="STRING" size="256"/>
          <Column id="salePrice" type="STRING" size="256"/>
          <Column id="prQty" type="STRING" size="256"/>
          <Column id="poQty" type="STRING" size="256"/>
          <Column id="amt" type="STRING" size="256"/>
          <Column id="insDeptNm" type="STRING" size="256"/>
          <Column id="lineStatus" type="STRING" size="256"/>
          <Column id="lineStatusNm" type="STRING" size="256"/>
          <Column id="prId" type="STRING" size="256"/>
          <Column id="prDate" type="STRING" size="256"/>
          <Column id="poType" type="STRING" size="256"/>
          <Column id="subinvName" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="minOrdQty" type="STRING" size="256"/>
          <Column id="maxOrdQty" type="STRING" size="256"/>
          <Column id="multiplierQty" type="STRING" size="256"/>
          <Column id="pointFlag" type="STRING" size="256"/>
          <Column id="dDays" type="STRING" size="256"/>
          <Column id="dTimes" type="STRING" size="256"/>
          <Column id="docuSource" type="STRING" size="256"/>
          <Column id="ordFlag" type="STRING" size="256"/>
          <Column id="ordDaysFlag" type="STRING" size="256"/>
          <Column id="poStatus" type="STRING" size="256"/>
          <Column id="fmpStatus" type="STRING" size="256"/>
          <Column id="typeName" type="STRING" size="256"/>
          <Column id="poTypeDays" type="STRING" size="256"/>
          <Column id="poTypeTimes" type="STRING" size="256"/>
          <Column id="poNum" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_center" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="centerCode" type="STRING" size="256"/>
          <Column id="centerName" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="code" type="STRING" size="256"/>
          <Column id="codename" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/*
  화 면 명 : Template
  파 일 명 : Template.xfdl
  기    능 : Design 및 Script Template 

    수정일    수정자                  수정내용
  ----------   -------  --------------------------------------------------
  2014.11.01   김윤기   최초 생성
*/

/************************************************************************************************
 * 공통 라이브러리 INCLUDE 영역 (필수)
************************************************************************************************/
include "lib::lib_com.xjs";
include "U_lib::lib_conversionCom.xjs";

/************************************************************************************************
 * FORM 변수 선언 영역 (필수)
************************************************************************************************/
var fv_sToday = gfn_today();
var sRow = -1;

/************************************************************************************************
 * FORM EVENT 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : Form Load (필수)
 *---------------------------------------------------------------------------------------------*/
function form_onload(obj:Form, e:LoadEventInfo)
{	
	// Form Load 시 공통 기능 처리(obj:Form, bCreateEvent:이벤트 생성 여부)
	gfn_formOnLoad(this);
	//공통 버튼 제어.
	div_cmnBtn.btn_save.text ="확정";
	//div_cmnBtn.btn_delete.text ="취소";
	//div_cmnBtn.btn_insert.text = "반려";
	// 초기값 셋팅
	fn_init();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 초기값 셋팅
 *---------------------------------------------------------------------------------------------*/
function fn_init()
{
	// 업데이트여부를 체크할 DataSet, 여러개 있을 경우 ;로 구분
	v_ds_check = "ds_list";
	ds_search.addRow();
	fn_searchCenter();
	rdo_gubun.index = 0;
	cal_fromDate.fn_initMonthCal(this, gfn_today(), "", ds_search, "schFdate", "Y");	
	cal_toDate.fn_initMonthCal(this, gfn_today(), "", ds_search, "schTdate", "Y");	
	fn_comCode("ds_status","FM0037");//상태값 조회
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 화면 닫기 전 변경 유무 체크 (필수-Frame에서 창 닫힐때 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_close()
{	
	// v_ds_check 사용시 변경사항 체크
	if(gfn_length(v_ds_check) != 0)
	{	
		// v_ds_check 설정기준 변경사항 체크
		if (gfn_isDataChange() == true) 
		{		
			// 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
			if (!gfn_confirm("confirm.before.movepage")) return false;
		}
	}
    
	// 조회프로그램에도 Return true; 기술해 주세요!
	return true;
}


/************************************************************************************************
 * 공통기능 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 조회 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_search()
{
	
	fn_edtData(null);//그리드 사이 edt 박스 데이터 넣기.
	ds_sub.clearData();
	//Static37.text = "결의내역";
    // Grid sort 표시 초기화(필수)
    
    if(tab.tabindex == 0){
		gfn_clearSortMark(tab.tabp0.grd_list);
		
    }else{
		gfn_clearSortMark(tab.tabp1.grd_list);
		
    }
	
	ds_search.setColumn(ds_search.rowposition , "schSearchGubun" , tab.tabindex);
	
    var strSvcID    = "search";
    var strURL      = "fm/fmo/orderRequestConfirm/selectList.xdo";
    var strInDs     = "ds_search=ds_search:A";
    var strOutDs    = "ds_list=ds_list";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    if(!gfn_isNull(strURL)){
		gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 신규 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_insert()
{	
	if(true)return;//2015-07-20 반려삭제
	
	if(ds_list.getRowCount() == 0){
		gfn_alert("반려할 데이터가 없습니다.");
		return;
	}
	
	if(ds_list.findRow("chk", "1") == -1){
		gfn_alert("반려할 데이터를 선택해주세요.");
		return;
	}
	
	for(var i=0;i < ds_list.getRowCount();i++){
		if(ds_list.getColumn(i,"chk") == "1"){
			if(ds_list.getColumn(i,"soStatus") != "007"){
				gfn_alert("결의승인 상태인 주문만 반려 할 수 있습니다. ");
				ds_list.setColumn(i,"chk", "");
				ds_list.rowposition = i;
				return;
			}
		}
	}
	if(gfn_confirm("반려 하시겠습니까?")){
		var strSvcID    = "returnList";
		var strURL      = "fm/fmo/orderDecision/returnList.xdo";
		var strInDs     = "ds_list=ds_list:U";
		var strOutDs    = "";
		var strArg      = "";
		var strCallback = "fn_callBack";
		var bAsync      = true;
			
		gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 삭제 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_delete()
{
	fn_cncl();
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_save()
{
	/*시스템 통제 시간 체크 - 특정일자에 사용을 할 수 없게 한다.*/
	mfn_GetSystemWorkCheck("PO");
	if (ds_common.getColumn(0, 0) == "Y")
	{
		g_Message("EE", "시스템 변경 작업중이라 현 화면을 사용할 수 없습니다. \n사용불가시간(" + ds_common.getColumn(0, 1) + " ~ " + ds_common.getColumn(0, 2) + ") ");
		return false; 
	}
	
	/*-------------------------------------------------------/
		확정 1단계
	/-------------------------------------------------------*/
	if(ds_list.getRowCount() == 0){
		gfn_alert("확정할 데이터가 없습니다.");
		return;
	}
	if(ds_list.findRow("chk", "1") == -1){
		gfn_alert("확정할 데이터를 선택해주세요.");
		return;
	}
	for(var i=0;i < ds_list.getRowCount();i++){
		if(ds_list.getColumn(i,"chk") == "1"){
			/*		저장을 위한 검색 조건 추가 	*/
			ds_list.setColumn(i,"tabGubun",tab.tabindex);
			ds_list.setColumn(i,"schGubun",ds_search.getColumn(ds_search.rowposition,"schGubun"));
			ds_list.setColumn(i,"schFdate",ds_search.getColumn(ds_search.rowposition,"schFdate"));
			ds_list.setColumn(i,"schTdate",ds_search.getColumn(ds_search.rowposition,"schTdate"));
			ds_list.setColumn(i,"schUpjang",ds_search.getColumn(ds_search.rowposition,"schUpjang"));
			ds_list.setColumn(i,"schCust",ds_search.getColumn(ds_search.rowposition,"schCust"));
			ds_list.setColumn(i,"schCenter",ds_search.getColumn(ds_search.rowposition,"schCenter"));
			ds_list.setColumn(i,"schCode",ds_search.getColumn(ds_search.rowposition,"schCode"));
		}
	}

	
	if(!gfn_confirm("선택된 항목을 확정 하시겠습니까?"))return;
	
	var strSvcID    = "save";
	var strURL      = "fm/fmo/orderRequestConfirm/saveList.xdo";
	var strInDs     = "ds_list=ds_list:U";
	var strOutDs    = "";
	var strArg      = "";
	var strCallback = "fn_callBack";
	var bAsync      = true;
	
	gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}


/*----------------------------------------------------------------------------------------------
 * 설명      : 출력 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_print()
{
	
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 도움말 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_help()
{
	
}

/************************************************************************************************
 * TRANSACTION 및 CallBack 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 트랜잭션 콜백 함수 (필수)
 *---------------------------------------------------------------------------------------------*/
function fn_callBack(strSvcID, nErrorCode, strErrorMsg)
{
	// 에러시 gfn_callBack에서 메시지 제공, 화면별 특정 에러 발생시에만 사용하세요.
	if (nErrorCode < 0) 
	{
		return;
	}
	
    switch(strSvcID)
    {
		// 코드분류 조회
        case "search" :
            //trace(ds_list.saveXML());
            /*	저장을 위한 컬럼 추가		*/
            ds_list.addColumn("schGubun","STRING");
			ds_list.addColumn("schFdate","STRING");
			ds_list.addColumn("schTdate","STRING");
			ds_list.addColumn("schUpjang","STRING");
			ds_list.addColumn("schCust","STRING");
			ds_list.addColumn("schCenter","STRING");
			ds_list.addColumn("tabGubun","STRING");
			ds_list.addColumn("schCode","STRING");
            break;
        // 코드분류 조회
        case "searchSub" :
            //trace(ds_sub.saveXML());
            if(tab.tabindex == 0)
				tab.tabp0.Static37.text = "결의내역 : "+ ds_sub.getRowCount()+"건"
			else
				tab.tabp1.Static37.text = "결의내역 : "+ ds_sub.getRowCount()+"건"
            break;
		// 코드분류 조회
        case "status" :
			//상태 콤보 박스 초기화
            ds_status.filter("code == '007' || code == '003' ");
            ds_status.insertRow(0);
            ds_status.setColumn(0,"codeName", "전체");
            ds_status.setColumn(0,"code", "");
            cbo_status.index = ds_status.findRow("code", "007");
            break;            
        // 저장
        case "save" :
			gfn_alert("msg.save.success");	// 저장 되었습니다.
			fn_search();
            break;    
        case "cncl" :
			gfn_alert("msg.action.success");// 처리 되었습니다.
			fn_search();
            break;            
        case "selectSubFlag" :
			fn_chkflag();
			break;                          
        case "returnList" :
			gfn_alert("반려 되었습니다.");
			fn_search();
			break;
		// 센터 조회
        case "searchCenter" :
            //trace(ds_center.saveXML());
            fn_center_init();
            break;    			
			
    }
}


/************************************************************************************************
 * 사용자 FUNCTION 영역 (필수)
************************************************************************************************/
/*----------------------------------------------------------------------------------------------
 * 설명      : 센터정보 조회
 *---------------------------------------------------------------------------------------------*/
function fn_searchCenter()
{
    var strSvcID    = "searchCenter";
    var strURL      = "fm/fms/upriceContractUpjangSet/selectCenter.xdo";
    var strInDs     = "";
    var strOutDs    = "ds_center=ds_center";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 센터 COMBO 초기화 
 *---------------------------------------------------------------------------------------------*/
function fn_center_init()
{
	var defVal = "";
	var defValNm = "";
	ds_center.filter("centerCode != '*'");
	// COMBO 에 첫번째 Row에 기본값을 SET
	if (ds_center.getRowCount() > 0) {
		defVal = ds_center.getColumn(0, "centerCode");
		defValNm = ds_center.getColumn(0, "centerName");
	}
	//cbo_centerCode.index = 0;
	cbo_centerCode.value = defVal;
	// 센터코드 다중 COMP SET
	edt_centerCode.value = defValNm;
	edt_centerCode.userdata = defVal;
	ds_search.setColumn(0, "schCode", defVal);	
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 상태 콤보 박스 조회
 *---------------------------------------------------------------------------------------------*/
function fn_comCode(dataset,type){
		gfn_transaction(this
						,"status"
						,"sm/cmn/common/selectComCode.xdo"
						,""
						,dataset+"=ds_combo"
						,"groupCode="+wrapQuote(type)+" useYn=Y"
						,"fn_callBack"
						,false);
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 결의내역 조회
 *---------------------------------------------------------------------------------------------*/
function fn_searchSub()
{
	ds_search.setColumn(ds_search.rowposition, "schCust",	edt_cust.userdata);
	// 선택한 센터코드를 조건으로 SET " 2016-01-12
	ds_search.setColumn(0,"schCodeRow", ds_list.getColumn(sRow , "centerCode"));
	
	if(tab.tabindex == 0){
		/*	업체별 조회			*/
		gfn_clearSortMark(tab.tabp0.grd_sub);
		ds_search.setColumn(0,"schSubCust", ds_list.getColumn(sRow , "custcd"));
	}else{
		/*	사업장별 조회			*/
		gfn_clearSortMark(tab.tabp1.grd_sub);
		ds_search.setColumn(0,"schSubUpjang", ds_list.getColumn(sRow , "rcUpjang"));
	}


    var strSvcID    = "searchSub";
    var strURL      = "fm/fmo/orderRequestConfirm/selectSub.xdo";
    var strInDs     = "ds_search=ds_search:A";
    var strOutDs    = "ds_sub=ds_sub";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 저장 버튼 클릭 시 (필수-공통버튼에서 호출됨)
 *---------------------------------------------------------------------------------------------*/
function fn_cncl()
{
	if(ds_list.getRowCount() == 0){
		gfn_alert("취소할 데이터가 없습니다.");
		return;
	}
	if(ds_list.findRow("chk", "1") == -1){
		gfn_alert("취소할 데이터를 선택해주세요.");
		return;
	}
	for(var i=0;i < ds_list.getRowCount();i++){
		if(ds_list.getColumn(i,"chk") == "1"){
			if(ds_list.getColumn(i,"soStatus") != "007"){
				gfn_alert("결의승인 상태인 주문만 취소 할 수 있습니다. ");
				ds_list.setColumn(i,"chk", "");
				ds_list.rowposition = i;
				return;
			}
		}
	}
	if(!gfn_confirm("선택된 항목을 취소 처리 하시겠습니까?"))return;
	
    var strSvcID    = "cncl";
    var strURL      = "fm/fmo/orderRequestConfirm/cnclList.xdo";
    var strInDs     = "ds_list=ds_list:U";
    var strOutDs    = "";
    var strArg      = "";
    var strCallback = "fn_callBack";
    var bAsync      = true;
    
    gfn_transaction(this, strSvcID, strURL, strInDs, strOutDs, strArg, strCallback, bAsync);
}
 
 /*----------------------------------------------------------------------------------------------
 * 설명      : 그리드 사이 EDT에 데이터 채워 넣기. 입력받은 행(row)에 데이터를 넣는다.
 *---------------------------------------------------------------------------------------------*/
function fn_edtData(row){
	if(row == null){
			tab.tabp0.div_center.edt_center.value = "";							//센터
			tab.tabp0.div_center.edt_cust.value = "";							//업체명
			tab.tabp0.div_center.edt_item.value = "";							//결의내용
			tab.tabp0.div_center.mak_Amt.value = "";								//결의금액
			
			tab.tabp1.div_center.edt_center.value = "";							//센터
			tab.tabp1.div_center.edt_upjang.value = "";							//사업장명
			tab.tabp1.div_center.edt_item.value = "";							//결의내용
			tab.tabp1.div_center.mak_Amt.value = "";								//결의금액
	}else{
		if(tab.tabindex == 0){
			tab.tabp0.div_center.edt_center.value = ds_list.getColumn(row , "centerName");
			tab.tabp0.div_center.edt_cust.value = ds_list.getColumn(row , "custNm");
			tab.tabp0.div_center.edt_item.value = ds_list.getColumn(row , "itemName");
			tab.tabp0.div_center.mak_Amt.value = ds_list.getColumn(row , "poAmt");
		}else{
			tab.tabp1.div_center.edt_center.value = ds_list.getColumn(row , "centerName");
			tab.tabp1.div_center.edt_upjang.value = ds_list.getColumn(row , "upjangnmDisp");
			tab.tabp1.div_center.edt_item.value = ds_list.getColumn(row , "itemName");
			tab.tabp1.div_center.mak_Amt.value = ds_list.getColumn(row , "poAmt");
		}
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 상품별 D-DAY CHECK FUNCTION
 *---------------------------------------------------------------------------------------------*/
function fn_getDayStatus(nDdays, nDtimes , sNeedDate)
{
	fsp_init(this);			// 고도화관련 Frame 관련 SET

	fn_CurrDateWeek();
	
	if (gfn_length(nDtimes)==2) nDtimes = nDtimes + "00";
	
	//무통제면 패스...
	if (gfn_nvl(nDdays, "0")== "0" ) return "2";
	//디데이체크
	if (gfn_addDate(gds_currdate.getColumn(0,"YMD"),nDdays) > sNeedDate )
		return "0";
	else if ( gfn_addDate(gds_currdate.getColumn(0,"YMD"),nDdays) == sNeedDate )
	{
		//디타임체크
		if ( gfn_subStr(gds_currdate.getColumn(0, "YMD_TM"),8,4)> nDtimes )
			return "0";
		else if ( G_fn_GapTime(0, gfn_subStr(gds_currdate.getColumn(0, "YMD_TM"),8,4), nDtimes, "") <= "0030" )
			return "1";
		else
			return "2";
	}
	else
		return "2";
}



/************************************************************************************************
 * 각 COMPONENT 별 EVENT 영역 (필수)
************************************************************************************************/
function grd_list_oncelldblclick(obj:Grid, e:GridClickEventInfo)
{
	if(e.cell != 0){
		sRow = e.row;
		fn_edtData(sRow);//그리드 사이 edt 박스 데이터 넣기.
		fn_searchSub();
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명      : 업체 팝업.
 *---------------------------------------------------------------------------------------------*/
function btn_cust_onclick(obj:Button,  e:ClickEventInfo)
{
	// 팝업창을 호출한다	
	var strId       = "SaleCustSearch";
	var strURL      = "X_FMS::SalePriceCustSearchPop.xfdl";
	var objArgument = {
		P_DATASET : ds_search
	};
	
	var nWidth      = 513;
	var nHeight     = 495;
	var strStyle    = "";
	var nLeft       = -1;
	var nTop        = -1;
	var isModeless  = false;
	var bShowTitle  = true;
	var strAlign    = "-1";
	
	// 리턴값을 배열로 받을 경우	
	var arrRtn = gfn_dialog(strId, strURL, objArgument, nWidth, nHeight, strStyle, nLeft, nTop, isModeless, bShowTitle, strAlign);
	
	if (arrRtn instanceof Object)
	{
		edt_cust.value    = arrRtn["custNm"];
		edt_cust.userdata = arrRtn["custCd"];
		obj.userdata       = arrRtn["custNm"];
		ds_search.setColumn(ds_search.rowposition,"schCust",arrRtn["custCd"]);
	}
}

function edt_cust_onkeydown(obj:Edit, e:KeyEventInfo)
{
		// Del 키
	if(e.keycode == 46) 
	{		
		edt_cust.value="";
		edt_cust.userdata="";
		ds_search.setColumn(ds_search.rowposition, "schCust",	"");
	}
}
/*----------------------------------------------------------------------------------------------
 * 설명      : 탭변경 시 데이터 변경 체크.
 *---------------------------------------------------------------------------------------------*/
function tab_canchange(obj:Tab, e:TabIndexChangeEventInfo)
{
	// v_ds_check 미사용시 변경사항 체크(입력 프로그램일때 변경되는 Dataset 전체 기술)
	if (gfn_dsIsUpdated(ds_list) == true) 
	{
		// 변경된 데이터가 있습니다. 현재 화면을 닫겠습니까?
        if (!gfn_confirm("confirm.before.movepage")) return false;
    }
    ds_list.clearData();
    ds_sub.clearData();
}

function sp_line_onmove(obj:Splitter, e:MoveEventInfo)
{
	tab.tabp0.div_center.position.top = e.y + 15;
	tab.tabp0.div_center.position.height = 52;
	tab.tabp0.Static37.position.top = e.y + 76;
	tab.tabp0.Static37.position.height = 18;
	tab.tabp0.grd_sub.position.top = e.y + 95;
	
}

function sp_line2_onmove(obj:Splitter, e:MoveEventInfo)
{
	tab.tabp1.div_center.position.top = e.y + 15;
	tab.tabp1.div_center.position.height = 52;
	tab.tabp1.Static37.position.top = e.y + 76;
	tab.tabp1.Static37.position.height = 18;
	tab.tabp1.grd_sub.position.top = e.y + 95;
}

// 센터코드 클릭
function btn_centerCode_onclick(obj:Button,  e:ClickEventInfo)
{
	fn_centerCodePop();
}

function fn_centerCodePop()
{
	// 팝업창을 호출한다	
	var strId       = "CenterCodePop";
	var strURL      = "X_FMO::CenterCodePop.xfdl";
	var objArgument = {
		P_DATASET : ds_search
	};
	
	var nWidth      = 281;
	var nHeight     = 330;
	var strStyle    = "";
	var nLeft       = -1;
	var nTop        = -1;
	var isModeless  = false;
	var bShowTitle  = true;
	var strAlign    = "-1";
	
	// 리턴값을 배열로 받을 경우	
	var arrRtn = gfn_dialog(strId, strURL, objArgument, nWidth, nHeight, strStyle, nLeft, nTop, isModeless, bShowTitle, strAlign);
	
	if (arrRtn instanceof Object)
	{
		// 리턴값 처리
		edt_centerCode.value    = arrRtn["centerName"];
		edt_centerCode.userdata = arrRtn["centerCode"];
		
		// ds_search SET
		ds_search.setColumn(0, "schCode", arrRtn["centerCode"]);
	}
}
]]></Script>
  </Form>
</FDL>
