<?xml version="1.0" encoding="UTF-8"?>
<hqml xmlns="http://hone.hanwha.co.kr/schema/hqml"
	name="rc.sle.timeMenuListDAO">
	<desc>시간대별 메뉴 매출 리스트</desc>

	<!--  bill check list  -->

	<statement name="selectList" type="select"><![CDATA[
			SELECT    A.MENU_CLASS, A.MENU_CLSFI, A.MENU_SCLASS
				, A.MENU_CLASS || A.MENU_CLSFI || A.MENU_SCLASS AS ITEMGRUP_CD
        		, A.MENU_CLSFI_NM AS ITEMGRUP_NM
        		, A.MENU_CD AS MENU_CD, A.MENU_NM AS MENU_NM,
			       NVL(B.QTY8,0) AS QTY8, NVL(B.TOT8,0) AS TOT8,
			       NVL(C.QTY9,0) AS QTY9, NVL(C.TOT9,0) AS TOT9,
			       NVL(D.QTY10,0) AS QTY10, NVL(D.TOT10,0) AS TOT10,
			       NVL(E.QTY11,0) AS QTY11, NVL(E.TOT11,0) AS TOT11,
			       NVL(F.QTY12,0) AS QTY12, NVL(F.TOT12,0) AS TOT12,
			       NVL(G.QTY13,0) AS QTY13, NVL(G.TOT13,0) AS TOT13,
			       NVL(H.QTY14,0) AS QTY14, NVL(H.TOT14,0) AS TOT14,
			       NVL(I.QTY15,0) AS QTY15, NVL(I.TOT15,0) AS TOT15,
			       NVL(J.QTY16,0) AS QTY16, NVL(J.TOT16,0) AS TOT16,
			       NVL(K.QTY17,0) AS QTY17, NVL(K.TOT17,0) AS TOT17,
			       NVL(L.QTY18,0) AS QTY18, NVL(L.TOT18,0) AS TOT18,
			       NVL(M.QTY19,0) AS QTY19, NVL(M.TOT19,0) AS TOT19,
			       NVL(N.QTY20,0) AS QTY20, NVL(N.TOT20,0) AS TOT20,
			       NVL(O.QTY21,0) AS QTY21, NVL(O.TOT21,0) AS TOT21,
			       NVL(P.QTY22,0) AS QTY22, NVL(P.TOT22,0) AS TOT22,
			       NVL(Q.QTY23,0) AS QTY23, NVL(Q.TOT23,0) AS TOT23,
			       NVL(R.QTY00,0) AS QTY00, NVL(R.TOT00,0) AS TOT00,
				   NVL(S.QTY01,0) AS QTY01, NVL(S.TOT01,0) AS TOT01,
			
			       NVL(B.QTY8,0)  +  NVL(C.QTY9,0)  +  NVL(D.QTY10,0) + NVL(E.QTY11,0) + NVL(F.QTY12,0) +
			       NVL(G.QTY13,0) +  NVL(H.QTY14,0) +  NVL(I.QTY15,0) + NVL(J.QTY16,0) + NVL(K.QTY17,0) +
			       NVL(L.QTY18,0) +  NVL(M.QTY19,0) +  NVL(N.QTY20,0) + NVL(O.QTY21,0) + NVL(P.QTY22,0) +
			       NVL(Q.QTY23,0) +  NVL(R.QTY00,0) +  NVL(S.QTY01,0) AS TOT_QTY,
			
			       NVL(B.TOT8,0)  +  NVL(C.TOT9,0)  +  NVL(D.TOT10,0) + NVL(E.TOT11,0) + NVL(F.TOT12,0) +
			       NVL(G.TOT13,0) +  NVL(H.TOT14,0) +  NVL(I.TOT15,0) + NVL(J.TOT16,0) + NVL(K.TOT17,0) +
			       NVL(L.TOT18,0) +  NVL(M.TOT19,0) +  NVL(N.TOT20,0) + NVL(O.TOT21,0) + NVL(P.TOT22,0) +
			       NVL(Q.TOT23,0) +  NVL(R.TOT00,0) +  NVL(S.TOT01,0) AS TOT_AMT
			  FROM
			  (
			   SELECT A.MENU_CD,  A.MENU_NM, B.MENU_CLASS, B.MENU_CLSFI, B.MENU_SCLASS, B.MENU_CLSFI_NM
			   FROM SLE_OUTLET_MENU A
			   --FROM SLE_MENU_POOL A 
               --INNER JOIN SLE_OUTLET_MENU_GRP  B ON B.OUTLET_CD = A.OUTLET_CD
               INNER JOIN SLE_MENU_CLSFI  B ON B.MENU_CLASS = A.MENU_CLASS 
                                           AND B.MENU_CLSFI = A.MENU_CLSFI 
                                           AND B.MENU_SCLASS = A.MENU_SCLASS
               WHERE A.OUTLET_CD = :outletCd
               --WHERE A.MENU_CD IN (SELECT Z.MENU_CD FROM SLE_OUTLET_MENU Z WHERE Z.OUTLET_CD = :outletCd AND Z.USE_CLASS = 'Y')
               --WHERE A.MENU_CD IN (SELECT Z.MENU_CD FROM SLE_OUTLET_MENU Z WHERE Z.OUTLET_CD = :outletCd)
               
			  )A
			
			LEFT OUTER JOIN
			  (
			   SELECT  MENU_CD,  '08' AS SALE_TIME, SUM(QTY8) AS QTY8, SUM(TOT8) AS TOT8  	
                FROM (
						  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY8, SUM(NET_AMT) AS TOT8
						    FROM (
						      --SELECT ITEM.MENU_CD, SUBSTR(INFO.CLOSE_TIME, 1,2) AS SALE_TIME , ITEM.QUANTITY AS QTY, ITEM.NET_AMT 
						      SELECT ITEM.MENU_CD, SUBSTR(INFO.OPEN_TIME, 1,2) AS SALE_TIME , ITEM.QUANTITY AS QTY, ITEM.NET_AMT
			                  FROM SLE_SALS_GOODS ITEM
			                  
							    INNER JOIN (
											SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
											FROM SLE_SALS_INFO INFO
											LEFT OUTER JOIN (
											      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
											      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
											      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
											      ORDER BY  OUTLET_CD, POS_NUM
											) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
											WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
											  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
											  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                      						  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
											  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt	
											  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
											  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
											ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
					    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
					    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
					    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
					    				       
						       WHERE 1=1
						       	 --ITEM.SALS_YN = 'Y'		--판매여부                             
           						 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
							     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
		   						 --종료
			                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
			                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
			                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                                 <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                                 AND ITEM.DATA_CLASS = '1'
			                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt										  
		                         AND (1=2 
		                         <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
		                         <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
		                         <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
		                         <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
		                         <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
		                         <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
		                         <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
		                         )
			                     AND ITEM.OUTLET_CD = :outletCd
						         
						    )
						   GROUP BY MENU_CD,  SALE_TIME
						   HAVING SALE_TIME BETWEEN '02' AND '08'
						   ORDER BY SALE_TIME
					)  BB GROUP BY MENU_CD
			  )B
			
			ON A.MENU_CD = B.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY9, SUM(NET_AMT) AS TOT9
			    FROM
			    (
			      --SELECT ITEM.MENU_CD,  SUBSTR(CLOSE_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
			      SELECT ITEM.MENU_CD,  SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                              <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                      	  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
	    				       
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS      = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS   IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.OUTLET_CD       = :outletCd
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '09'
			   ORDER BY SALE_TIME
			  )C
			
			ON A.MENU_CD = C.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY10, SUM(NET_AMT) AS TOT10
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                              <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                         	  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '10'
			   ORDER BY SALE_TIME
			  )D
			
			ON A.MENU_CD = D.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY11, SUM(NET_AMT) AS TOT11
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                       	      <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                      	  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD,  SALE_TIME
			   HAVING SALE_TIME = '11'
			   ORDER BY SALE_TIME
			  )E
			
			ON A.MENU_CD = E.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY12, SUM(NET_AMT) AS TOT12
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                      		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                      	  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '12'
			   ORDER BY SALE_TIME
			  )F
			
			ON A.MENU_CD = F.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY13, SUM(NET_AMT) AS TOT13
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                      		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                      		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '13'
			   ORDER BY SALE_TIME
			  )G
			
			ON A.MENU_CD = G.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY14, SUM(NET_AMT) AS TOT14
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                      		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                      	  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '14'
			   ORDER BY SALE_TIME
			  )H
			
			ON A.MENU_CD = H.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY15, SUM(NET_AMT) AS TOT15
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '15'
			   ORDER BY SALE_TIME
			  )I
			
			ON A.MENU_CD = I.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY16, SUM(NET_AMT) AS TOT16
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '16'
			   ORDER BY SALE_TIME
			  )J
			
			ON A.MENU_CD = J.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY17, SUM(NET_AMT) AS TOT17
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '17'
			   ORDER BY SALE_TIME
			  )K
			
			ON A.MENU_CD = K.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY18, SUM(NET_AMT) AS TOT18
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                              <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)                     
							  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '18'
			   ORDER BY SALE_TIME
			  )L
			
			ON A.MENU_CD = L.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY19, SUM(NET_AMT) AS TOT19
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                   
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '19'
			   ORDER BY SALE_TIME
			  )M
			
			ON A.MENU_CD = M.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY20, SUM(NET_AMT) AS TOT20
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                   
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '20'
			   ORDER BY SALE_TIME
			  )N
			
			ON A.MENU_CD = N.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY21, SUM(NET_AMT) AS TOT21
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '21'
			   ORDER BY SALE_TIME
			  )O
			
			ON A.MENU_CD = O.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY22, SUM(NET_AMT) AS TOT22
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '22'
			   ORDER BY SALE_TIME
			  )P
			
			ON A.MENU_CD = P.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY23, SUM(NET_AMT) AS TOT23
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     	      <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '23'
			   ORDER BY SALE_TIME
			  )Q
			
			ON A.MENU_CD = Q.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY00, SUM(NET_AMT) AS TOT00
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '00'
			   ORDER BY SALE_TIME
			  )R
			
			ON A.MENU_CD = R.MENU_CD
			
			LEFT OUTER JOIN
			  (
			  SELECT  MENU_CD,  SALE_TIME, SUM(QTY) AS QTY01, SUM(NET_AMT) AS TOT01
			    FROM
			    (
			      SELECT ITEM.MENU_CD, SUBSTR(OPEN_TIME, 1,2) AS SALE_TIME ,QUANTITY AS QTY, NET_AMT 
                  FROM SLE_SALS_GOODS ITEM
                  
                  INNER JOIN (
							SELECT INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM, INFO.CLOSE_TIME, INFO.OPEN_TIME 
							FROM SLE_SALS_INFO INFO
							LEFT OUTER JOIN (
							      SELECT OUTLET_CD, POS_NUM, CODE_NAME FROM SLE_POS_SET POS
							      INNER JOIN SCC_COMMON_CODE GRP ON GRP.GROUP_CODE = 'SLE_0111' AND GRP.CODE = POS.OUTLET_SUB_CD
							      <#if outletSub?has_content> WHERE GRP.CODE = :outletSub </#if>  --01:다채움 02:마루 03:나무 
							      ORDER BY  OUTLET_CD, POS_NUM
							) POS ON POS.OUTLET_CD = INFO.OUTLET_CD AND POS.POS_NUM = INFO.POS_NUM
							WHERE INFO.SALS_CLASS     = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
							  AND INFO.MODIFY_STATUS  IN ('0','1') --매출조정 0:정상 , 1:조정
							  <#if internalYn == 'Y' > AND INFO.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     		  <#if internalYn == 'N' > AND INFO.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     		  AND INFO.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt
							  <#if outletCd?has_content> AND INFO.OUTLET_CD = :outletCd </#if>
							  <#if outletSub?has_content> AND INFO.POS_NUM  = POS.POS_NUM  </#if>
							ORDER BY    INFO.OUTLET_CD, INFO.SALES_DATE, INFO.RECEIPT_NUM
	    				)  INFO ON INFO.OUTLET_CD   = ITEM.OUTLET_CD 
	    				       AND INFO.SALES_DATE  = ITEM.SALES_DATE
	    				       AND INFO.RECEIPT_NUM = ITEM.RECEIPT_NUM	
                  
			       WHERE 1=1
			         --ITEM.SALS_YN         = 'Y'		--판매여부			                                     
        			 --시작 : 2017.03.02 현대카드M포인트 제휴 추가로 매출여부 조건 변경 처리자:김호석 CH201702_00668
				     AND ITEM.SELL_YN  = DECODE(ITEM.RECEIPT_STATUS ,'E','N','Y')				--매출 여부
  					 --종료
                     AND ITEM.SALS_CLASS = '0'	--0:정상매출,1:쿠폰(상품권)대행,2:선수금수납,3:후불정산,4:영업곤리,5:미포스
                     AND ITEM.MODIFY_STATUS IN ('0','1') --매출조정 0:정상 , 1:조정
                     <#if internalYn == 'Y' > AND ITEM.RECEIPT_STATUS IN ('Q','R','E') </#if> --영수증 상태 Q:정상 R:반품(-)
                     <#if internalYn == 'N' > AND ITEM.RECEIPT_STATUS IN ('Q','R') </#if> --영수증 상태 Q:정상 R:반품(-)MST.RECEIPT_STATUS IN('Q','R')   --영수증 상태 Q:정상 R:반품(-)
                     AND ITEM.DATA_CLASS = '1'
                     AND ITEM.SALES_DATE BETWEEN :frSalesDt AND :toSalesDt                     									  
                     AND (1=2 
                     <#if w1 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '1' </#if>
                     <#if w2 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '2' </#if>
                     <#if w3 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '3' </#if>
                     <#if w4 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '4' </#if>
                     <#if w5 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '5' </#if>
                     <#if w6 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '6' </#if>
                     <#if w7 == 'Y' >	OR TO_CHAR(TO_DATE(ITEM.SALES_DATE,'YYYY-MM-DD'),'d') = '7' </#if>
                     )
                     AND ITEM.OUTLET_CD = :outletCd
                     
			         
			    )
			   GROUP BY MENU_CD, SALE_TIME
			   HAVING SALE_TIME = '01'
			   ORDER BY SALE_TIME
			  )S
			
			ON A.MENU_CD = S.MENU_CD
			
			 
        ORDER BY A.MENU_CD
		]]></statement>

</hqml>
